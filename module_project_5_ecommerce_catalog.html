<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Module 5 Project: Build a complete E-commerce Product Catalog with Shopping Cart using Context API, useReducer, and advanced React patterns with TypeScript.">
    <meta name="author" content="PracticalAce">
    <title>Module 5 Project: E-commerce Product Catalog - React TypeScript Course</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/png" href="/favicon.png">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#f0f0f0',
                primaryTextColor: '#333',
                primaryBorderColor: '#667eea'
            }
        });
    </script>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-to-main">Skip to main content</a>
    
    <!-- Progress indicator -->
    <div class="progress-indicator" role="progressbar" aria-label="Page scroll progress">
        <div class="progress-bar"></div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-logo">React TypeScript Course</a>
            <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-expanded="false" aria-controls="nav-links">
                ‚ò∞
            </button>
            <div class="nav-links" id="nav-links" aria-hidden="false">
                <a href="index.html">Home</a>
                <a href="index.html#modules">All Modules</a>
                <button id="theme-toggle" aria-label="Toggle theme">üåô</button>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#module5">Module 5: Advanced Hooks and Patterns</a></li>
            <li aria-current="page">Module Project: E-commerce Product Catalog</li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <div class="container">
            <!-- Project Header -->
            <header>
                <h1>üõçÔ∏è Module 5 Project: E-commerce Product Catalog</h1>
                <p class="lead">Welcome to your capstone project for Module 5! You're about to build a complete e-commerce product catalog with a fully functional shopping cart. This project brings together everything you've learned: useReducer for complex state management, Context for sharing data, useRef for DOM interactions, useMemo/useCallback for performance, and compound components for flexible UIs. Think of this as building a mini Amazon - you'll have product browsing, filtering, cart management, and checkout. By the end, you'll have a professional-grade application that showcases your mastery of advanced React patterns. Let's build something awesome! üöÄ</p>
                
                <!-- Project Overview -->
                <div class="card">
                    <h2>üéØ Project Overview</h2>
                    <p><strong>What You'll Build:</strong> A complete e-commerce product catalog with shopping cart functionality</p>
                    
                    <h3>Core Features:</h3>
                    <ul>
                        <li>üì¶ Product catalog with grid/list view toggle</li>
                        <li>üîç Search and filter products by category, price range</li>
                        <li>üõí Shopping cart with add/remove/update quantity</li>
                        <li>üí∞ Real-time cart total calculation</li>
                        <li>üé® Responsive design for mobile and desktop</li>
                        <li>‚ö° Performance optimizations with memoization</li>
                        <li>‚ôø Accessible UI components</li>
                        <li>üîê Type-safe with TypeScript</li>
                    </ul>
                    
                    <p><strong>Estimated Time:</strong> 3-4 hours</p>
                    <p><strong>Difficulty:</strong> Intermediate to Advanced</p>
                </div>

                <!-- Learning Objectives -->
                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h2>üéì Learning Objectives</h2>
                    <p>By completing this project, you will:</p>
                    <ul>
                        <li>‚úÖ Use useReducer to manage complex shopping cart state</li>
                        <li>‚úÖ Implement Context API for global state sharing</li>
                        <li>‚úÖ Apply useMemo and useCallback for performance optimization</li>
                        <li>‚úÖ Build compound components for flexible UI</li>
                        <li>‚úÖ Use useRef for DOM manipulation and focus management</li>
                        <li>‚úÖ Implement real-world e-commerce features</li>
                        <li>‚úÖ Handle complex TypeScript types and interfaces</li>
                        <li>‚úÖ Create a professional, production-ready application</li>
                    </ul>
                </div>
            </header>

            <!-- Sticky Table of Contents -->
            <details class="card" open style="position: sticky; top: 80px; z-index: 100; background: var(--card-bg, white); box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                <summary style="cursor: pointer; font-weight: bold; padding: 0.5rem 1rem; user-select: none;">
                    <h2 style="display: inline; margin: 0;">üìë Project Guide</h2>
                </summary>
                <nav aria-label="Table of Contents" style="padding: 0 1rem 1rem 1rem;">
                    <ol>
                        <li><a href="#section1" class="toc-link">Project Setup</a></li>
                        <li><a href="#section2" class="toc-link">Data Models and Types</a></li>
                        <li><a href="#section3" class="toc-link">Cart State with useReducer</a></li>
                        <li><a href="#section4" class="toc-link">Cart Context</a></li>
                        <li><a href="#section5" class="toc-link">Product Catalog Component</a></li>
                        <li><a href="#section6" class="toc-link">Shopping Cart Component</a></li>
                        <li><a href="#section7" class="toc-link">Filters and Search</a></li>
                        <li><a href="#section8" class="toc-link">Performance Optimization</a></li>
                        <li><a href="#section9" class="toc-link">Styling and Polish</a></li>
                        <li><a href="#section10" class="toc-link">Testing and Refinement</a></li>
                        <li><a href="#section11" class="toc-link">Bonus Features</a></li>
                        <li><a href="#section12" class="toc-link">Summary and Next Steps</a></li>
                    </ol>
                </nav>
            </details>

            <!-- Section 1: Project Setup -->
            <section id="section1" class="lesson-section">
                <h2>üöÄ Project Setup</h2>
                <p>Let's set up the foundation for our e-commerce application. We'll create the project structure and install any necessary dependencies.</p>

                <h3>Project Structure</h3>
                <div class="code-block">
                    <button class="copy-button">Copy</button>
                    <pre><code class="language-plaintext">ecommerce-catalog/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Cart/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Cart.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CartItem.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CartSummary.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Product/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductCard.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductGrid.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProductList.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Filters/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchBar.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryFilter.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PriceFilter.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Layout/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Header.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Layout.tsx
‚îÇ   ‚îú‚îÄ‚îÄ context/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CartContext.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CartReducer.ts
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ products.ts
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useCart.ts
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx
‚îÇ   ‚îî‚îÄ‚îÄ main.tsx
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ tsconfig.json</code></pre>
                </div>

                <h3>Initial Setup Commands</h3>
                <div class="code-block">
                    <button class="copy-button">Copy</button>
                    <pre><code class="language-bash"># Create new Vite project with React + TypeScript
npm create vite@latest ecommerce-catalog -- --template react-ts

# Navigate to project
cd ecommerce-catalog

# Install dependencies
npm install

# Start development server
npm run dev</code></pre>
                </div>

                <h3>File Structure Overview</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Directory/File</th>
                            <th>Purpose</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>components/</strong></td>
                            <td>All React components organized by feature</td>
                        </tr>
                        <tr>
                            <td><strong>context/</strong></td>
                            <td>Context providers and reducers for global state</td>
                        </tr>
                        <tr>
                            <td><strong>types/</strong></td>
                            <td>TypeScript interfaces and types</td>
                        </tr>
                        <tr>
                            <td><strong>data/</strong></td>
                            <td>Mock product data</td>
                        </tr>
                        <tr>
                            <td><strong>hooks/</strong></td>
                            <td>Custom hooks for reusable logic</td>
                        </tr>
                    </tbody>
                </table>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Development Tips</h4>
                    <ul>
                        <li>Start with types and interfaces - this guides everything else</li>
                        <li>Build the reducer and context first - it's the foundation</li>
                        <li>Create components incrementally - test as you go</li>
                        <li>Use console.log to debug state changes</li>
                        <li>Install React DevTools browser extension for debugging</li>
                    </ul>
                </div>
            </section>

            <!-- Section 2: Data Models and Types -->
            <section id="section2" class="lesson-section">
                <h2>üìã Data Models and Types</h2>
                <p>Let's define all the TypeScript interfaces and types we'll need. Good types make development easier and catch bugs early!</p>

                <h3>Product Type</h3>
                <div class="code-block">
                    <button class="copy-button">Copy</button>
                    <pre><code class="language-typescript">// src/types/index.ts

export interface Product {
    id: string;
    name: string;
    description: string;
    price: number;
    category: string;
    image: string;
    stock: number;
    rating: number;
    reviews: number;
}

export type ProductCategory = 
    | 'Electronics'
    | 'Clothing'
    | 'Books'
    | 'Home & Garden'
    | 'Sports'
    | 'All';

export interface PriceRange {
    min: number;
    max: number;
}</code></pre>
                </div>

                <h3>Cart Types</h3>
                <div class="code-block">
                    <button class="copy-button">Copy</button>
                    <pre><code class="language-typescript">// Cart item (product + quantity)
export interface CartItem {
    product: Product;
    quantity: number;
}

// Cart state
export interface CartState {
    items: CartItem[];
    total: number;
}

// Cart actions
export type CartAction =
    | { type: 'ADD_TO_CART'; payload: Product }
    | { type: 'REMOVE_FROM_CART'; payload: string } // product id
    | { type: 'UPDATE_QUANTITY'; payload: { id: string; quantity: number } }
    | { type: 'CLEAR_CART' }
    | { type: 'LOAD_CART'; payload: CartItem[] };

// Cart context value
export interface CartContextValue {
    state: CartState;
    addToCart: (product: Product) => void;
    removeFromCart: (productId: string) => void;
    updateQuantity: (productId: string, quantity: number) => void;
    clearCart: () => void;
    itemCount: number;
}</code></pre>
                </div>

                <h3>Filter Types</h3>
                <div class="code-block">
                    <button class="copy-button">Copy</button>
                    <pre><code class="language-typescript">export interface FilterState {
    searchQuery: string;
    category: ProductCategory;
    priceRange: PriceRange;
    sortBy: 'name' | 'price-asc' | 'price-desc' | 'rating';
}

export type ViewMode = 'grid' | 'list';</code></pre>
                </div>

                <h3>Mock Product Data</h3>
                <div class="code-block">
                    <button class="copy-button">Copy</button>
                    <pre><code class="language-typescript">// src/data/products.ts
import { Product } from '../types';

export const products: Product[] = [
    {
        id: '1',
        name: 'Wireless Headphones',
        description: 'Premium noise-cancelling wireless headphones with 30-hour battery life',
        price: 299.99,
        category: 'Electronics',
        image: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400',
        stock: 15,
        rating: 4.5,
        reviews: 234
    },
    {
        id: '2',
        name: 'Smart Watch',
        description: 'Fitness tracker with heart rate monitor and GPS',
        price: 199.99,
        category: 'Electronics',
        image: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400',
        stock: 25,
        rating: 4.3,
        reviews: 156
    },
    {
        id: '3',
        name: 'Laptop Backpack',
        description: 'Water-resistant backpack with laptop compartment',
        price: 49.99,
        category: 'Clothing',
        image: 'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400',
        stock: 42,
        rating: 4.7,
        reviews: 89
    },
    {
        id: '4',
        name: 'JavaScript: The Definitive Guide',
        description: 'Comprehensive guide to JavaScript programming',
        price: 39.99,
        category: 'Books',
        image: 'https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=400',
        stock: 30,
        rating: 4.8,
        reviews: 445
    },
    {
        id: '5',
        name: 'Coffee Maker',
        description: 'Programmable coffee maker with thermal carafe',
        price: 79.99,
        category: 'Home & Garden',
        image: 'https://images.unsplash.com/photo-1517668808822-9ebb02f2a0e6?w=400',
        stock: 18,
        rating: 4.4,
        reviews: 201
    },
    {
        id: '6',
        name: 'Yoga Mat',
        description: 'Non-slip yoga mat with carrying strap',
        price: 29.99,
        category: 'Sports',
        image: 'https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?w=400',
        stock: 55,
        rating: 4.6,
        reviews: 312
    },
    {
        id: '7',
        name: 'Bluetooth Speaker',
        description: 'Portable waterproof speaker with 20-hour battery',
        price: 89.99,
        category: 'Electronics',
        image: 'https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?w=400',
        stock: 33,
        rating: 4.5,
        reviews: 178
    },
    {
        id: '8',
        name: 'Running Shoes',
        description: 'Lightweight running shoes with cushioned sole',
        price: 119.99,
        category: 'Sports',
        image: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400',
        stock: 28,
        rating: 4.7,
        reviews: 267
    },
    {
        id: '9',
        name: 'LED Desk Lamp',
        description: 'Adjustable LED lamp with USB charging port',
        price: 34.99,
        category: 'Home & Garden',
        image: 'https://images.unsplash.com/photo-1507473885765-e6ed057f782c?w=400',
        stock: 47,
        rating: 4.3,
        reviews: 134
    },
    {
        id: '10',
        name: 'Cooking for Beginners',
        description: 'Essential cookbook with 100+ easy recipes',
        price: 24.99,
        category: 'Books',
        image: 'https://images.unsplash.com/photo-1512820790803-83ca734da794?w=400',
        stock: 61,
        rating: 4.6,
        reviews: 289
    },
    {
        id: '11',
        name: 'Wireless Mouse',
        description: 'Ergonomic wireless mouse with precision tracking',
        price: 39.99,
        category: 'Electronics',
        image: 'https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=400',
        stock: 75,
        rating: 4.4,
        reviews: 423
    },
    {
        id: '12',
        name: 'Denim Jacket',
        description: 'Classic denim jacket with modern fit',
        price: 69.99,
        category: 'Clothing',
        image: 'https://images.unsplash.com/photo-1576995853123-5a10305d93c0?w=400',
        stock: 22,
        rating: 4.5,
        reviews: 156
    }
];

// Helper function to get unique categories
export function getCategories(): ProductCategory[] {
    const categories = [...new Set(products.map(p => p.category))] as ProductCategory[];
    return ['All', ...categories];
}</code></pre>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Type Safety Benefits</h4>
                    <ul>
                        <li>Autocomplete for product properties</li>
                        <li>Compile-time error checking</li>
                        <li>Self-documenting code</li>
                        <li>Refactoring safety</li>
                        <li>Better IDE support</li>
                    </ul>
                </div>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>üí° Pro Tip: Images</h4>
                    <p>We're using Unsplash URLs for product images in this demo. In a real application, you would:</p>
                    <ul>
                        <li>Store images in a CDN or cloud storage</li>
                        <li>Optimize images for web (WebP format, multiple sizes)</li>
                        <li>Implement lazy loading</li>
                        <li>Provide fallback images for errors</li>
                    </ul>
                </div>
            </section>

            <!-- Section 3: Cart State with useReducer -->
            <section id="section3" class="lesson-section">
                <h2>üéØ Cart State with useReducer</h2>
                <p>Now let's build the heart of our application - the cart reducer that manages all shopping cart operations.</p>

                <h3>Why useReducer for Cart State?</h3>
                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Benefits of useReducer</h4>
                    <ul>
                        <li>Complex state logic (add, remove, update, calculate totals)</li>
                        <li>Multiple related state updates in one action</li>
                        <li>Predictable state transitions</li>
                        <li>Easy to test independently</li>
                        <li>Better for debugging (action history)</li>
                    </ul>
                </div>

                <h3>Cart Reducer Implementation</h3>
                <div class="code-block">
                    <button class="copy-button">Copy</button>
                    <pre><code class="language-typescript">// src/context/CartReducer.ts
import { CartState, CartAction, CartItem } from '../types';

// Helper function to calculate cart total
function calculateTotal(items: CartItem[]): number {
    return items.reduce((total, item) => {
        return total + (item.product.price * item.quantity);
    }, 0);
}

// Initial state
export const initialCartState: CartState = {
    items: [],
    total: 0
};

// Reducer function
export function cartReducer(state: CartState, action: CartAction): CartState {
    switch (action.type) {
        case 'ADD_TO_CART': {
            const existingItemIndex = state.items.findIndex(
                item => item.product.id === action.payload.id
            );
            
            let newItems: CartItem[];
            
            if (existingItemIndex > -1) {
                // Item already in cart - increase quantity
                newItems = state.items.map((item, index) => 
                    index === existingItemIndex
                        ? { ...item, quantity: item.quantity + 1 }
                        : item
                );
            } else {
                // New item - add to cart
                newItems = [
                    ...state.items,
                    { product: action.payload, quantity: 1 }
                ];
            }
            
            return {
                items: newItems,
                total: calculateTotal(newItems)
            };
        }
        
        case 'REMOVE_FROM_CART': {
            const newItems = state.items.filter(
                item => item.product.id !== action.payload
            );
            
            return {
                items: newItems,
                total: calculateTotal(newItems)
            };
        }
        
        case 'UPDATE_QUANTITY': {
            const { id, quantity } = action.payload;
            
            // Remove item if quantity is 0 or less
            if (quantity <= 0) {
                const newItems = state.items.filter(
                    item => item.product.id !== id
                );
                return {
                    items: newItems,
                    total: calculateTotal(newItems)
                };
            }
            
            // Update quantity
            const newItems = state.items.map(item =>
                item.product.id === id
                    ? { ...item, quantity }
                    : item
            );
            
            return {
                items: newItems,
                total: calculateTotal(newItems)
            };
        }
        
        case 'CLEAR_CART': {
            return initialCartState;
        }
        
        case 'LOAD_CART': {
            const items = action.payload;
            return {
                items,
                total: calculateTotal(items)
            };
        }
        
        default:
            return state;
    }
}</code></pre>
                </div>

                <h3>Understanding the Reducer</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Action</th>
                            <th>What It Does</th>
                            <th>State Changes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ADD_TO_CART</strong></td>
                            <td>Add product or increase quantity</td>
                            <td>Updates items array, recalculates total</td>
                        </tr>
                        <tr>
                            <td><strong>REMOVE_FROM_CART</strong></td>
                            <td>Remove product completely</td>
                            <td>Filters out item, recalculates total</td>
                        </tr>
                        <tr>
                            <td><strong>UPDATE_QUANTITY</strong></td>
                            <td>Change item quantity</td>
                            <td>Updates quantity, recalculates total</td>
                        </tr>
                        <tr>
                            <td><strong>CLEAR_CART</strong></td>
                            <td>Empty entire cart</td>
                            <td>Resets to initial state</td>
                        </tr>
                        <tr>
                            <td><strong>LOAD_CART</strong></td>
                            <td>Load cart from storage</td>
                            <td>Replaces items, calculates total</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Testing the Reducer</h3>
                <div class="code-block">
                    <button class="copy-button">Copy</button>
                    <pre><code class="language-typescript">// Example tests (conceptual - you can run these in console)
import { cartReducer, initialCartState } from './CartReducer';
import { products } from '../data/products';

// Test ADD_TO_CART
let state = cartReducer(initialCartState, {
    type: 'ADD_TO_CART',
    payload: products[0]
});
console.log('After adding product:', state);
// { items: [{ product: {...}, quantity: 1 }], total: 299.99 }

// Test adding same product again
state = cartReducer(state, {
    type: 'ADD_TO_CART',
    payload: products[0]
});
console.log('After adding again:', state);
// { items: [{ product: {...}, quantity: 2 }], total: 599.98 }

// Test UPDATE_QUANTITY
state = cartReducer(state, {
    type: 'UPDATE_QUANTITY',
    payload: { id: products[0].id, quantity: 5 }
});
console.log('After updating quantity:', state);
// { items: [{ product: {...}, quantity: 5 }], total: 1499.95 }

// Test REMOVE_FROM_CART
state = cartReducer(state, {
    type: 'REMOVE_FROM_CART',
    payload: products[0].id
});
console.log('After removing:', state);
// { items: [], total: 0 }</code></pre>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Reducer Best Practices</h4>
                    <ul>
                        <li>Always return a new state object (immutability)</li>
                        <li>Keep helper functions outside the reducer (calculateTotal)</li>
                        <li>Handle all edge cases (quantity <= 0, item not found)</li>
                        <li>Use TypeScript discriminated unions for actions</li>
                        <li>Make state transitions predictable and testable</li>
                    </ul>
                </div>
            </section>


            <!-- Section 4: Cart Context -->
            <section id="section4" class="lesson-section">
                <h2>üåê Step 5: Creating the Cart Context</h2>
                <p>Now that we have our reducer, let's wrap it in a Context to make cart functionality available throughout our application. This demonstrates the powerful combination of useReducer and useContext.</p>

                <h3>Understanding Context with Reducer</h3>
                <p>Context provides a way to share data globally without prop drilling. When combined with useReducer, it creates a pattern similar to Redux but with less boilerplate.</p>

                <div class="mermaid">
                graph TD
                    A[CartProvider] --> B[useReducer]
                    A --> C[Context Value]
                    C --> D[state]
                    C --> E[dispatch]
                    C --> F[Helper Functions]
                    G[Child Component 1] --> |useCartContext| C
                    H[Child Component 2] --> |useCartContext| C
                    I[Child Component 3] --> |useCartContext| C
                    
                    style A fill:#667eea,color:#fff
                    style C fill:#48bb78,color:#fff
                    style G fill:#f6e05e
                    style H fill:#f6e05e
                    style I fill:#f6e05e
                </div>

                <h3>Creating the Context Structure</h3>
                <p>Create <code>src/context/CartContext.tsx</code>:</p>

                <pre><code class="language-typescript">import React, { createContext, useContext, useReducer, ReactNode, useCallback } from 'react';
import { cartReducer, initialCartState, CartState, CartAction } from '../reducers/CartReducer';
import { Product } from '../types';

// Define what our context will provide
interface CartContextValue {
    // State
    state: CartState;
    
    // Actions (wrapped in helper functions)
    addToCart: (product: Product) => void;
    removeFromCart: (productId: number) => void;
    updateQuantity: (productId: number, quantity: number) => void;
    clearCart: () => void;
    
    // Computed values
    itemCount: number;
    isEmpty: boolean;
}

// Create the context with undefined default (will be provided by provider)
const CartContext = createContext&lt;CartContextValue | undefined&gt;(undefined);

// Provider Props
interface CartProviderProps {
    children: ReactNode;
}

// Provider Component
export function CartProvider({ children }: CartProviderProps) {
    // Use our reducer
    const [state, dispatch] = useReducer(cartReducer, initialCartState);
    
    // Helper functions that wrap dispatch
    // useCallback prevents recreating these on every render
    const addToCart = useCallback((product: Product) => {
        dispatch({ type: 'ADD_TO_CART', payload: product });
    }, []);
    
    const removeFromCart = useCallback((productId: number) => {
        dispatch({ type: 'REMOVE_FROM_CART', payload: productId });
    }, []);
    
    const updateQuantity = useCallback((productId: number, quantity: number) => {
        dispatch({ type: 'UPDATE_QUANTITY', payload: { id: productId, quantity } });
    }, []);
    
    const clearCart = useCallback(() => {
        dispatch({ type: 'CLEAR_CART' });
    }, []);
    
    // Computed values
    const itemCount = state.items.reduce((sum, item) => sum + item.quantity, 0);
    const isEmpty = state.items.length === 0;
    
    // Context value
    const value: CartContextValue = {
        state,
        addToCart,
        removeFromCart,
        updateQuantity,
        clearCart,
        itemCount,
        isEmpty
    };
    
    return (
        &lt;CartContext.Provider value={value}&gt;
            {children}
        &lt;/CartContext.Provider&gt;
    );
}

// Custom hook to use the cart context
export function useCartContext() {
    const context = useContext(CartContext);
    
    if (context === undefined) {
        throw new Error('useCartContext must be used within a CartProvider');
    }
    
    return context;
}</code></pre>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üìñ Key Concepts</h4>
                    <p style="color: white;"><strong>useCallback:</strong> Memoizes functions so they don't change on every render. Important when passing functions to child components or using them as dependencies.</p>
                    <p style="color: white;"><strong>Computed Values:</strong> Derived from state but not stored in state. Calculated on-demand for efficiency.</p>
                    <p style="color: white;"><strong>Custom Hook Pattern:</strong> Encapsulates context usage and provides better error messages.</p>
                </div>

                <h3>Setting Up the Provider</h3>
                <p>Wrap your application with the CartProvider in <code>src/App.tsx</code>:</p>

                <pre><code class="language-typescript">import React from 'react';
import { CartProvider } from './context/CartContext';
import ProductCatalog from './components/ProductCatalog';
import ShoppingCart from './components/ShoppingCart';
import './App.css';

function App() {
    return (
        &lt;CartProvider&gt;
            &lt;div className="app"&gt;
                &lt;header className="app-header"&gt;
                    &lt;h1&gt;üõí Tech Store&lt;/h1&gt;
                    &lt;p&gt;Premium Electronics &amp; Gadgets&lt;/p&gt;
                &lt;/header&gt;
                
                &lt;main className="app-main"&gt;
                    &lt;ProductCatalog /&gt;
                    &lt;ShoppingCart /&gt;
                &lt;/main&gt;
            &lt;/div&gt;
        &lt;/CartProvider&gt;
    );
}

export default App;</code></pre>

                <div class="card" style="background: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Common Pitfall</h4>
                    <p><strong>Provider Placement:</strong> Make sure the CartProvider wraps all components that need access to the cart. Components outside the provider will throw an error when trying to use <code>useCartContext()</code>.</p>
                </div>

                <h3>Using the Context in Components</h3>
                <p>Here's how any component can now access cart functionality:</p>

                <pre><code class="language-typescript">import React from 'react';
import { useCartContext } from '../context/CartContext';

function CartSummary() {
    // Get everything we need from context
    const { state, itemCount, isEmpty } = useCartContext();
    
    if (isEmpty) {
        return &lt;p&gt;Your cart is empty&lt;/p&gt;;
    }
    
    return (
        &lt;div className="cart-summary"&gt;
            &lt;p&gt;Items in cart: {itemCount}&lt;/p&gt;
            &lt;p&gt;Total: ${state.total.toFixed(2)}&lt;/p&gt;
        &lt;/div&gt;
    );
}

export default CartSummary;</code></pre>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise: Test the Context</h3>
                    <p>Create a simple component that uses the cart context:</p>
                    
                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use the <code>useCartContext</code> hook and try calling <code>addToCart</code> with a test product.</p>
                    </details>
                    
                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">import React from 'react';
import { useCartContext } from '../context/CartContext';

function TestCart() {
    const { addToCart, state, itemCount } = useCartContext();
    
    const testProduct = {
        id: 999,
        name: 'Test Product',
        price: 99.99,
        category: 'electronics',
        image: 'test.jpg',
        description: 'A test product',
        inStock: true,
        rating: 5
    };
    
    return (
        &lt;div&gt;
            &lt;button onClick={() => addToCart(testProduct)}&gt;
                Add Test Product
            &lt;/button&gt;
            &lt;p&gt;Items in cart: {itemCount}&lt;/p&gt;
            &lt;p&gt;Total: ${state.total.toFixed(2)}&lt;/p&gt;
        &lt;/div&gt;
    );
}

export default TestCart;</code></pre>
                    </details>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Context Best Practices</h4>
                    <ul>
                        <li><strong>Single Responsibility:</strong> Keep contexts focused (CartContext for cart only)</li>
                        <li><strong>Memoization:</strong> Use useCallback for functions to prevent unnecessary re-renders</li>
                        <li><strong>Error Handling:</strong> Custom hook throws helpful errors when used incorrectly</li>
                        <li><strong>Type Safety:</strong> Strongly type the context value for better DX</li>
                        <li><strong>Computed Values:</strong> Include commonly needed derived state in context</li>
                    </ul>
                </div>
            </section>

            <!-- Section 5: Product Catalog Component -->
            <section id="section5" class="lesson-section">
                <h2>üè™ Step 6: Building the Product Catalog</h2>
                <p>Now let's create the main product display component. This will show our products in a grid and allow users to add items to their cart.</p>

                <h3>Component Structure Overview</h3>
                <p>The Product Catalog will be composed of several smaller components working together:</p>

                <div class="mermaid">
                graph TD
                    A[ProductCatalog] --> B[ProductGrid]
                    A --> C[FilterBar]
                    B --> D[ProductCard]
                    B --> E[ProductCard]
                    B --> F[ProductCard]
                    D --> G[AddToCartButton]
                    E --> G
                    F --> G
                    
                    style A fill:#667eea,color:#fff
                    style B fill:#48bb78,color:#fff
                    style C fill:#ed8936,color:#fff
                    style D fill:#f6e05e
                    style E fill:#f6e05e
                    style F fill:#f6e05e
                </div>

                <h3>Creating Product Data</h3>
                <p>First, let's create our product data. Create <code>src/data/products.ts</code>:</p>

                <pre><code class="language-typescript">import { Product } from '../types';

export const products: Product[] = [
    {
        id: 1,
        name: 'Wireless Headphones Pro',
        price: 299.99,
        category: 'electronics',
        image: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=300',
        description: 'Premium wireless headphones with active noise cancellation and 30-hour battery life.',
        inStock: true,
        rating: 4.8
    },
    {
        id: 2,
        name: 'Smart Watch Ultra',
        price: 449.99,
        category: 'electronics',
        image: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=300',
        description: 'Advanced fitness tracking, heart rate monitoring, and GPS navigation.',
        inStock: true,
        rating: 4.6
    },
    {
        id: 3,
        name: 'Laptop Stand Aluminum',
        price: 79.99,
        category: 'accessories',
        image: 'https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=300',
        description: 'Ergonomic laptop stand with adjustable height and angle.',
        inStock: true,
        rating: 4.5
    },
    {
        id: 4,
        name: 'Mechanical Keyboard RGB',
        price: 159.99,
        category: 'electronics',
        image: 'https://images.unsplash.com/photo-1595225476474-87563907a212?w=300',
        description: 'Cherry MX switches with customizable RGB lighting and programmable keys.',
        inStock: false,
        rating: 4.9
    },
    {
        id: 5,
        name: 'Wireless Mouse Pro',
        price: 89.99,
        category: 'electronics',
        image: 'https://images.unsplash.com/photo-1527814050087-3793815479db?w=300',
        description: 'Precision tracking, ergonomic design, and 60-day battery life.',
        inStock: true,
        rating: 4.7
    },
    {
        id: 6,
        name: 'USB-C Hub 7-in-1',
        price: 49.99,
        category: 'accessories',
        image: 'https://images.unsplash.com/photo-1625948515291-69613efd103f?w=300',
        description: '7 ports including HDMI, USB 3.0, SD card reader, and power delivery.',
        inStock: true,
        rating: 4.4
    },
    {
        id: 7,
        name: 'Webcam 4K Ultra HD',
        price: 179.99,
        category: 'electronics',
        image: 'https://images.unsplash.com/photo-1587826080692-f439cd0b70da?w=300',
        description: '4K video, auto-focus, built-in microphone, and professional lighting.',
        inStock: true,
        rating: 4.6
    },
    {
        id: 8,
        name: 'Phone Stand Adjustable',
        price: 24.99,
        category: 'accessories',
        image: 'https://images.unsplash.com/photo-1601784551446-20c9e07cdbdb?w=300',
        description: 'Foldable phone stand compatible with all smartphones and tablets.',
        inStock: true,
        rating: 4.3
    }
];

// Helper function to get products by category
export function getProductsByCategory(category: string): Product[] {
    return products.filter(product => product.category === category);
}

// Helper function to search products
export function searchProducts(query: string): Product[] {
    const lowerQuery = query.toLowerCase();
    return products.filter(product => 
        product.name.toLowerCase().includes(lowerQuery) ||
        product.description.toLowerCase().includes(lowerQuery)
    );
}</code></pre>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Real-World Note</h4>
                    <p>In a production application, this data would come from an API. The structure we've created makes it easy to replace with API calls later using the data fetching patterns from Module 4.</p>
                </div>

                <h3>ProductCard Component</h3>
                <p>Create <code>src/components/ProductCard.tsx</code>:</p>

                <pre><code class="language-typescript">import React from 'react';
import { Product } from '../types';
import { useCartContext } from '../context/CartContext';
import './ProductCard.css';

interface ProductCardProps {
    product: Product;
}

function ProductCard({ product }: ProductCardProps) {
    const { addToCart, state } = useCartContext();
    
    // Check if product is already in cart
    const cartItem = state.items.find(item => item.product.id === product.id);
    const quantityInCart = cartItem?.quantity || 0;
    
    const handleAddToCart = () => {
        addToCart(product);
    };
    
    return (
        &lt;article className="product-card"&gt;
            {/* Product Image */}
            &lt;div className="product-image-wrapper"&gt;
                &lt;img 
                    src={product.image} 
                    alt={product.name}
                    className="product-image"
                /&gt;
                
                {/* Stock Badge */}
                {!product.inStock && (
                    &lt;span className="out-of-stock-badge"&gt;Out of Stock&lt;/span&gt;
                )}
                
                {/* Quantity Badge */}
                {quantityInCart > 0 && (
                    &lt;span className="quantity-badge"&gt;
                        {quantityInCart} in cart
                    &lt;/span&gt;
                )}
            &lt;/div&gt;
            
            {/* Product Info */}
            &lt;div className="product-info"&gt;
                &lt;h3 className="product-name"&gt;{product.name}&lt;/h3&gt;
                
                &lt;div className="product-rating"&gt;
                    {'‚≠ê'.repeat(Math.floor(product.rating))}
                    &lt;span className="rating-number"&gt;{product.rating}&lt;/span&gt;
                &lt;/div&gt;
                
                &lt;p className="product-description"&gt;{product.description}&lt;/p&gt;
                
                &lt;div className="product-footer"&gt;
                    &lt;span className="product-price"&gt;
                        ${product.price.toFixed(2)}
                    &lt;/span&gt;
                    
                    &lt;button 
                        onClick={handleAddToCart}
                        disabled={!product.inStock}
                        className={`add-to-cart-btn ${!product.inStock ? 'disabled' : ''}`}
                    &gt;
                        {product.inStock ? 'üõí Add to Cart' : '‚ùå Unavailable'}
                    &lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/article&gt;
    );
}

export default ProductCard;</code></pre>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üìñ Component Features</h4>
                    <p style="color: white;"><strong>Contextual Information:</strong> Shows quantity in cart if product is already added</p>
                    <p style="color: white;"><strong>Stock Status:</strong> Visual badge and disabled button for out-of-stock items</p>
                    <p style="color: white;"><strong>User Feedback:</strong> Clear visual states for different conditions</p>
                </div>

                <h3>ProductCard Styling</h3>
                <p>Create <code>src/components/ProductCard.css</code>:</p>

                <pre><code class="language-css">.product-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: transform 0.2s, box-shadow 0.2s;
    display: flex;
    flex-direction: column;
}

.product-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
}

.product-image-wrapper {
    position: relative;
    width: 100%;
    padding-top: 75%; /* 4:3 aspect ratio */
    overflow: hidden;
    background: #f7fafc;
}

.product-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.out-of-stock-badge {
    position: absolute;
    top: 12px;
    right: 12px;
    background: #e53e3e;
    color: white;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.875rem;
    font-weight: 600;
}

.quantity-badge {
    position: absolute;
    top: 12px;
    left: 12px;
    background: #48bb78;
    color: white;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.875rem;
    font-weight: 600;
}

.product-info {
    padding: 1.25rem;
    display: flex;
    flex-direction: column;
    flex: 1;
}

.product-name {
    font-size: 1.125rem;
    font-weight: 600;
    color: #2d3748;
    margin: 0 0 0.5rem 0;
}

.product-rating {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
    font-size: 0.875rem;
}

.rating-number {
    color: #718096;
    font-weight: 500;
}

.product-description {
    color: #718096;
    font-size: 0.875rem;
    line-height: 1.5;
    margin: 0 0 1rem 0;
    flex: 1;
}

.product-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    margin-top: auto;
}

.product-price {
    font-size: 1.5rem;
    font-weight: 700;
    color: #667eea;
}

.add-to-cart-btn {
    background: #667eea;
    color: white;
    border: none;
    padding: 0.625rem 1.25rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
    font-size: 0.875rem;
}

.add-to-cart-btn:hover:not(.disabled) {
    background: #5568d3;
}

.add-to-cart-btn.disabled {
    background: #cbd5e0;
    cursor: not-allowed;
}

@media (max-width: 768px) {
    .product-footer {
        flex-direction: column;
        align-items: stretch;
    }
    
    .add-to-cart-btn {
        width: 100%;
    }
}</code></pre>

                <h3>ProductCatalog Component</h3>
                <p>Now let's create the main catalog component in <code>src/components/ProductCatalog.tsx</code>:</p>

                <pre><code class="language-typescript">import React, { useState, useMemo } from 'react';
import ProductCard from './ProductCard';
import { products } from '../data/products';
import './ProductCatalog.css';

type FilterCategory = 'all' | 'electronics' | 'accessories';
type SortOption = 'name' | 'price-low' | 'price-high' | 'rating';

function ProductCatalog() {
    const [searchQuery, setSearchQuery] = useState('');
    const [categoryFilter, setCategoryFilter] = useState&lt;FilterCategory&gt;('all');
    const [sortBy, setSortBy] = useState&lt;SortOption&gt;('name');
    
    // Filter and sort products using useMemo for performance
    const displayedProducts = useMemo(() => {
        let filtered = products;
        
        // Filter by category
        if (categoryFilter !== 'all') {
            filtered = filtered.filter(p => p.category === categoryFilter);
        }
        
        // Filter by search query
        if (searchQuery.trim()) {
            const query = searchQuery.toLowerCase();
            filtered = filtered.filter(p => 
                p.name.toLowerCase().includes(query) ||
                p.description.toLowerCase().includes(query)
            );
        }
        
        // Sort
        const sorted = [...filtered];
        switch (sortBy) {
            case 'name':
                sorted.sort((a, b) => a.name.localeCompare(b.name));
                break;
            case 'price-low':
                sorted.sort((a, b) => a.price - b.price);
                break;
            case 'price-high':
                sorted.sort((a, b) => b.price - a.price);
                break;
            case 'rating':
                sorted.sort((a, b) => b.rating - a.rating);
                break;
        }
        
        return sorted;
    }, [searchQuery, categoryFilter, sortBy]);
    
    return (
        &lt;div className="product-catalog"&gt;
            {/* Filter Controls */}
            &lt;div className="catalog-controls"&gt;
                {/* Search */}
                &lt;div className="search-box"&gt;
                    &lt;input
                        type="text"
                        placeholder="üîç Search products..."
                        value={searchQuery}
                        onChange={(e) => setSearchQuery(e.target.value)}
                        className="search-input"
                    /&gt;
                &lt;/div&gt;
                
                {/* Category Filter */}
                &lt;div className="filter-group"&gt;
                    &lt;label&gt;Category:&lt;/label&gt;
                    &lt;select 
                        value={categoryFilter}
                        onChange={(e) => setCategoryFilter(e.target.value as FilterCategory)}
                        className="filter-select"
                    &gt;
                        &lt;option value="all"&gt;All Products&lt;/option&gt;
                        &lt;option value="electronics"&gt;Electronics&lt;/option&gt;
                        &lt;option value="accessories"&gt;Accessories&lt;/option&gt;
                    &lt;/select&gt;
                &lt;/div&gt;
                
                {/* Sort */}
                &lt;div className="filter-group"&gt;
                    &lt;label&gt;Sort by:&lt;/label&gt;
                    &lt;select 
                        value={sortBy}
                        onChange={(e) => setSortBy(e.target.value as SortOption)}
                        className="filter-select"
                    &gt;
                        &lt;option value="name"&gt;Name&lt;/option&gt;
                        &lt;option value="price-low"&gt;Price: Low to High&lt;/option&gt;
                        &lt;option value="price-high"&gt;Price: High to Low&lt;/option&gt;
                        &lt;option value="rating"&gt;Highest Rated&lt;/option&gt;
                    &lt;/select&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            
            {/* Results Count */}
            &lt;div className="results-info"&gt;
                Showing {displayedProducts.length} of {products.length} products
            &lt;/div&gt;
            
            {/* Product Grid */}
            {displayedProducts.length > 0 ? (
                &lt;div className="product-grid"&gt;
                    {displayedProducts.map(product => (
                        &lt;ProductCard key={product.id} product={product} /&gt;
                    ))}
                &lt;/div&gt;
            ) : (
                &lt;div className="no-results"&gt;
                    &lt;p&gt;üòî No products found&lt;/p&gt;
                    &lt;p&gt;Try adjusting your filters or search term&lt;/p&gt;
                &lt;/div&gt;
            )}
        &lt;/div&gt;
    );
}

export default ProductCatalog;</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Performance Optimization</h4>
                    <p><strong>useMemo:</strong> The filtering and sorting logic is wrapped in useMemo, so it only recalculates when dependencies change (searchQuery, categoryFilter, sortBy). This prevents expensive operations on every render.</p>
                </div>

                <h3>ProductCatalog Styling</h3>
                <p>Create <code>src/components/ProductCatalog.css</code>:</p>

                <pre><code class="language-css">.product-catalog {
    flex: 1;
    padding: 1.5rem;
}

.catalog-controls {
    background: white;
    padding: 1.5rem;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    margin-bottom: 1.5rem;
}

.search-box {
    flex: 1;
    min-width: 250px;
}

.search-input {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    font-size: 1rem;
    transition: border-color 0.2s;
}

.search-input:focus {
    outline: none;
    border-color: #667eea;
}

.filter-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.filter-group label {
    font-weight: 600;
    color: #4a5568;
    white-space: nowrap;
}

.filter-select {
    padding: 0.75rem 1rem;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    font-size: 1rem;
    background: white;
    cursor: pointer;
    transition: border-color 0.2s;
}

.filter-select:focus {
    outline: none;
    border-color: #667eea;
}

.results-info {
    margin-bottom: 1rem;
    color: #718096;
    font-size: 0.875rem;
}

.product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
}

.no-results {
    text-align: center;
    padding: 4rem 2rem;
    color: #718096;
}

.no-results p:first-child {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

@media (max-width: 768px) {
    .catalog-controls {
        flex-direction: column;
    }
    
    .search-box {
        min-width: 100%;
    }
    
    .filter-group {
        width: 100%;
        justify-content: space-between;
    }
    
    .filter-select {
        flex: 1;
    }
    
    .product-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 1rem;
    }
}</code></pre>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise: Add a Price Range Filter</h3>
                    <p>Enhance the ProductCatalog with a price range filter. Add state for min/max price and update the filtering logic.</p>
                    
                    <details>
                        <summary>üí° Hint</summary>
                        <p>Add two number inputs for min and max price. In the useMemo, add a filter that checks if the product price is within the range.</p>
                    </details>
                    
                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">// Add to state
const [priceRange, setPriceRange] = useState({ min: 0, max: 1000 });

// Add to useMemo filtering
if (priceRange.min > 0 || priceRange.max < 1000) {
    filtered = filtered.filter(p => 
        p.price >= priceRange.min && p.price <= priceRange.max
    );
}

// Add to controls
&lt;div className="filter-group"&gt;
    &lt;label&gt;Price Range:&lt;/label&gt;
    &lt;input
        type="number"
        value={priceRange.min}
        onChange={(e) => setPriceRange(prev => ({ 
            ...prev, 
            min: Number(e.target.value) 
        }))}
        min="0"
        max={priceRange.max}
    /&gt;
    &lt;span&gt;-&lt;/span&gt;
    &lt;input
        type="number"
        value={priceRange.max}
        onChange={(e) => setPriceRange(prev => ({ 
            ...prev, 
            max: Number(e.target.value) 
        }))}
        min={priceRange.min}
        max="1000"
    /&gt;
&lt;/div&gt;</code></pre>
                    </details>
                </div>
            </section>

            <!-- Section 6: Shopping Cart Component -->
            <section id="section6" class="lesson-section">
                <h2>üõí Step 7: Building the Shopping Cart</h2>
                <p>Now let's create the shopping cart component where users can review their items, update quantities, and see the total.</p>

                <h3>Cart Component Structure</h3>
                <p>The cart will feature:</p>
                <ul>
                    <li>üí≥ Cart summary with total and item count</li>
                    <li>üìù List of cart items with quantity controls</li>
                    <li>üóëÔ∏è Remove item functionality</li>
                    <li>‚ú® Empty cart state</li>
                    <li>üì± Collapsible on mobile</li>
                </ul>

                <div class="mermaid">
                graph TD
                    A[ShoppingCart] --> B[CartSummary]
                    A --> C[CartItemList]
                    C --> D[CartItem]
                    C --> E[CartItem]
                    D --> F[QuantityControls]
                    D --> G[RemoveButton]
                    E --> F
                    E --> G
                    
                    style A fill:#667eea,color:#fff
                    style B fill:#48bb78,color:#fff
                    style C fill:#ed8936,color:#fff
                </div>

                <h3>CartItem Component</h3>
                <p>First, let's create the individual cart item. Create <code>src/components/CartItem.tsx</code>:</p>

                <pre><code class="language-typescript">import React from 'react';
import { CartItem as CartItemType } from '../types';
import { useCartContext } from '../context/CartContext';
import './CartItem.css';

interface CartItemProps {
    item: CartItemType;
}

function CartItem({ item }: CartItemProps) {
    const { updateQuantity, removeFromCart } = useCartContext();
    const { product, quantity } = item;
    
    const itemTotal = product.price * quantity;
    
    const handleQuantityChange = (newQuantity: number) => {
        if (newQuantity >= 1) {
            updateQuantity(product.id, newQuantity);
        }
    };
    
    const handleIncrement = () => {
        handleQuantityChange(quantity + 1);
    };
    
    const handleDecrement = () => {
        if (quantity > 1) {
            handleQuantityChange(quantity - 1);
        }
    };
    
    const handleRemove = () => {
        if (window.confirm(`Remove ${product.name} from cart?`)) {
            removeFromCart(product.id);
        }
    };
    
    return (
        &lt;div className="cart-item"&gt;
            {/* Product Image */}
            &lt;img 
                src={product.image} 
                alt={product.name}
                className="cart-item-image"
            /&gt;
            
            {/* Product Details */}
            &lt;div className="cart-item-details"&gt;
                &lt;h4 className="cart-item-name"&gt;{product.name}&lt;/h4&gt;
                &lt;p className="cart-item-price"&gt;${product.price.toFixed(2)} each&lt;/p&gt;
                
                {/* Quantity Controls */}
                &lt;div className="quantity-controls"&gt;
                    &lt;button 
                        onClick={handleDecrement}
                        className="quantity-btn"
                        aria-label="Decrease quantity"
                    &gt;
                        ‚àí
                    &lt;/button&gt;
                    
                    &lt;input
                        type="number"
                        value={quantity}
                        onChange={(e) => handleQuantityChange(Number(e.target.value))}
                        min="1"
                        className="quantity-input"
                        aria-label="Quantity"
                    /&gt;
                    
                    &lt;button 
                        onClick={handleIncrement}
                        className="quantity-btn"
                        aria-label="Increase quantity"
                    &gt;
                        +
                    &lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            
            {/* Item Total and Remove */}
            &lt;div className="cart-item-actions"&gt;
                &lt;p className="cart-item-total"&gt;
                    ${itemTotal.toFixed(2)}
                &lt;/p&gt;
                &lt;button 
                    onClick={handleRemove}
                    className="remove-btn"
                    aria-label={`Remove ${product.name} from cart`}
                &gt;
                    üóëÔ∏è Remove
                &lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    );
}

export default CartItem;</code></pre>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üìñ UX Considerations</h4>
                    <p style="color: white;"><strong>Confirmation Dialog:</strong> We ask for confirmation before removing items to prevent accidental deletions.</p>
                    <p style="color: white;"><strong>Direct Input:</strong> Users can type a quantity directly or use increment/decrement buttons.</p>
                    <p style="color: white;"><strong>Accessibility:</strong> All buttons have aria-labels for screen readers.</p>
                </div>

                <h3>CartItem Styling</h3>
                <p>Create <code>src/components/CartItem.css</code>:</p>

                <pre><code class="language-css">.cart-item {
    display: flex;
    gap: 1rem;
    padding: 1rem;
    background: white;
    border-radius: 8px;
    border: 1px solid #e2e8f0;
    transition: box-shadow 0.2s;
}

.cart-item:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.cart-item-image {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: 8px;
    flex-shrink: 0;
}

.cart-item-details {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.cart-item-name {
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
    color: #2d3748;
}

.cart-item-price {
    margin: 0;
    font-size: 0.875rem;
    color: #718096;
}

.quantity-controls {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.quantity-btn {
    width: 32px;
    height: 32px;
    border: 2px solid #667eea;
    background: white;
    color: #667eea;
    border-radius: 6px;
    font-size: 1.25rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.quantity-btn:hover {
    background: #667eea;
    color: white;
}

.quantity-input {
    width: 60px;
    height: 32px;
    text-align: center;
    border: 2px solid #e2e8f0;
    border-radius: 6px;
    font-size: 1rem;
    font-weight: 600;
}

.quantity-input:focus {
    outline: none;
    border-color: #667eea;
}

/* Remove spinner from number input */
.quantity-input::-webkit-inner-spin-button,
.quantity-input::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.cart-item-actions {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    justify-content: space-between;
    gap: 0.5rem;
}

.cart-item-total {
    margin: 0;
    font-size: 1.25rem;
    font-weight: 700;
    color: #667eea;
    white-space: nowrap;
}

.remove-btn {
    background: #fed7d7;
    color: #c53030;
    border: none;
    padding: 0.5rem 0.75rem;
    border-radius: 6px;
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
}

.remove-btn:hover {
    background: #fc8181;
    color: white;
}

@media (max-width: 640px) {
    .cart-item {
        flex-direction: column;
    }
    
    .cart-item-image {
        width: 100%;
        height: 150px;
    }
    
    .cart-item-actions {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        width: 100%;
    }
}</code></pre>

                <h3>ShoppingCart Component</h3>
                <p>Now create the main cart component in <code>src/components/ShoppingCart.tsx</code>:</p>

                <pre><code class="language-typescript">import React, { useState } from 'react';
import { useCartContext } from '../context/CartContext';
import CartItem from './CartItem';
import './ShoppingCart.css';

function ShoppingCart() {
    const { state, isEmpty, itemCount, clearCart } = useCartContext();
    const [isOpen, setIsOpen] = useState(true);
    
    const handleClearCart = () => {
        if (window.confirm('Are you sure you want to clear your cart?')) {
            clearCart();
        }
    };
    
    const handleCheckout = () => {
        alert(`Checkout functionality coming soon!\nTotal: $${state.total.toFixed(2)}`);
    };
    
    return (
        &lt;aside className={`shopping-cart ${isOpen ? 'open' : 'closed'}`}&gt;
            {/* Cart Header */}
            &lt;div className="cart-header"&gt;
                &lt;h2&gt;
                    üõí Shopping Cart 
                    {!isEmpty && &lt;span className="cart-badge"&gt;{itemCount}&lt;/span&gt;}
                &lt;/h2&gt;
                &lt;button 
                    onClick={() => setIsOpen(!isOpen)}
                    className="toggle-cart-btn"
                    aria-label={isOpen ? 'Close cart' : 'Open cart'}
                &gt;
                    {isOpen ? '‚ñ∂' : '‚óÄ'}
                &lt;/button&gt;
            &lt;/div&gt;
            
            {/* Cart Content */}
            &lt;div className="cart-content"&gt;
                {isEmpty ? (
                    &lt;div className="empty-cart"&gt;
                        &lt;p className="empty-cart-icon"&gt;üõí&lt;/p&gt;
                        &lt;p className="empty-cart-text"&gt;Your cart is empty&lt;/p&gt;
                        &lt;p className="empty-cart-subtext"&gt;
                            Add some products to get started!
                        &lt;/p&gt;
                    &lt;/div&gt;
                ) : (
                    &lt;&gt;
                        {/* Cart Items */}
                        &lt;div className="cart-items"&gt;
                            {state.items.map(item => (
                                &lt;CartItem key={item.product.id} item={item} /&gt;
                            ))}
                        &lt;/div&gt;
                        
                        {/* Cart Summary */}
                        &lt;div className="cart-summary"&gt;
                            &lt;div className="summary-row"&gt;
                                &lt;span&gt;Subtotal:&lt;/span&gt;
                                &lt;span&gt;${state.total.toFixed(2)}&lt;/span&gt;
                            &lt;/div&gt;
                            &lt;div className="summary-row"&gt;
                                &lt;span&gt;Items:&lt;/span&gt;
                                &lt;span&gt;{itemCount}&lt;/span&gt;
                            &lt;/div&gt;
                            &lt;div className="summary-row total"&gt;
                                &lt;span&gt;Total:&lt;/span&gt;
                                &lt;span&gt;${state.total.toFixed(2)}&lt;/span&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        
                        {/* Cart Actions */}
                        &lt;div className="cart-actions"&gt;
                            &lt;button 
                                onClick={handleCheckout}
                                className="checkout-btn"
                            &gt;
                                üí≥ Checkout
                            &lt;/button&gt;
                            &lt;button 
                                onClick={handleClearCart}
                                className="clear-cart-btn"
                            &gt;
                                üóëÔ∏è Clear Cart
                            &lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/&gt;
                )}
            &lt;/div&gt;
        &lt;/aside&gt;
    );
}

export default ShoppingCart;</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Cart Features</h4>
                    <ul>
                        <li><strong>Collapsible:</strong> Save screen space on mobile by toggling the cart</li>
                        <li><strong>Empty State:</strong> Clear visual feedback when cart is empty</li>
                        <li><strong>Summary:</strong> Real-time calculation of total and item count</li>
                        <li><strong>Safety:</strong> Confirmation dialogs for destructive actions</li>
                    </ul>
                </div>

                <h3>ShoppingCart Styling</h3>
                <p>Create <code>src/components/ShoppingCart.css</code>:</p>

                <pre><code class="language-css">.shopping-cart {
    width: 400px;
    background: #f7fafc;
    border-left: 1px solid #e2e8f0;
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease;
}

.shopping-cart.closed {
    transform: translateX(100%);
}

.cart-header {
    background: white;
    padding: 1.5rem;
    border-bottom: 1px solid #e2e8f0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 10;
}

.cart-header h2 {
    margin: 0;
    font-size: 1.25rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.cart-badge {
    background: #667eea;
    color: white;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: 700;
}

.toggle-cart-btn {
    background: #e2e8f0;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    transition: background 0.2s;
    display: none;
}

.toggle-cart-btn:hover {
    background: #cbd5e0;
}

.cart-content {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.cart-items {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.empty-cart {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 3rem 1rem;
}

.empty-cart-icon {
    font-size: 4rem;
    margin: 0 0 1rem 0;
    opacity: 0.3;
}

.empty-cart-text {
    font-size: 1.125rem;
    font-weight: 600;
    color: #4a5568;
    margin: 0 0 0.5rem 0;
}

.empty-cart-subtext {
    color: #718096;
    margin: 0;
}

.cart-summary {
    background: white;
    padding: 1.25rem;
    border-radius: 8px;
    margin-top: auto;
}

.summary-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.75rem;
    font-size: 1rem;
}

.summary-row.total {
    border-top: 2px solid #e2e8f0;
    padding-top: 0.75rem;
    margin-top: 0.75rem;
    font-size: 1.25rem;
    font-weight: 700;
    color: #667eea;
}

.cart-actions {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.checkout-btn {
    background: #667eea;
    color: white;
    border: none;
    padding: 1rem;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
}

.checkout-btn:hover {
    background: #5568d3;
}

.clear-cart-btn {
    background: white;
    color: #c53030;
    border: 2px solid #fed7d7;
    padding: 0.75rem;
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.clear-cart-btn:hover {
    background: #fed7d7;
}

@media (max-width: 1024px) {
    .shopping-cart {
        position: fixed;
        right: 0;
        top: 0;
        height: 100vh;
        z-index: 1000;
        box-shadow: -4px 0 12px rgba(0, 0, 0, 0.15);
    }
    
    .toggle-cart-btn {
        display: block;
    }
}

@media (max-width: 640px) {
    .shopping-cart {
        width: 100%;
    }
}</code></pre>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise: Add Cart Persistence</h3>
                    <p>Enhance the cart by saving it to localStorage so it persists across page refreshes. Hint: Use a useEffect in the CartProvider.</p>
                    
                    <details>
                        <summary>üí° Hint</summary>
                        <p>Create a useEffect that runs whenever the cart state changes and saves it to localStorage. On mount, check if there's saved data and use it as initial state.</p>
                    </details>
                    
                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">// In CartProvider component
const CART_STORAGE_KEY = 'ecommerce-cart';

// Load initial state from localStorage
function getInitialState(): CartState {
    try {
        const saved = localStorage.getItem(CART_STORAGE_KEY);
        return saved ? JSON.parse(saved) : initialCartState;
    } catch (error) {
        console.error('Failed to load cart from localStorage:', error);
        return initialCartState;
    }
}

// Use the function to initialize state
const [state, dispatch] = useReducer(cartReducer, getInitialState());

// Save to localStorage whenever state changes
useEffect(() => {
    try {
        localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(state));
    } catch (error) {
        console.error('Failed to save cart to localStorage:', error);
    }
}, [state]);</code></pre>
                    </details>
                </div>

                <h3>Connecting Everything in App</h3>
                <p>Update your <code>src/App.tsx</code> to use both components:</p>

                <pre><code class="language-typescript">import React from 'react';
import { CartProvider } from './context/CartContext';
import ProductCatalog from './components/ProductCatalog';
import ShoppingCart from './components/ShoppingCart';
import './App.css';

function App() {
    return (
        &lt;CartProvider&gt;
            &lt;div className="app"&gt;
                &lt;header className="app-header"&gt;
                    &lt;div className="header-content"&gt;
                        &lt;h1&gt;üõí Tech Store&lt;/h1&gt;
                        &lt;p&gt;Premium Electronics &amp; Gadgets&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/header&gt;
                
                &lt;div className="app-layout"&gt;
                    &lt;ProductCatalog /&gt;
                    &lt;ShoppingCart /&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/CartProvider&gt;
    );
}

export default App;</code></pre>

                <h3>App Layout Styles</h3>
                <p>Update <code>src/App.css</code> for the overall layout:</p>

                <pre><code class="language-css">.app {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    background: #f7fafc;
}

.app-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 2rem 1.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.header-content {
    max-width: 1400px;
    margin: 0 auto;
}

.app-header h1 {
    margin: 0 0 0.5rem 0;
    font-size: 2rem;
}

.app-header p {
    margin: 0;
    opacity: 0.9;
    font-size: 1.125rem;
}

.app-layout {
    flex: 1;
    display: flex;
    max-width: 1400px;
    margin: 0 auto;
    width: 100%;
}

@media (max-width: 1024px) {
    .app-layout {
        flex-direction: column;
    }
}

@media (max-width: 640px) {
    .app-header {
        padding: 1.5rem 1rem;
    }
    
    .app-header h1 {
        font-size: 1.5rem;
    }
    
    .app-header p {
        font-size: 1rem;
    }
}</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ What We've Built</h4>
                    <p>You now have a fully functional e-commerce catalog with:</p>
                    <ul>
                        <li>‚úÖ Product display with images, ratings, and descriptions</li>
                        <li>‚úÖ Search and filter functionality</li>
                        <li>‚úÖ Sorting options</li>
                        <li>‚úÖ Add to cart with quantity tracking</li>
                        <li>‚úÖ Shopping cart with item management</li>
                        <li>‚úÖ Real-time total calculation</li>
                        <li>‚úÖ Responsive design for all devices</li>
                        <li>‚úÖ Professional styling and UX</li>
                    </ul>
                </div>

                <div class="card" style="background: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Testing Checklist</h4>
                    <p>Before moving forward, test these scenarios:</p>
                    <ol>
                        <li>Add products to cart and verify quantities update</li>
                        <li>Use search to filter products</li>
                        <li>Switch between category filters</li>
                        <li>Sort products by different criteria</li>
                        <li>Update quantities in the cart</li>
                        <li>Remove items from cart</li>
                        <li>Clear entire cart</li>
                        <li>Test on mobile viewport (use browser dev tools)</li>
                        <li>Try adding out-of-stock items (should be disabled)</li>
                    </ol>
                </div>
            </section>


            <!-- Section 7: Filters and Search -->
            <section id="section7" class="lesson-section">
                <h2>üîç Step 8: Advanced Filters and Search</h2>
                <p>Let's enhance our product catalog with more sophisticated filtering and search capabilities. We'll add features like multi-select filters, price ranges, and search highlighting.</p>

                <h3>Enhanced Filter Architecture</h3>
                <p>We'll create a more robust filtering system that can handle multiple criteria simultaneously:</p>

                <div class="mermaid">
                graph TD
                    A[User Input] --> B[Search Query]
                    A --> C[Category Filter]
                    A --> D[Price Range]
                    A --> E[Rating Filter]
                    A --> F[Stock Filter]
                    
                    B --> G[Filter Pipeline]
                    C --> G
                    D --> G
                    E --> G
                    F --> G
                    
                    G --> H[Sorted Results]
                    H --> I[Product Grid]
                    
                    style A fill:#667eea,color:#fff
                    style G fill:#48bb78,color:#fff
                    style I fill:#ed8936,color:#fff
                </div>

                <h3>Creating a Filter Hook</h3>
                <p>Let's create a custom hook to manage all our filters. Create <code>src/hooks/useProductFilters.ts</code>:</p>

                <pre><code class="language-typescript">import { useState, useMemo } from 'react';
import { Product } from '../types';

export interface FilterOptions {
    searchQuery: string;
    category: 'all' | 'electronics' | 'accessories';
    priceRange: { min: number; max: number };
    minRating: number;
    showOutOfStock: boolean;
}

export type SortOption = 'name' | 'price-low' | 'price-high' | 'rating';

const DEFAULT_FILTERS: FilterOptions = {
    searchQuery: '',
    category: 'all',
    priceRange: { min: 0, max: 1000 },
    minRating: 0,
    showOutOfStock: true
};

export function useProductFilters(products: Product[]) {
    const [filters, setFilters] = useState&lt;FilterOptions&gt;(DEFAULT_FILTERS);
    const [sortBy, setSortBy] = useState&lt;SortOption&gt;('name');
    
    // Update individual filter
    const updateFilter = &lt;K extends keyof FilterOptions&gt;(
        key: K,
        value: FilterOptions[K]
    ) => {
        setFilters(prev => ({ ...prev, [key]: value }));
    };
    
    // Reset all filters
    const resetFilters = () => {
        setFilters(DEFAULT_FILTERS);
        setSortBy('name');
    };
    
    // Apply all filters and sorting
    const filteredProducts = useMemo(() => {
        let result = products;
        
        // Search filter
        if (filters.searchQuery.trim()) {
            const query = filters.searchQuery.toLowerCase();
            result = result.filter(p => 
                p.name.toLowerCase().includes(query) ||
                p.description.toLowerCase().includes(query) ||
                p.category.toLowerCase().includes(query)
            );
        }
        
        // Category filter
        if (filters.category !== 'all') {
            result = result.filter(p => p.category === filters.category);
        }
        
        // Price range filter
        result = result.filter(p => 
            p.price >= filters.priceRange.min && 
            p.price <= filters.priceRange.max
        );
        
        // Rating filter
        if (filters.minRating > 0) {
            result = result.filter(p => p.rating >= filters.minRating);
        }
        
        // Stock filter
        if (!filters.showOutOfStock) {
            result = result.filter(p => p.inStock);
        }
        
        // Sort
        const sorted = [...result];
        switch (sortBy) {
            case 'name':
                sorted.sort((a, b) => a.name.localeCompare(b.name));
                break;
            case 'price-low':
                sorted.sort((a, b) => a.price - b.price);
                break;
            case 'price-high':
                sorted.sort((a, b) => b.price - a.price);
                break;
            case 'rating':
                sorted.sort((a, b) => b.rating - a.rating);
                break;
        }
        
        return sorted;
    }, [products, filters, sortBy]);
    
    // Active filter count (for UI badge)
    const activeFilterCount = useMemo(() => {
        let count = 0;
        if (filters.searchQuery.trim()) count++;
        if (filters.category !== 'all') count++;
        if (filters.priceRange.min > 0 || filters.priceRange.max < 1000) count++;
        if (filters.minRating > 0) count++;
        if (!filters.showOutOfStock) count++;
        return count;
    }, [filters]);
    
    return {
        filters,
        updateFilter,
        sortBy,
        setSortBy,
        resetFilters,
        filteredProducts,
        activeFilterCount
    };
}</code></pre>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üìñ Custom Hook Benefits</h4>
                    <p style="color: white;"><strong>Encapsulation:</strong> All filter logic is in one place, making it reusable and testable</p>
                    <p style="color: white;"><strong>Type Safety:</strong> Generic updateFilter function ensures type-safe updates</p>
                    <p style="color: white;"><strong>Performance:</strong> useMemo prevents unnecessary recalculations</p>
                    <p style="color: white;"><strong>DX:</strong> Simple API makes it easy to use in components</p>
                </div>

                <h3>Enhanced FilterBar Component</h3>
                <p>Create a dedicated component for filters in <code>src/components/FilterBar.tsx</code>:</p>

                <pre><code class="language-typescript">import React from 'react';
import { FilterOptions, SortOption } from '../hooks/useProductFilters';
import './FilterBar.css';

interface FilterBarProps {
    filters: FilterOptions;
    onFilterChange: &lt;K extends keyof FilterOptions&gt;(
        key: K,
        value: FilterOptions[K]
    ) => void;
    sortBy: SortOption;
    onSortChange: (sort: SortOption) => void;
    onReset: () => void;
    activeFilterCount: number;
    totalProducts: number;
    filteredCount: number;
}

function FilterBar({
    filters,
    onFilterChange,
    sortBy,
    onSortChange,
    onReset,
    activeFilterCount,
    totalProducts,
    filteredCount
}: FilterBarProps) {
    return (
        &lt;div className="filter-bar"&gt;
            {/* Search Box */}
            &lt;div className="filter-section search-section"&gt;
                &lt;label htmlFor="search"&gt;üîç Search&lt;/label&gt;
                &lt;input
                    id="search"
                    type="text"
                    placeholder="Search products..."
                    value={filters.searchQuery}
                    onChange={(e) => onFilterChange('searchQuery', e.target.value)}
                    className="search-input"
                /&gt;
            &lt;/div&gt;
            
            {/* Category Filter */}
            &lt;div className="filter-section"&gt;
                &lt;label htmlFor="category"&gt;üì¶ Category&lt;/label&gt;
                &lt;select
                    id="category"
                    value={filters.category}
                    onChange={(e) => onFilterChange('category', e.target.value as any)}
                    className="filter-select"
                &gt;
                    &lt;option value="all"&gt;All Categories&lt;/option&gt;
                    &lt;option value="electronics"&gt;Electronics&lt;/option&gt;
                    &lt;option value="accessories"&gt;Accessories&lt;/option&gt;
                &lt;/select&gt;
            &lt;/div&gt;
            
            {/* Price Range */}
            &lt;div className="filter-section price-section"&gt;
                &lt;label&gt;üí∞ Price Range&lt;/label&gt;
                &lt;div className="price-inputs"&gt;
                    &lt;input
                        type="number"
                        placeholder="Min"
                        value={filters.priceRange.min}
                        onChange={(e) => onFilterChange('priceRange', {
                            ...filters.priceRange,
                            min: Number(e.target.value)
                        })}
                        min="0"
                        className="price-input"
                    /&gt;
                    &lt;span className="price-separator"&gt;-&lt;/span&gt;
                    &lt;input
                        type="number"
                        placeholder="Max"
                        value={filters.priceRange.max}
                        onChange={(e) => onFilterChange('priceRange', {
                            ...filters.priceRange,
                            max: Number(e.target.value)
                        })}
                        min={filters.priceRange.min}
                        className="price-input"
                    /&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            
            {/* Rating Filter */}
            &lt;div className="filter-section"&gt;
                &lt;label htmlFor="rating"&gt;‚≠ê Min Rating&lt;/label&gt;
                &lt;select
                    id="rating"
                    value={filters.minRating}
                    onChange={(e) => onFilterChange('minRating', Number(e.target.value))}
                    className="filter-select"
                &gt;
                    &lt;option value="0"&gt;Any Rating&lt;/option&gt;
                    &lt;option value="4"&gt;4+ Stars&lt;/option&gt;
                    &lt;option value="4.5"&gt;4.5+ Stars&lt;/option&gt;
                &lt;/select&gt;
            &lt;/div&gt;
            
            {/* Stock Filter */}
            &lt;div className="filter-section checkbox-section"&gt;
                &lt;label className="checkbox-label"&gt;
                    &lt;input
                        type="checkbox"
                        checked={filters.showOutOfStock}
                        onChange={(e) => onFilterChange('showOutOfStock', e.target.checked)}
                    /&gt;
                    &lt;span&gt;Show out of stock&lt;/span&gt;
                &lt;/label&gt;
            &lt;/div&gt;
            
            {/* Sort */}
            &lt;div className="filter-section"&gt;
                &lt;label htmlFor="sort"&gt;üîÑ Sort By&lt;/label&gt;
                &lt;select
                    id="sort"
                    value={sortBy}
                    onChange={(e) => onSortChange(e.target.value as SortOption)}
                    className="filter-select"
                &gt;
                    &lt;option value="name"&gt;Name&lt;/option&gt;
                    &lt;option value="price-low"&gt;Price: Low to High&lt;/option&gt;
                    &lt;option value="price-high"&gt;Price: High to Low&lt;/option&gt;
                    &lt;option value="rating"&gt;Highest Rated&lt;/option&gt;
                &lt;/select&gt;
            &lt;/div&gt;
            
            {/* Results Info and Reset */}
            &lt;div className="filter-section results-section"&gt;
                &lt;div className="results-info"&gt;
                    Showing {filteredCount} of {totalProducts} products
                    {activeFilterCount > 0 && (
                        &lt;span className="active-filters-badge"&gt;
                            {activeFilterCount} filter{activeFilterCount !== 1 ? 's' : ''}
                        &lt;/span&gt;
                    )}
                &lt;/div&gt;
                {activeFilterCount > 0 && (
                    &lt;button onClick={onReset} className="reset-btn"&gt;
                        üîÑ Reset Filters
                    &lt;/button&gt;
                )}
            &lt;/div&gt;
        &lt;/div&gt;
    );
}

export default FilterBar;</code></pre>

                <h3>FilterBar Styling</h3>
                <p>Create <code>src/components/FilterBar.css</code>:</p>

                <pre><code class="language-css">.filter-bar {
    background: white;
    padding: 1.5rem;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.25rem;
    margin-bottom: 1.5rem;
}

.filter-section {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.filter-section label {
    font-weight: 600;
    color: #4a5568;
    font-size: 0.875rem;
}

.search-section {
    grid-column: 1 / -1;
}

.search-input,
.filter-select,
.price-input {
    padding: 0.75rem 1rem;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    font-size: 1rem;
    transition: border-color 0.2s;
    background: white;
}

.search-input:focus,
.filter-select:focus,
.price-input:focus {
    outline: none;
    border-color: #667eea;
}

.price-section .price-inputs {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.price-input {
    flex: 1;
}

.price-separator {
    color: #718096;
    font-weight: 600;
}

.checkbox-section {
    justify-content: flex-end;
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    padding: 0.75rem 0;
}

.checkbox-label input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
}

.results-section {
    grid-column: 1 / -1;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    padding-top: 1rem;
    border-top: 1px solid #e2e8f0;
}

.results-info {
    color: #718096;
    font-size: 0.875rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.active-filters-badge {
    background: #667eea;
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
}

.reset-btn {
    background: #f7fafc;
    color: #667eea;
    border: 2px solid #667eea;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.875rem;
}

.reset-btn:hover {
    background: #667eea;
    color: white;
}

@media (max-width: 768px) {
    .filter-bar {
        grid-template-columns: 1fr;
    }
    
    .results-section {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
    }
    
    .reset-btn {
        width: 100%;
    }
}</code></pre>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise: Add Search Highlighting</h3>
                    <p>Enhance the ProductCard to highlight matching search terms in the product name and description.</p>
                    
                    <details>
                        <summary>üí° Hint</summary>
                        <p>Create a helper function that wraps matching text in a &lt;mark&gt; element. Use it when rendering the product name and description.</p>
                    </details>
                    
                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">// Helper function to highlight search matches
function highlightText(text: string, query: string): JSX.Element {
    if (!query.trim()) {
        return &lt;&gt;{text}&lt;/&gt;;
    }
    
    const parts = text.split(new RegExp(`(${query})`, 'gi'));
    return (
        &lt;&gt;
            {parts.map((part, index) => 
                part.toLowerCase() === query.toLowerCase() ? (
                    &lt;mark key={index} style={{ 
                        background: '#fef3c7', 
                        padding: '0 2px',
                        borderRadius: '2px'
                    }}&gt;
                        {part}
                    &lt;/mark&gt;
                ) : (
                    &lt;span key={index}&gt;{part}&lt;/span&gt;
                )
            )}
        &lt;/&gt;
    );
}

// In ProductCard component, pass searchQuery as prop and use:
&lt;h3 className="product-name"&gt;
    {highlightText(product.name, searchQuery)}
&lt;/h3&gt;</code></pre>
                    </details>
                </div>

                <h3>Updated ProductCatalog with FilterBar</h3>
                <p>Update <code>src/components/ProductCatalog.tsx</code> to use the new hook and FilterBar:</p>

                <pre><code class="language-typescript">import React from 'react';
import ProductCard from './ProductCard';
import FilterBar from './FilterBar';
import { products } from '../data/products';
import { useProductFilters } from '../hooks/useProductFilters';
import './ProductCatalog.css';

function ProductCatalog() {
    const {
        filters,
        updateFilter,
        sortBy,
        setSortBy,
        resetFilters,
        filteredProducts,
        activeFilterCount
    } = useProductFilters(products);
    
    return (
        &lt;div className="product-catalog"&gt;
            &lt;FilterBar
                filters={filters}
                onFilterChange={updateFilter}
                sortBy={sortBy}
                onSortChange={setSortBy}
                onReset={resetFilters}
                activeFilterCount={activeFilterCount}
                totalProducts={products.length}
                filteredCount={filteredProducts.length}
            /&gt;
            
            {filteredProducts.length > 0 ? (
                &lt;div className="product-grid"&gt;
                    {filteredProducts.map(product => (
                        &lt;ProductCard 
                            key={product.id} 
                            product={product}
                            searchQuery={filters.searchQuery}
                        /&gt;
                    ))}
                &lt;/div&gt;
            ) : (
                &lt;div className="no-results"&gt;
                    &lt;p className="no-results-icon"&gt;üòî&lt;/p&gt;
                    &lt;p className="no-results-text"&gt;No products found&lt;/p&gt;
                    &lt;p className="no-results-subtext"&gt;
                        Try adjusting your filters or search term
                    &lt;/p&gt;
                    &lt;button onClick={resetFilters} className="reset-btn-large"&gt;
                        üîÑ Reset All Filters
                    &lt;/button&gt;
                &lt;/div&gt;
            )}
        &lt;/div&gt;
    );
}

export default ProductCatalog;</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Filter System Benefits</h4>
                    <ul>
                        <li><strong>Separation of Concerns:</strong> Logic in hook, UI in component</li>
                        <li><strong>Composable:</strong> Easy to add/remove filters</li>
                        <li><strong>Type-Safe:</strong> Generic function ensures correct types</li>
                        <li><strong>User Feedback:</strong> Shows active filter count and results</li>
                        <li><strong>Reset Capability:</strong> Quick way to clear all filters</li>
                    </ul>
                </div>
            </section>

            <!-- Section 8: Performance Optimization -->
            <section id="section8" class="lesson-section">
                <h2>‚ö° Step 9: Performance Optimization</h2>
                <p>Now that our e-commerce app is feature-complete, let's optimize its performance using React's built-in tools and best practices.</p>

                <h3>Performance Optimization Strategy</h3>
                <div class="mermaid">
                graph TD
                    A[Performance Goals] --> B[Prevent Unnecessary Renders]
                    A --> C[Optimize Expensive Operations]
                    A --> D[Lazy Load Components]
                    A --> E[Debounce User Input]
                    
                    B --> F[React.memo]
                    B --> G[useCallback]
                    C --> H[useMemo]
                    D --> I[React.lazy]
                    E --> J[Custom debounce hook]
                    
                    style A fill:#667eea,color:#fff
                    style B fill:#48bb78,color:#fff
                    style C fill:#ed8936,color:#fff
                    style D fill:#f6ad55,color:#fff
                    style E fill:#fc8181,color:#fff
                </div>

                <h3>1. Memoizing Components with React.memo</h3>
                <p>Wrap components that receive the same props frequently to prevent unnecessary re-renders:</p>

                <pre><code class="language-typescript">// Update ProductCard.tsx
import React, { memo } from 'react';
import { Product } from '../types';
import { useCartContext } from '../context/CartContext';
import './ProductCard.css';

interface ProductCardProps {
    product: Product;
    searchQuery?: string;
}

function ProductCardComponent({ product, searchQuery = '' }: ProductCardProps) {
    const { addToCart, state } = useCartContext();
    
    // ... rest of component code
    
    return (
        &lt;article className="product-card"&gt;
            {/* ... */}
        &lt;/article&gt;
    );
}

// Memoize the component - only re-renders if props change
export default memo(ProductCardComponent);</code></pre>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üìñ React.memo Explained</h4>
                    <p style="color: white;"><strong>Purpose:</strong> Prevents re-renders when props haven't changed</p>
                    <p style="color: white;"><strong>When to Use:</strong> Components that render often with the same props</p>
                    <p style="color: white;"><strong>Shallow Comparison:</strong> By default, compares props using shallow equality</p>
                </div>

                <h3>2. Creating a Debounced Search Hook</h3>
                <p>Debouncing prevents excessive filtering while the user is typing. Create <code>src/hooks/useDebounce.ts</code>:</p>

                <pre><code class="language-typescript">import { useState, useEffect } from 'react';

/**
 * Debounces a value by delaying updates until after a specified delay
 * Useful for search inputs to reduce filtering operations
 */
export function useDebounce&lt;T&gt;(value: T, delay: number = 300): T {
    const [debouncedValue, setDebouncedValue] = useState&lt;T&gt;(value);
    
    useEffect(() => {
        // Set up a timer to update the debounced value after delay
        const timer = setTimeout(() => {
            setDebouncedValue(value);
        }, delay);
        
        // Clean up the timer if value changes before delay expires
        return () => {
            clearTimeout(timer);
        };
    }, [value, delay]);
    
    return debouncedValue;
}

// Usage example:
// const debouncedSearch = useDebounce(searchQuery, 300);
// Now use debouncedSearch in your filtering logic instead of searchQuery</code></pre>

                <h3>Implementing Debounced Search</h3>
                <p>Update the filter hook to use debouncing:</p>

                <pre><code class="language-typescript">// In useProductFilters.ts
import { useDebounce } from './useDebounce';

export function useProductFilters(products: Product[]) {
    const [filters, setFilters] = useState&lt;FilterOptions&gt;(DEFAULT_FILTERS);
    const [sortBy, setSortBy] = useState&lt;SortOption&gt;('name');
    
    // Debounce the search query to reduce filtering operations
    const debouncedSearchQuery = useDebounce(filters.searchQuery, 300);
    
    // Apply all filters and sorting
    const filteredProducts = useMemo(() => {
        let result = products;
        
        // Use debounced search query instead of immediate value
        if (debouncedSearchQuery.trim()) {
            const query = debouncedSearchQuery.toLowerCase();
            result = result.filter(p => 
                p.name.toLowerCase().includes(query) ||
                p.description.toLowerCase().includes(query) ||
                p.category.toLowerCase().includes(query)
            );
        }
        
        // ... rest of filtering logic
        
    }, [products, debouncedSearchQuery, filters.category, 
        filters.priceRange, filters.minRating, 
        filters.showOutOfStock, sortBy]);
    
    // ... rest of hook
}</code></pre>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Debouncing Benefits</h4>
                    <p><strong>Performance:</strong> Reduces filtering operations from ~10/second to 1 every 300ms</p>
                    <p><strong>User Experience:</strong> Smoother interaction, less CPU usage</p>
                    <p><strong>Network Savings:</strong> Essential when search triggers API calls</p>
                </div>

                <h3>3. Optimizing Cart Context</h3>
                <p>Ensure cart context functions are properly memoized:</p>

                <pre><code class="language-typescript">// In CartContext.tsx - ensure all callbacks use useCallback
export function CartProvider({ children }: CartProviderProps) {
    const [state, dispatch] = useReducer(cartReducer, initialCartState);
    
    // Memoize all action functions
    const addToCart = useCallback((product: Product) => {
        dispatch({ type: 'ADD_TO_CART', payload: product });
    }, []); // Empty deps - function never changes
    
    const removeFromCart = useCallback((productId: number) => {
        dispatch({ type: 'REMOVE_FROM_CART', payload: productId });
    }, []);
    
    const updateQuantity = useCallback((productId: number, quantity: number) => {
        dispatch({ type: 'UPDATE_QUANTITY', payload: { id: productId, quantity } });
    }, []);
    
    const clearCart = useCallback(() => {
        dispatch({ type: 'CLEAR_CART' });
    }, []);
    
    // Memoize computed values
    const itemCount = useMemo(
        () => state.items.reduce((sum, item) => sum + item.quantity, 0),
        [state.items]
    );
    
    const isEmpty = useMemo(
        () => state.items.length === 0,
        [state.items]
    );
    
    // Memoize the entire context value to prevent unnecessary re-renders
    const value = useMemo(() => ({
        state,
        addToCart,
        removeFromCart,
        updateQuantity,
        clearCart,
        itemCount,
        isEmpty
    }), [state, addToCart, removeFromCart, updateQuantity, clearCart, itemCount, isEmpty]);
    
    return (
        &lt;CartContext.Provider value={value}&gt;
            {children}
        &lt;/CartContext.Provider&gt;
    );
}</code></pre>

                <h3>4. Virtualizing Long Lists (Optional Enhancement)</h3>
                <p>For catalogs with hundreds of products, consider virtualization:</p>

                <pre><code class="language-typescript">// Install: npm install react-window
// This is an advanced optimization for very large lists

import { FixedSizeGrid } from 'react-window';

function VirtualizedProductGrid({ products }: { products: Product[] }) {
    const columnCount = 3;
    const rowCount = Math.ceil(products.length / columnCount);
    
    const Cell = ({ columnIndex, rowIndex, style }: any) => {
        const index = rowIndex * columnCount + columnIndex;
        const product = products[index];
        
        if (!product) return null;
        
        return (
            &lt;div style={style}&gt;
                &lt;ProductCard product={product} /&gt;
            &lt;/div&gt;
        );
    };
    
    return (
        &lt;FixedSizeGrid
            columnCount={columnCount}
            columnWidth={300}
            height={800}
            rowCount={rowCount}
            rowHeight={400}
            width={1000}
        &gt;
            {Cell}
        &lt;/FixedSizeGrid&gt;
    );
}</code></pre>

                <div class="card" style="background: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è When to Virtualize</h4>
                    <p>Only implement virtualization if:</p>
                    <ul>
                        <li>You have 100+ items in your list</li>
                        <li>Users are experiencing performance issues</li>
                        <li>Rendering all items causes noticeable lag</li>
                    </ul>
                    <p>For most e-commerce catalogs with pagination, standard rendering is fine.</p>
                </div>

                <h3>5. Performance Monitoring</h3>
                <p>Add performance monitoring to track render counts (development only):</p>

                <pre><code class="language-typescript">// Create src/utils/performance.ts
export function useRenderCount(componentName: string) {
    const renderCount = useRef(0);
    
    useEffect(() => {
        renderCount.current += 1;
        console.log(`${componentName} rendered ${renderCount.current} times`);
    });
}

// Usage in a component (remove in production):
function ProductCard({ product }: ProductCardProps) {
    useRenderCount('ProductCard');
    // ... rest of component
}</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Performance Checklist</h4>
                    <ul>
                        <li>‚úÖ Memoize expensive computations with useMemo</li>
                        <li>‚úÖ Memoize callbacks with useCallback</li>
                        <li>‚úÖ Wrap pure components with React.memo</li>
                        <li>‚úÖ Debounce user input (especially search)</li>
                        <li>‚úÖ Avoid unnecessary state updates</li>
                        <li>‚úÖ Use proper dependency arrays</li>
                        <li>‚úÖ Profile with React DevTools</li>
                    </ul>
                </div>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise: Measure Performance Impact</h3>
                    <p>Use React DevTools Profiler to measure the performance improvement from memoization.</p>
                    
                    <details>
                        <summary>üí° Steps</summary>
                        <ol>
                            <li>Install React DevTools browser extension</li>
                            <li>Open Profiler tab</li>
                            <li>Start recording</li>
                            <li>Perform actions (add to cart, filter, search)</li>
                            <li>Stop recording</li>
                            <li>Compare render times before and after optimization</li>
                        </ol>
                    </details>
                    
                    <details>
                        <summary>‚úÖ What to Look For</summary>
                        <ul>
                            <li>Fewer re-renders of memoized components</li>
                            <li>Shorter render duration overall</li>
                            <li>Components with gray (skipped) renders in the profiler</li>
                            <li>Reduced "wasted" renders</li>
                        </ul>
                    </details>
                </div>
            </section>

            <!-- Section 9: Styling and Polish -->
            <section id="section9" class="lesson-section">
                <h2>‚ú® Step 10: Styling and Polish</h2>
                <p>Let's add the finishing touches to make our e-commerce application professional and visually appealing.</p>

                <h3>Enhanced Visual Design</h3>
                <p>We'll focus on:</p>
                <ul>
                    <li>üé® Consistent color palette and spacing</li>
                    <li>üåà Smooth animations and transitions</li>
                    <li>üì± Perfect responsive behavior</li>
                    <li>‚ôø Improved accessibility</li>
                    <li>‚ú® Micro-interactions for better UX</li>
                </ul>

                <h3>Global Styles and CSS Variables</h3>
                <p>Update your global styles for consistency. Create <code>src/index.css</code>:</p>

                <pre><code class="language-css">/* CSS Variables for theming */
:root {
    /* Colors */
    --primary: #667eea;
    --primary-dark: #5568d3;
    --primary-light: #eef2ff;
    
    --secondary: #764ba2;
    
    --success: #48bb78;
    --success-light: #e8f5e9;
    
    --warning: #ffc107;
    --warning-light: #fff3cd;
    
    --danger: #e53e3e;
    --danger-light: #fed7d7;
    
    --info: #2196F3;
    --info-light: #e3f2fd;
    
    /* Neutrals */
    --gray-50: #f7fafc;
    --gray-100: #edf2f7;
    --gray-200: #e2e8f0;
    --gray-300: #cbd5e0;
    --gray-400: #a0aec0;
    --gray-500: #718096;
    --gray-600: #4a5568;
    --gray-700: #2d3748;
    --gray-800: #1a202c;
    --gray-900: #171923;
    
    /* Spacing */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    --spacing-2xl: 3rem;
    
    /* Border radius */
    --radius-sm: 6px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;
    --radius-full: 9999px;
    
    /* Shadows */
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.15);
    --shadow-xl: 0 8px 32px rgba(0, 0, 0, 0.2);
    
    /* Transitions */
    --transition-fast: 150ms ease;
    --transition-base: 200ms ease;
    --transition-slow: 300ms ease;
}

/* Global Resets and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 
                 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',
                 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color: var(--gray-700);
    background: var(--gray-50);
    line-height: 1.6;
}

/* Focus styles for accessibility */
*:focus-visible {
    outline: 3px solid var(--primary);
    outline-offset: 2px;
}

/* Button reset */
button {
    font-family: inherit;
    cursor: pointer;
}

/* Link styles */
a {
    color: var(--primary);
    text-decoration: none;
    transition: color var(--transition-fast);
}

a:hover {
    color: var(--primary-dark);
}

/* Selection color */
::selection {
    background: var(--primary-light);
    color: var(--primary-dark);
}

/* Scrollbar styling */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: var(--gray-100);
}

::-webkit-scrollbar-thumb {
    background: var(--gray-300);
    border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--gray-400);
}</code></pre>

                <h3>Adding Loading States</h3>
                <p>Create a loading spinner component in <code>src/components/LoadingSpinner.tsx</code>:</p>

                <pre><code class="language-typescript">import React from 'react';
import './LoadingSpinner.css';

interface LoadingSpinnerProps {
    size?: 'small' | 'medium' | 'large';
    message?: string;
}

function LoadingSpinner({ size = 'medium', message }: LoadingSpinnerProps) {
    return (
        &lt;div className="loading-spinner-container"&gt;
            &lt;div className={`loading-spinner ${size}`}&gt;
                &lt;div className="spinner"&gt;&lt;/div&gt;
            &lt;/div&gt;
            {message && &lt;p className="loading-message"&gt;{message}&lt;/p&gt;}
        &lt;/div&gt;
    );
}

export default LoadingSpinner;</code></pre>

                <pre><code class="language-css">/* LoadingSpinner.css */
.loading-spinner-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-2xl);
}

.spinner {
    border: 4px solid var(--gray-200);
    border-top: 4px solid var(--primary);
    border-radius: var(--radius-full);
    animation: spin 1s linear infinite;
}

.loading-spinner.small .spinner {
    width: 24px;
    height: 24px;
    border-width: 3px;
}

.loading-spinner.medium .spinner {
    width: 48px;
    height: 48px;
}

.loading-spinner.large .spinner {
    width: 72px;
    height: 72px;
    border-width: 5px;
}

.loading-message {
    margin-top: var(--spacing-md);
    color: var(--gray-600);
    font-size: 0.875rem;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}</code></pre>

                <h3>Toast Notifications</h3>
                <p>Add user feedback for actions. Create <code>src/components/Toast.tsx</code>:</p>

                <pre><code class="language-typescript">import React, { useEffect } from 'react';
import './Toast.css';

interface ToastProps {
    message: string;
    type?: 'success' | 'error' | 'info';
    duration?: number;
    onClose: () => void;
}

function Toast({ message, type = 'info', duration = 3000, onClose }: ToastProps) {
    useEffect(() => {
        const timer = setTimeout(onClose, duration);
        return () => clearTimeout(timer);
    }, [duration, onClose]);
    
    const icons = {
        success: '‚úÖ',
        error: '‚ùå',
        info: '‚ÑπÔ∏è'
    };
    
    return (
        &lt;div className={`toast toast-${type}`}&gt;
            &lt;span className="toast-icon"&gt;{icons[type]}&lt;/span&gt;
            &lt;span className="toast-message"&gt;{message}&lt;/span&gt;
            &lt;button onClick={onClose} className="toast-close"&gt;√ó&lt;/button&gt;
        &lt;/div&gt;
    );
}

export default Toast;</code></pre>

                <pre><code class="language-css">/* Toast.css */
.toast {
    position: fixed;
    bottom: var(--spacing-lg);
    right: var(--spacing-lg);
    min-width: 300px;
    padding: var(--spacing-md) var(--spacing-lg);
    background: white;
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    animation: slideIn var(--transition-base);
    z-index: 9999;
}

.toast-success {
    border-left: 4px solid var(--success);
}

.toast-error {
    border-left: 4px solid var(--danger);
}

.toast-info {
    border-left: 4px solid var(--info);
}

.toast-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.toast-message {
    flex: 1;
    color: var(--gray-700);
}

.toast-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--gray-400);
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color var(--transition-fast);
}

.toast-close:hover {
    color: var(--gray-600);
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@media (max-width: 640px) {
    .toast {
        bottom: var(--spacing-md);
        right: var(--spacing-md);
        left: var(--spacing-md);
        min-width: auto;
    }
}</code></pre>

                <h3>Micro-Interactions</h3>
                <p>Add subtle animations to enhance UX. Update button styles:</p>

                <pre><code class="language-css">/* Enhanced button animations */
.add-to-cart-btn,
.checkout-btn,
.clear-cart-btn {
    position: relative;
    overflow: hidden;
    transition: all var(--transition-base);
}

.add-to-cart-btn:active,
.checkout-btn:active {
    transform: scale(0.98);
}

/* Ripple effect on click */
.add-to-cart-btn::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: var(--radius-full);
    background: rgba(255, 255, 255, 0.5);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.add-to-cart-btn:active::after {
    width: 300px;
    height: 300px;
}

/* Pulse animation for cart badge */
.cart-badge {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
}</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Polish Checklist</h4>
                    <ul>
                        <li>‚úÖ Consistent color scheme using CSS variables</li>
                        <li>‚úÖ Smooth transitions on interactive elements</li>
                        <li>‚úÖ Loading states for async operations</li>
                        <li>‚úÖ Toast notifications for user feedback</li>
                        <li>‚úÖ Micro-interactions (hover, active states)</li>
                        <li>‚úÖ Proper focus styles for accessibility</li>
                        <li>‚úÖ Custom scrollbar styling</li>
                        <li>‚úÖ Responsive design tested on all breakpoints</li>
                    </ul>
                </div>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise: Add a Toast System</h3>
                    <p>Integrate the Toast component to show feedback when items are added/removed from the cart.</p>
                    
                    <details>
                        <summary>üí° Hint</summary>
                        <p>Create a ToastProvider context that manages an array of toasts. Add methods to show/hide toasts. Use it in CartContext to show feedback.</p>
                    </details>
                    
                    <details>
                        <summary>‚úÖ Solution Structure</summary>
                        <pre><code class="language-typescript">// Create ToastContext
const ToastContext = createContext&lt;{
    showToast: (message: string, type: 'success' | 'error') => void;
}&gt;(null!);

// In addToCart function:
addToCart(product);
showToast(`${product.name} added to cart!`, 'success');

// In removeFromCart:
removeFromCart(id);
showToast('Item removed from cart', 'info');</code></pre>
                    </details>
                </div>
            </section>


            <!-- Section 10: Testing and Refinement -->
            <section id="section10" class="lesson-section">
                <h2>üß™ Step 11: Testing and Refinement</h2>
                <p>Let's ensure our e-commerce application works correctly by adding comprehensive tests. We'll use React Testing Library to test our components and hooks.</p>

                <h3>Testing Strategy</h3>
                <div class="mermaid">
                graph TD
                    A[Testing Pyramid] --> B[Unit Tests]
                    A --> C[Integration Tests]
                    A --> D[E2E Tests]
                    
                    B --> E[Reducer Logic]
                    B --> F[Custom Hooks]
                    B --> G[Utility Functions]
                    
                    C --> H[Component Interaction]
                    C --> I[Context + Components]
                    C --> J[User Workflows]
                    
                    D --> K[Full App Flow]
                    
                    style A fill:#667eea,color:#fff
                    style B fill:#48bb78,color:#fff
                    style C fill:#ed8936,color:#fff
                    style D fill:#f6ad55,color:#fff
                </div>

                <h3>Setting Up Testing Environment</h3>
                <p>If you're using Vite, install testing dependencies:</p>

                <pre><code class="language-bash"># Install testing dependencies
npm install -D @testing-library/react @testing-library/jest-dom @testing-library/user-event vitest jsdom

# Add to vite.config.ts:
/// &lt;reference types="vitest" /&gt;
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  test: {
    globals: true,
    environment: 'jsdom',
    setupFiles: './src/test/setup.ts',
  },
})</code></pre>

                <h3>Test Setup File</h3>
                <p>Create <code>src/test/setup.ts</code>:</p>

                <pre><code class="language-typescript">import { expect, afterEach } from 'vitest';
import { cleanup } from '@testing-library/react';
import * as matchers from '@testing-library/jest-dom/matchers';

// Extend Vitest's expect with jest-dom matchers
expect.extend(matchers);

// Cleanup after each test
afterEach(() => {
    cleanup();
});</code></pre>

                <h3>Testing the Cart Reducer</h3>
                <p>Create <code>src/reducers/__tests__/CartReducer.test.ts</code>:</p>

                <pre><code class="language-typescript">import { describe, it, expect } from 'vitest';
import { cartReducer, initialCartState } from '../CartReducer';
import { Product } from '../../types';

// Mock product for testing
const mockProduct: Product = {
    id: 1,
    name: 'Test Product',
    price: 99.99,
    category: 'electronics',
    image: 'test.jpg',
    description: 'A test product',
    inStock: true,
    rating: 4.5
};

describe('cartReducer', () => {
    describe('ADD_TO_CART', () => {
        it('should add a new product to empty cart', () => {
            const action = { type: 'ADD_TO_CART' as const, payload: mockProduct };
            const result = cartReducer(initialCartState, action);
            
            expect(result.items).toHaveLength(1);
            expect(result.items[0].product).toEqual(mockProduct);
            expect(result.items[0].quantity).toBe(1);
            expect(result.total).toBe(99.99);
        });
        
        it('should increment quantity if product already exists', () => {
            const existingState = {
                items: [{ product: mockProduct, quantity: 1 }],
                total: 99.99
            };
            
            const action = { type: 'ADD_TO_CART' as const, payload: mockProduct };
            const result = cartReducer(existingState, action);
            
            expect(result.items).toHaveLength(1);
            expect(result.items[0].quantity).toBe(2);
            expect(result.total).toBe(199.98);
        });
    });
    
    describe('REMOVE_FROM_CART', () => {
        it('should remove product from cart', () => {
            const existingState = {
                items: [{ product: mockProduct, quantity: 2 }],
                total: 199.98
            };
            
            const action = { type: 'REMOVE_FROM_CART' as const, payload: 1 };
            const result = cartReducer(existingState, action);
            
            expect(result.items).toHaveLength(0);
            expect(result.total).toBe(0);
        });
        
        it('should handle removing non-existent product', () => {
            const action = { type: 'REMOVE_FROM_CART' as const, payload: 999 };
            const result = cartReducer(initialCartState, action);
            
            expect(result).toEqual(initialCartState);
        });
    });
    
    describe('UPDATE_QUANTITY', () => {
        it('should update product quantity', () => {
            const existingState = {
                items: [{ product: mockProduct, quantity: 1 }],
                total: 99.99
            };
            
            const action = { 
                type: 'UPDATE_QUANTITY' as const, 
                payload: { id: 1, quantity: 5 }
            };
            const result = cartReducer(existingState, action);
            
            expect(result.items[0].quantity).toBe(5);
            expect(result.total).toBe(499.95);
        });
        
        it('should remove item if quantity is 0 or less', () => {
            const existingState = {
                items: [{ product: mockProduct, quantity: 1 }],
                total: 99.99
            };
            
            const action = { 
                type: 'UPDATE_QUANTITY' as const, 
                payload: { id: 1, quantity: 0 }
            };
            const result = cartReducer(existingState, action);
            
            expect(result.items).toHaveLength(0);
            expect(result.total).toBe(0);
        });
    });
    
    describe('CLEAR_CART', () => {
        it('should clear all items from cart', () => {
            const existingState = {
                items: [
                    { product: mockProduct, quantity: 2 },
                    { product: { ...mockProduct, id: 2 }, quantity: 1 }
                ],
                total: 299.97
            };
            
            const action = { type: 'CLEAR_CART' as const };
            const result = cartReducer(existingState, action);
            
            expect(result).toEqual(initialCartState);
        });
    });
});</code></pre>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üìñ Testing Best Practices</h4>
                    <p style="color: white;"><strong>Arrange-Act-Assert:</strong> Set up state, perform action, verify result</p>
                    <p style="color: white;"><strong>Test Edge Cases:</strong> Empty states, boundary conditions, invalid inputs</p>
                    <p style="color: white;"><strong>Descriptive Names:</strong> Test names should explain what they verify</p>
                </div>

                <h3>Testing Components with Context</h3>
                <p>Create <code>src/components/__tests__/ProductCard.test.tsx</code>:</p>

                <pre><code class="language-typescript">import { describe, it, expect, vi } from 'vitest';
import { render, screen, fireEvent } from '@testing-library/react';
import { CartProvider } from '../../context/CartContext';
import ProductCard from '../ProductCard';
import { Product } from '../../types';

// Test helper to render with providers
function renderWithProviders(ui: React.ReactElement) {
    return render(
        &lt;CartProvider&gt;
            {ui}
        &lt;/CartProvider&gt;
    );
}

const mockProduct: Product = {
    id: 1,
    name: 'Wireless Headphones',
    price: 299.99,
    category: 'electronics',
    image: 'https://example.com/image.jpg',
    description: 'Premium wireless headphones',
    inStock: true,
    rating: 4.8
};

describe('ProductCard', () => {
    it('should render product information', () => {
        renderWithProviders(&lt;ProductCard product={mockProduct} /&gt;);
        
        expect(screen.getByText('Wireless Headphones')).toBeInTheDocument();
        expect(screen.getByText('Premium wireless headphones')).toBeInTheDocument();
        expect(screen.getByText('$299.99')).toBeInTheDocument();
        expect(screen.getByText('4.8')).toBeInTheDocument();
    });
    
    it('should show add to cart button for in-stock items', () => {
        renderWithProviders(&lt;ProductCard product={mockProduct} /&gt;);
        
        const button = screen.getByRole('button', { name: /add to cart/i });
        expect(button).toBeEnabled();
    });
    
    it('should disable add to cart button for out-of-stock items', () => {
        const outOfStockProduct = { ...mockProduct, inStock: false };
        renderWithProviders(&lt;ProductCard product={outOfStockProduct} /&gt;);
        
        const button = screen.getByRole('button', { name: /unavailable/i });
        expect(button).toBeDisabled();
    });
    
    it('should add product to cart when button is clicked', () => {
        renderWithProviders(&lt;ProductCard product={mockProduct} /&gt;);
        
        const button = screen.getByRole('button', { name: /add to cart/i });
        fireEvent.click(button);
        
        // After clicking, should show quantity badge
        expect(screen.getByText('1 in cart')).toBeInTheDocument();
    });
    
    it('should show quantity badge when product is in cart', () => {
        renderWithProviders(
            &lt;&gt;
                &lt;ProductCard product={mockProduct} /&gt;
            &lt;/&gt;
        );
        
        // Add to cart
        const button = screen.getByRole('button', { name: /add to cart/i });
        fireEvent.click(button);
        fireEvent.click(button);
        
        // Should show quantity
        expect(screen.getByText('2 in cart')).toBeInTheDocument();
    });
});</code></pre>

                <h3>Testing Custom Hooks</h3>
                <p>Create <code>src/hooks/__tests__/useProductFilters.test.ts</code>:</p>

                <pre><code class="language-typescript">import { describe, it, expect } from 'vitest';
import { renderHook, act } from '@testing-library/react';
import { useProductFilters } from '../useProductFilters';
import { Product } from '../../types';

const mockProducts: Product[] = [
    {
        id: 1,
        name: 'Laptop',
        price: 999.99,
        category: 'electronics',
        image: 'laptop.jpg',
        description: 'Powerful laptop',
        inStock: true,
        rating: 4.5
    },
    {
        id: 2,
        name: 'Mouse',
        price: 49.99,
        category: 'accessories',
        image: 'mouse.jpg',
        description: 'Wireless mouse',
        inStock: true,
        rating: 4.2
    },
    {
        id: 3,
        name: 'Keyboard',
        price: 149.99,
        category: 'electronics',
        image: 'keyboard.jpg',
        description: 'Mechanical keyboard',
        inStock: false,
        rating: 4.8
    }
];

describe('useProductFilters', () => {
    it('should return all products initially', () => {
        const { result } = renderHook(() => useProductFilters(mockProducts));
        
        expect(result.current.filteredProducts).toHaveLength(3);
    });
    
    it('should filter by search query', () => {
        const { result } = renderHook(() => useProductFilters(mockProducts));
        
        act(() => {
            result.current.updateFilter('searchQuery', 'laptop');
        });
        
        expect(result.current.filteredProducts).toHaveLength(1);
        expect(result.current.filteredProducts[0].name).toBe('Laptop');
    });
    
    it('should filter by category', () => {
        const { result } = renderHook(() => useProductFilters(mockProducts));
        
        act(() => {
            result.current.updateFilter('category', 'accessories');
        });
        
        expect(result.current.filteredProducts).toHaveLength(1);
        expect(result.current.filteredProducts[0].category).toBe('accessories');
    });
    
    it('should filter by price range', () => {
        const { result } = renderHook(() => useProductFilters(mockProducts));
        
        act(() => {
            result.current.updateFilter('priceRange', { min: 100, max: 500 });
        });
        
        expect(result.current.filteredProducts).toHaveLength(1);
        expect(result.current.filteredProducts[0].name).toBe('Keyboard');
    });
    
    it('should filter out of stock items', () => {
        const { result } = renderHook(() => useProductFilters(mockProducts));
        
        act(() => {
            result.current.updateFilter('showOutOfStock', false);
        });
        
        expect(result.current.filteredProducts).toHaveLength(2);
        expect(result.current.filteredProducts.every(p => p.inStock)).toBe(true);
    });
    
    it('should sort products by price', () => {
        const { result } = renderHook(() => useProductFilters(mockProducts));
        
        act(() => {
            result.current.setSortBy('price-low');
        });
        
        const prices = result.current.filteredProducts.map(p => p.price);
        expect(prices).toEqual([49.99, 149.99, 999.99]);
    });
    
    it('should reset filters', () => {
        const { result } = renderHook(() => useProductFilters(mockProducts));
        
        act(() => {
            result.current.updateFilter('searchQuery', 'laptop');
            result.current.updateFilter('category', 'electronics');
            result.current.setSortBy('price-high');
        });
        
        act(() => {
            result.current.resetFilters();
        });
        
        expect(result.current.filters.searchQuery).toBe('');
        expect(result.current.filters.category).toBe('all');
        expect(result.current.sortBy).toBe('name');
        expect(result.current.filteredProducts).toHaveLength(3);
    });
    
    it('should calculate active filter count', () => {
        const { result } = renderHook(() => useProductFilters(mockProducts));
        
        expect(result.current.activeFilterCount).toBe(0);
        
        act(() => {
            result.current.updateFilter('searchQuery', 'laptop');
            result.current.updateFilter('category', 'electronics');
        });
        
        expect(result.current.activeFilterCount).toBe(2);
    });
});</code></pre>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Testing Hooks</h4>
                    <p><strong>renderHook:</strong> Special utility from Testing Library for testing hooks in isolation</p>
                    <p><strong>act():</strong> Wraps state updates to ensure React processes them before assertions</p>
                    <p><strong>result.current:</strong> Access the current return value of the hook</p>
                </div>

                <h3>Integration Test: Complete User Flow</h3>
                <p>Create <code>src/__tests__/ShoppingFlow.integration.test.tsx</code>:</p>

                <pre><code class="language-typescript">import { describe, it, expect } from 'vitest';
import { render, screen, fireEvent, within } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import App from '../App';

describe('Shopping Flow Integration', () => {
    it('should complete a full shopping workflow', async () => {
        const user = userEvent.setup();
        render(&lt;App /&gt;);
        
        // 1. Verify initial state
        expect(screen.getByText(/tech store/i)).toBeInTheDocument();
        expect(screen.getByText(/your cart is empty/i)).toBeInTheDocument();
        
        // 2. Search for a product
        const searchInput = screen.getByPlaceholderText(/search products/i);
        await user.type(searchInput, 'headphones');
        
        // Wait for debounce and check filtered results
        await new Promise(resolve => setTimeout(resolve, 400));
        const productCards = screen.getAllByRole('article');
        expect(productCards.length).toBeGreaterThan(0);
        
        // 3. Add product to cart
        const addButton = screen.getByRole('button', { name: /add to cart/i });
        await user.click(addButton);
        
        // 4. Verify cart updated
        expect(screen.getByText('1 in cart')).toBeInTheDocument();
        expect(screen.queryByText(/your cart is empty/i)).not.toBeInTheDocument();
        
        // 5. Add same product again
        await user.click(addButton);
        expect(screen.getByText('2 in cart')).toBeInTheDocument();
        
        // 6. Filter by category
        const categorySelect = screen.getByLabelText(/category/i);
        await user.selectOptions(categorySelect, 'electronics');
        
        // 7. Update quantity in cart
        const quantityInput = screen.getByRole('spinbutton', { name: /quantity/i });
        await user.clear(quantityInput);
        await user.type(quantityInput, '5');
        
        // 8. Verify total updated
        const cartSummary = screen.getByText(/total:/i).closest('div');
        expect(cartSummary).toHaveTextContent(/\$.*\d+/);
        
        // 9. Remove item from cart
        const removeButton = screen.getByRole('button', { name: /remove/i });
        await user.click(removeButton);
        
        // Confirm removal in dialog
        // Note: This depends on how you handle the confirm dialog
        
        // 10. Verify cart is empty again
        // expect(screen.getByText(/your cart is empty/i)).toBeInTheDocument();
    });
    
    it('should handle filtering and sorting together', async () => {
        const user = userEvent.setup();
        render(&lt;App /&gt;);
        
        // Apply category filter
        const categorySelect = screen.getByLabelText(/category/i);
        await user.selectOptions(categorySelect, 'electronics');
        
        // Apply sort
        const sortSelect = screen.getByLabelText(/sort by/i);
        await user.selectOptions(sortSelect, 'price-low');
        
        // Verify results are filtered and sorted
        const productCards = screen.getAllByRole('article');
        expect(productCards.length).toBeGreaterThan(0);
        
        // Get all prices and verify they're in ascending order
        const prices = Array.from(productCards).map(card => {
            const priceText = within(card).getByText(/\$\d+/).textContent;
            return parseFloat(priceText?.replace('$', '') || '0');
        });
        
        for (let i = 1; i < prices.length; i++) {
            expect(prices[i]).toBeGreaterThanOrEqual(prices[i - 1]);
        }
    });
});</code></pre>

                <h3>Running Tests</h3>
                <p>Add scripts to your <code>package.json</code>:</p>

                <pre><code class="language-json">{
  "scripts": {
    "test": "vitest",
    "test:ui": "vitest --ui",
    "test:coverage": "vitest --coverage"
  }
}</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Testing Checklist</h4>
                    <ul>
                        <li>‚úÖ Reducer logic (pure functions)</li>
                        <li>‚úÖ Custom hooks with renderHook</li>
                        <li>‚úÖ Component rendering and interactions</li>
                        <li>‚úÖ Context providers and consumers</li>
                        <li>‚úÖ User workflows (integration tests)</li>
                        <li>‚úÖ Edge cases and error states</li>
                        <li>‚úÖ Accessibility with screen reader queries</li>
                    </ul>
                </div>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise: Write Your Own Test</h3>
                    <p>Write a test for the CartItem component that verifies quantity can be updated using the increment/decrement buttons.</p>
                    
                    <details>
                        <summary>üí° Hint</summary>
                        <p>Render CartItem within CartProvider, click the increment button, and verify the quantity updates. Use screen.getByLabelText to find buttons by their aria-labels.</p>
                    </details>
                    
                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">it('should increment quantity when + button is clicked', async () => {
    const user = userEvent.setup();
    const mockItem = {
        product: mockProduct,
        quantity: 1
    };
    
    renderWithProviders(&lt;CartItem item={mockItem} /&gt;);
    
    const incrementBtn = screen.getByLabelText('Increase quantity');
    await user.click(incrementBtn);
    
    const quantityInput = screen.getByLabelText('Quantity');
    expect(quantityInput).toHaveValue(2);
});</code></pre>
                    </details>
                </div>
            </section>

            <!-- Section 11: Bonus Features -->
            <section id="section11" class="lesson-section">
                <h2>üéÅ Step 12: Bonus Features</h2>
                <p>Let's explore additional features you can add to take your e-commerce application to the next level!</p>

                <h3>Bonus Feature Ideas</h3>
                <div class="mermaid">
                mindmap
                  root((E-commerce<br/>Enhancements))
                    Wishlist
                      Save favorites
                      Share lists
                      Price alerts
                    Product Reviews
                      Star ratings
                      Written reviews
                      Helpful votes
                    User Accounts
                      Authentication
                      Order history
                      Saved addresses
                    Payment
                      Multiple methods
                      Saved cards
                      Invoice generation
                    Advanced Search
                      Faceted filters
                      Auto-suggest
                      Recent searches
                    Recommendations
                      Similar products
                      Frequently bought
                      Personalized
                </div>

                <h3>1. Wishlist Feature</h3>
                <p>Add ability to save favorite products:</p>

                <pre><code class="language-typescript">// src/context/WishlistContext.tsx
import React, { createContext, useContext, useState, useCallback } from 'react';
import { Product } from '../types';

interface WishlistContextValue {
    wishlist: Product[];
    addToWishlist: (product: Product) => void;
    removeFromWishlist: (productId: number) => void;
    isInWishlist: (productId: number) => boolean;
    clearWishlist: () => void;
}

const WishlistContext = createContext&lt;WishlistContextValue | undefined&gt;(undefined);

export function WishlistProvider({ children }: { children: React.ReactNode }) {
    const [wishlist, setWishlist] = useState&lt;Product[]&gt;([]);
    
    const addToWishlist = useCallback((product: Product) => {
        setWishlist(prev => {
            if (prev.find(p => p.id === product.id)) {
                return prev; // Already in wishlist
            }
            return [...prev, product];
        });
    }, []);
    
    const removeFromWishlist = useCallback((productId: number) => {
        setWishlist(prev => prev.filter(p => p.id !== productId));
    }, []);
    
    const isInWishlist = useCallback((productId: number) => {
        return wishlist.some(p => p.id === productId);
    }, [wishlist]);
    
    const clearWishlist = useCallback(() => {
        setWishlist([]);
    }, []);
    
    return (
        &lt;WishlistContext.Provider value={{
            wishlist,
            addToWishlist,
            removeFromWishlist,
            isInWishlist,
            clearWishlist
        }}&gt;
            {children}
        &lt;/WishlistContext.Provider&gt;
    );
}

export function useWishlist() {
    const context = useContext(WishlistContext);
    if (!context) {
        throw new Error('useWishlist must be used within WishlistProvider');
    }
    return context;
}

// Add to ProductCard:
const { addToWishlist, isInWishlist } = useWishlist();
const inWishlist = isInWishlist(product.id);

&lt;button onClick={() => addToWishlist(product)}&gt;
    {inWishlist ? '‚ù§Ô∏è' : 'ü§ç'} Wishlist
&lt;/button&gt;</code></pre>

                <h3>2. Product Comparison</h3>
                <p>Allow users to compare multiple products side-by-side:</p>

                <pre><code class="language-typescript">// src/components/ProductComparison.tsx
import React from 'react';
import { Product } from '../types';
import './ProductComparison.css';

interface ProductComparisonProps {
    products: Product[];
    onRemove: (id: number) => void;
    onClose: () => void;
}

function ProductComparison({ products, onRemove, onClose }: ProductComparisonProps) {
    if (products.length === 0) return null;
    
    return (
        &lt;div className="comparison-modal"&gt;
            &lt;div className="comparison-header"&gt;
                &lt;h2&gt;‚öñÔ∏è Compare Products&lt;/h2&gt;
                &lt;button onClick={onClose}&gt;√ó&lt;/button&gt;
            &lt;/div&gt;
            
            &lt;div className="comparison-grid"&gt;
                {products.map(product => (
                    &lt;div key={product.id} className="comparison-item"&gt;
                        &lt;button 
                            onClick={() => onRemove(product.id)}
                            className="remove-comparison"
                        &gt;
                            √ó
                        &lt;/button&gt;
                        &lt;img src={product.image} alt={product.name} /&gt;
                        &lt;h3&gt;{product.name}&lt;/h3&gt;
                        
                        &lt;table className="comparison-table"&gt;
                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;Price&lt;/td&gt;
                                    &lt;td&gt;${product.price.toFixed(2)}&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;Rating&lt;/td&gt;
                                    &lt;td&gt;{'‚≠ê'.repeat(Math.floor(product.rating))}&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;Category&lt;/td&gt;
                                    &lt;td&gt;{product.category}&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;Stock&lt;/td&gt;
                                    &lt;td&gt;{product.inStock ? '‚úÖ In Stock' : '‚ùå Out'}&lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/tbody&gt;
                        &lt;/table&gt;
                    &lt;/div&gt;
                ))}
            &lt;/div&gt;
        &lt;/div&gt;
    );
}</code></pre>

                <h3>3. Product Quick View Modal</h3>
                <p>Show detailed product info without leaving the catalog:</p>

                <pre><code class="language-typescript">// src/components/ProductQuickView.tsx
import React from 'react';
import { Product } from '../types';
import { useCartContext } from '../context/CartContext';
import './ProductQuickView.css';

interface ProductQuickViewProps {
    product: Product;
    onClose: () => void;
}

function ProductQuickView({ product, onClose }: ProductQuickViewProps) {
    const { addToCart } = useCartContext();
    
    const handleAddToCart = () => {
        addToCart(product);
        onClose();
    };
    
    return (
        &lt;div className="modal-overlay" onClick={onClose}&gt;
            &lt;div className="quick-view-modal" onClick={e => e.stopPropagation()}&gt;
                &lt;button className="modal-close" onClick={onClose}&gt;√ó&lt;/button&gt;
                
                &lt;div className="quick-view-content"&gt;
                    &lt;div className="quick-view-image"&gt;
                        &lt;img src={product.image} alt={product.name} /&gt;
                    &lt;/div&gt;
                    
                    &lt;div className="quick-view-details"&gt;
                        &lt;h2&gt;{product.name}&lt;/h2&gt;
                        
                        &lt;div className="quick-view-rating"&gt;
                            {'‚≠ê'.repeat(Math.floor(product.rating))}
                            &lt;span&gt;{product.rating} / 5&lt;/span&gt;
                        &lt;/div&gt;
                        
                        &lt;p className="quick-view-price"&gt;${product.price.toFixed(2)}&lt;/p&gt;
                        
                        &lt;p className="quick-view-description"&gt;
                            {product.description}
                        &lt;/p&gt;
                        
                        &lt;div className="quick-view-meta"&gt;
                            &lt;span&gt;Category: {product.category}&lt;/span&gt;
                            &lt;span&gt;
                                {product.inStock ? '‚úÖ In Stock' : '‚ùå Out of Stock'}
                            &lt;/span&gt;
                        &lt;/div&gt;
                        
                        &lt;button 
                            onClick={handleAddToCart}
                            disabled={!product.inStock}
                            className="quick-view-add-btn"
                        &gt;
                            üõí Add to Cart
                        &lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    );
}</code></pre>

                <h3>4. Recently Viewed Products</h3>
                <p>Track and display recently viewed items:</p>

                <pre><code class="language-typescript">// src/hooks/useRecentlyViewed.ts
import { useState, useEffect } from 'react';
import { Product } from '../types';

const STORAGE_KEY = 'recently-viewed';
const MAX_ITEMS = 10;

export function useRecentlyViewed() {
    const [recentlyViewed, setRecentlyViewed] = useState&lt;Product[]&gt;([]);
    
    // Load from localStorage on mount
    useEffect(() => {
        const stored = localStorage.getItem(STORAGE_KEY);
        if (stored) {
            try {
                setRecentlyViewed(JSON.parse(stored));
            } catch (error) {
                console.error('Failed to parse recently viewed:', error);
            }
        }
    }, []);
    
    const addToRecentlyViewed = (product: Product) => {
        setRecentlyViewed(prev => {
            // Remove if already exists
            const filtered = prev.filter(p => p.id !== product.id);
            // Add to beginning
            const updated = [product, ...filtered].slice(0, MAX_ITEMS);
            // Save to localStorage
            localStorage.setItem(STORAGE_KEY, JSON.stringify(updated));
            return updated;
        });
    };
    
    const clearRecentlyViewed = () => {
        setRecentlyViewed([]);
        localStorage.removeItem(STORAGE_KEY);
    };
    
    return {
        recentlyViewed,
        addToRecentlyViewed,
        clearRecentlyViewed
    };
}</code></pre>

                <h3>5. Discount Codes</h3>
                <p>Add promotional discount code functionality:</p>

                <pre><code class="language-typescript">// src/hooks/useDiscountCode.ts
import { useState, useCallback } from 'react';

interface DiscountCode {
    code: string;
    discount: number; // percentage
    minPurchase?: number;
}

const VALID_CODES: DiscountCode[] = [
    { code: 'SAVE10', discount: 10 },
    { code: 'SAVE20', discount: 20, minPurchase: 100 },
    { code: 'FIRST50', discount: 50, minPurchase: 50 }
];

export function useDiscountCode() {
    const [appliedCode, setAppliedCode] = useState&lt;DiscountCode | null&gt;(null);
    const [error, setError] = useState&lt;string&gt;('');
    
    const applyCode = useCallback((code: string, cartTotal: number) => {
        const discountCode = VALID_CODES.find(
            c => c.code.toLowerCase() === code.toLowerCase()
        );
        
        if (!discountCode) {
            setError('Invalid discount code');
            return false;
        }
        
        if (discountCode.minPurchase && cartTotal < discountCode.minPurchase) {
            setError(`Minimum purchase of $${discountCode.minPurchase} required`);
            return false;
        }
        
        setAppliedCode(discountCode);
        setError('');
        return true;
    }, []);
    
    const removeCode = useCallback(() => {
        setAppliedCode(null);
        setError('');
    }, []);
    
    const calculateDiscount = useCallback((cartTotal: number) => {
        if (!appliedCode) return 0;
        return (cartTotal * appliedCode.discount) / 100;
    }, [appliedCode]);
    
    return {
        appliedCode,
        error,
        applyCode,
        removeCode,
        calculateDiscount
    };
}</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Bonus Features Summary</h4>
                    <ul>
                        <li>‚ù§Ô∏è Wishlist with persistence</li>
                        <li>‚öñÔ∏è Product comparison tool</li>
                        <li>üëÅÔ∏è Quick view modal</li>
                        <li>üïê Recently viewed tracking</li>
                        <li>üé´ Discount code system</li>
                        <li>üìä Product reviews and ratings</li>
                        <li>üìß Email wishlist sharing</li>
                        <li>üîî Price drop notifications</li>
                    </ul>
                </div>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise: Implement One Bonus Feature</h3>
                    <p>Choose one bonus feature and implement it in your application. Start with the wishlist as it's the most straightforward.</p>
                    
                    <details>
                        <summary>üí° Implementation Steps</summary>
                        <ol>
                            <li>Create the context or hook</li>
                            <li>Add UI elements (buttons, icons)</li>
                            <li>Implement persistence (localStorage)</li>
                            <li>Add visual feedback</li>
                            <li>Write tests</li>
                        </ol>
                    </details>
                </div>

                <h3>Deployment Preparation</h3>
                <p>Before deploying, ensure:</p>

                <pre><code class="language-bash"># Build for production
npm run build

# Test the production build locally
npm run preview

# Check bundle size
npm run build -- --report

# Run all tests
npm test

# Check for TypeScript errors
npm run type-check</code></pre>

                <div class="card" style="background: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Pre-Deployment Checklist</h4>
                    <ul>
                        <li>‚úÖ All tests passing</li>
                        <li>‚úÖ No TypeScript errors</li>
                        <li>‚úÖ Environment variables configured</li>
                        <li>‚úÖ Analytics and error tracking setup</li>
                        <li>‚úÖ SEO meta tags added</li>
                        <li>‚úÖ Performance optimized (Lighthouse score)</li>
                        <li>‚úÖ Accessibility audit passed</li>
                        <li>‚úÖ Cross-browser testing completed</li>
                        <li>‚úÖ Mobile responsiveness verified</li>
                    </ul>
                </div>
            </section>

            <!-- Section 12: Summary and Next Steps -->
            <section id="section12" class="lesson-section">
                <h2>üéâ Project Summary and Next Steps</h2>
                <p>Congratulations! You've built a comprehensive e-commerce product catalog with shopping cart functionality using advanced React and TypeScript patterns.</p>

                <h3>What You've Learned</h3>
                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üéì Module 5 Mastery</h4>
                    <p style="color: white;">You've successfully implemented all advanced hooks and patterns:</p>
                    <ul style="color: white;">
                        <li><strong>useReducer:</strong> Complex state management for cart operations</li>
                        <li><strong>useContext:</strong> Global state sharing without prop drilling</li>
                        <li><strong>useRef:</strong> DOM access and mutable value storage</li>
                        <li><strong>useMemo:</strong> Performance optimization for expensive calculations</li>
                        <li><strong>useCallback:</strong> Memoized functions to prevent re-renders</li>
                        <li><strong>Custom Hooks:</strong> Reusable logic extraction</li>
                        <li><strong>Compound Components:</strong> Flexible component composition</li>
                    </ul>
                </div>

                <h3>Application Architecture</h3>
                <div class="mermaid">
                graph TB
                    A[App.tsx] --> B[CartProvider]
                    B --> C[ProductCatalog]
                    B --> D[ShoppingCart]
                    
                    C --> E[FilterBar]
                    C --> F[ProductGrid]
                    F --> G[ProductCard]
                    
                    D --> H[CartItem]
                    
                    I[useProductFilters] -.-> C
                    J[useDebounce] -.-> I
                    K[cartReducer] -.-> B
                    
                    style A fill:#667eea,color:#fff
                    style B fill:#48bb78,color:#fff
                    style I fill:#ed8936,color:#fff
                </div>

                <h3>Key Features Implemented</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 2rem 0;">
                    <thead>
                        <tr style="background: var(--gray-100);">
                            <th style="padding: 1rem; text-align: left; border: 1px solid var(--gray-300);">Feature</th>
                            <th style="padding: 1rem; text-align: left; border: 1px solid var(--gray-300);">Technology</th>
                            <th style="padding: 1rem; text-align: left; border: 1px solid var(--gray-300);">Benefit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">Shopping Cart</td>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">useReducer + Context</td>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">Predictable state updates</td>
                        </tr>
                        <tr style="background: var(--gray-50);">
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">Product Filtering</td>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">useMemo + Custom Hook</td>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">Optimized performance</td>
                        </tr>
                        <tr>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">Search</td>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">useDebounce Hook</td>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">Reduced computations</td>
                        </tr>
                        <tr style="background: var(--gray-50);">
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">Cart Persistence</td>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">localStorage + useEffect</td>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">User convenience</td>
                        </tr>
                        <tr>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">Type Safety</td>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">TypeScript</td>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">Fewer runtime errors</td>
                        </tr>
                        <tr style="background: var(--gray-50);">
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">Testing</td>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">Vitest + Testing Library</td>
                            <td style="padding: 1rem; border: 1px solid var(--gray-300);">Confidence in changes</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Best Practices Applied</h3>
                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Professional Standards</h4>
                    <ul>
                        <li><strong>Separation of Concerns:</strong> Logic in hooks, UI in components</li>
                        <li><strong>Single Responsibility:</strong> Each component has one clear purpose</li>
                        <li><strong>DRY Principle:</strong> Reusable custom hooks and components</li>
                        <li><strong>Type Safety:</strong> Comprehensive TypeScript usage</li>
                        <li><strong>Performance:</strong> Memoization and lazy loading</li>
                        <li><strong>Accessibility:</strong> ARIA labels and keyboard navigation</li>
                        <li><strong>Testing:</strong> Unit, integration, and user flow tests</li>
                        <li><strong>User Experience:</strong> Loading states, error handling, feedback</li>
                    </ul>
                </div>

                <h3>Next Steps and Enhancements</h3>
                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üöÄ Take It Further</h4>
                    <p><strong>Immediate Next Steps:</strong></p>
                    <ol>
                        <li>Deploy to Vercel or Netlify</li>
                        <li>Add one bonus feature (wishlist recommended)</li>
                        <li>Integrate with a real backend API</li>
                        <li>Implement user authentication</li>
                        <li>Add checkout flow with Stripe</li>
                    </ol>
                    
                    <p><strong>Advanced Enhancements:</strong></p>
                    <ul>
                        <li>Server-side rendering with Next.js</li>
                        <li>Progressive Web App (PWA) features</li>
                        <li>Real-time inventory updates with WebSockets</li>
                        <li>AI-powered product recommendations</li>
                        <li>Multi-language support (i18n)</li>
                        <li>Advanced analytics and tracking</li>
                    </ul>
                </div>

                <h3>Continuing Your React Journey</h3>
                <p>You're now ready to move forward in the course:</p>
                <ul>
                    <li><strong>Module 6:</strong> Routing and Navigation with React Router</li>
                    <li><strong>Module 7:</strong> Forms and Validation</li>
                    <li><strong>Module 8:</strong> State Management with Zustand/Redux</li>
                    <li><strong>Module 9:</strong> Testing React Applications</li>
                    <li><strong>Module 10:</strong> Deployment and Production</li>
                </ul>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üí° Key Takeaways</h4>
                    <p style="color: white;">Remember these core concepts:</p>
                    <ul style="color: white;">
                        <li><strong>useReducer shines</strong> when state transitions follow predictable patterns</li>
                        <li><strong>Context + Reducer</strong> is a powerful alternative to Redux for medium apps</li>
                        <li><strong>Memoization</strong> (useMemo, useCallback) prevents performance issues</li>
                        <li><strong>Custom hooks</strong> make logic reusable and testable</li>
                        <li><strong>TypeScript</strong> catches errors before they reach production</li>
                        <li><strong>Testing</strong> gives confidence to refactor and add features</li>
                    </ul>
                </div>

                <h3>Resources for Continued Learning</h3>
                <ul>
                    <li>üìö <a href="https://react.dev" target="_blank">React Documentation</a> - Official docs</li>
                    <li>üìö <a href="https://www.typescriptlang.org/docs/" target="_blank">TypeScript Handbook</a></li>
                    <li>üìö <a href="https://testing-library.com/react" target="_blank">React Testing Library</a></li>
                    <li>üé• <a href="https://egghead.io" target="_blank">Egghead.io</a> - Video tutorials</li>
                    <li>üí¨ <a href="https://discord.gg/reactiflux" target="_blank">Reactiflux</a> - Discord community</li>
                    <li>üìñ <a href="https://react-typescript-cheatsheet.netlify.app/" target="_blank">React TypeScript Cheatsheet</a></li>
                </ul>

                <div class="card" style="background: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚≠ê Project Showcase</h4>
                    <p>Don't forget to:</p>
                    <ul>
                        <li>Add this project to your portfolio</li>
                        <li>Write a blog post about what you learned</li>
                        <li>Share on LinkedIn or Twitter</li>
                        <li>Get feedback from other developers</li>
                        <li>Keep iterating and improving!</li>
                    </ul>
                </div>

                <h3>Final Thoughts</h3>
                <p>Building this e-commerce application has given you hands-on experience with:</p>
                <ul>
                    <li>‚úÖ Complex state management patterns</li>
                    <li>‚úÖ Performance optimization techniques</li>
                    <li>‚úÖ Professional component architecture</li>
                    <li>‚úÖ TypeScript in real-world scenarios</li>
                    <li>‚úÖ Testing strategies that matter</li>
                    <li>‚úÖ User experience best practices</li>
                </ul>

                <p>These patterns and techniques apply to any React application you'll build in the future. You're well-equipped to tackle real-world projects!</p>

                <div class="card" style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; text-align: center; padding: 2rem;">
                    <h2 style="color: white; margin: 0 0 1rem 0;">üéâ Congratulations!</h2>
                    <p style="color: white; font-size: 1.25rem; margin: 0;">You've completed Module 5!</p>
                    <p style="color: white; margin: 1rem 0 0 0;">You're now a master of advanced React hooks and patterns.</p>
                </div>
            </section>

        </main>

        <!-- Lesson Navigation -->
        <nav class="lesson-nav" aria-label="Lesson navigation">
            <a href="lesson_5_5_compound_components.html" class="nav-button prev-lesson">
                <span class="nav-label">Previous</span>
                <span class="nav-title">‚Üê Lesson 5.5: Compound Components</span>
            </a>
            <a href="index.html" class="nav-button home">
                <span class="nav-label">Home</span>
                <span class="nav-title">üìö Course Home</span>
            </a>
            <a href="index.html#module6" class="nav-button next-lesson">
                <span class="nav-label">Next Module</span>
                <span class="nav-title">Module 6: Routing ‚Üí</span>
            </a>
        </nav>

        <!-- Footer -->
        <footer>
            <p>&copy; 2024 React TypeScript Course. All rights reserved.</p>
            <p>
                <a href="index.html">Home</a> |
                <a href="index.html#modules">All Modules</a> |
                <a href="#">Terms of Use</a> |
                <a href="#">Privacy Policy</a>
            </p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="js/clipboard.js"></script>
    <script src="js/course-enhancements.js"></script>
</body>
</html>
