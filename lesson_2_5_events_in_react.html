<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Master event handling in React - Learn to handle user interactions, work with forms, understand synthetic events, implement validation, and create interactive components with TypeScript.">
    <meta name="author" content="PracticalAce">
    <title>Events in React - React TypeScript Course</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/png" href="/favicon.png">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#f0f0f0',
                primaryTextColor: '#333',
                primaryBorderColor: '#667eea'
            }
        });
    </script>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-to-main">Skip to main content</a>
    
    <!-- Progress indicator -->
    <div class="progress-indicator" role="progressbar" aria-label="Page scroll progress">
        <div class="progress-bar"></div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-logo">React TypeScript Course</a>
            <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-expanded="false" aria-controls="nav-links">
                ‚ò∞
            </button>
            <div class="nav-links" id="nav-links" aria-hidden="false">
                <a href="index.html">Home</a>
                <a href="index.html#modules">All Modules</a>
                <button id="theme-toggle" aria-label="Toggle theme">üåô</button>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#module2">Module 2: React Basics</a></li>
            <li aria-current="page">Lesson 2.5: Events in React</li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <div class="container">
            <!-- Lesson Header -->
            <header>
                <h1>‚ö° Events in React</h1>
                <p class="lead">Components that just display data are nice, but components that respond to user actions? That's where the magic happens! Events are how your React components come alive - responding to clicks, tracking input changes, handling form submissions, and creating truly interactive experiences. In this lesson, we'll master event handling in React with TypeScript, learning patterns that will make your apps feel responsive and polished. Let's make things interactive! üéÆ</p>
                
                <!-- Learning objectives -->
                <div class="card">
                    <h2>üéØ Learning Objectives</h2>
                    <p>By the end of this lesson, you will be able to:</p>
                    <ul>
                        <li>Handle common user events (click, change, submit, etc.)</li>
                        <li>Understand React's synthetic event system</li>
                        <li>Type event handlers properly with TypeScript</li>
                        <li>Pass parameters to event handlers</li>
                        <li>Work with form inputs and controlled components</li>
                        <li>Implement form validation and error handling</li>
                        <li>Handle keyboard and focus events</li>
                        <li>Prevent default behaviors and stop event propagation</li>
                    </ul>
                    <p><strong>Estimated Time:</strong> 70-85 minutes</p>
                    <p><strong>Project:</strong> Build a complete interactive form with validation and dynamic feedback</p>
                </div>
            </header>

            <!-- Sticky Table of Contents -->
            <details class="card" open style="position: sticky; top: 80px; z-index: 100; background: var(--card-bg, white); box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                <summary style="cursor: pointer; font-weight: bold; padding: 0.5rem 1rem; user-select: none;">
                    <h2 style="display: inline; margin: 0;">üìë In This Lesson</h2>
                </summary>
                <nav aria-label="Table of Contents" style="padding: 0 1rem 1rem 1rem;">
                    <ol>
                        <li><a href="#section1" class="toc-link">Introduction to Events</a></li>
                        <li><a href="#section2" class="toc-link">Basic Event Handling</a></li>
                        <li><a href="#section3" class="toc-link">Synthetic Events</a></li>
                        <li><a href="#section4" class="toc-link">TypeScript Event Types</a></li>
                        <li><a href="#section5" class="toc-link">Form Events and Inputs</a></li>
                        <li><a href="#section6" class="toc-link">Event Handler Patterns</a></li>
                        <li><a href="#section7" class="toc-link">Form Validation</a></li>
                        <li><a href="#section8" class="toc-link">Advanced Event Handling</a></li>
                        <li><a href="#section9" class="toc-link">Hands-on Practice</a></li>
                        <li><a href="#section10" class="toc-link">Best Practices</a></li>
                        <li><a href="#section11" class="toc-link">Summary</a></li>
                    </ol>
                </nav>
            </details>

            <!-- Section 1: Introduction to Events -->
            <section id="section1" class="lesson-section">
                <h2>üéØ Introduction to Events</h2>
                <p>Events are actions that happen in your application - a user clicks a button, types in a field, submits a form, or moves their mouse. React makes handling these events straightforward and consistent across browsers.</p>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üìñ Definition</h4>
                    <p style="color: white;"><strong>Event Handler:</strong> A function that runs in response to a user action. In React, you attach event handlers directly to JSX elements using props like <code style="color: white;">onClick</code>, <code style="color: white;">onChange</code>, etc.</p>
                </div>

                <h3>Common React Events</h3>
                <p>React supports all standard DOM events, organized into categories:</p>

                <table>
                    <thead>
                        <tr>
                            <th>Category</th>
                            <th>Events</th>
                            <th>Common Use Cases</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Mouse</strong></td>
                            <td>onClick, onDoubleClick, onMouseEnter, onMouseLeave</td>
                            <td>Buttons, clickable areas, hover effects</td>
                        </tr>
                        <tr>
                            <td><strong>Keyboard</strong></td>
                            <td>onKeyDown, onKeyUp, onKeyPress</td>
                            <td>Shortcuts, search inputs, text editing</td>
                        </tr>
                        <tr>
                            <td><strong>Form</strong></td>
                            <td>onChange, onSubmit, onFocus, onBlur</td>
                            <td>Inputs, forms, validation</td>
                        </tr>
                        <tr>
                            <td><strong>Touch</strong></td>
                            <td>onTouchStart, onTouchMove, onTouchEnd</td>
                            <td>Mobile interactions, gestures</td>
                        </tr>
                        <tr>
                            <td><strong>Focus</strong></td>
                            <td>onFocus, onBlur</td>
                            <td>Form validation, accessibility</td>
                        </tr>
                        <tr>
                            <td><strong>Clipboard</strong></td>
                            <td>onCopy, onCut, onPaste</td>
                            <td>Copy protection, formatted paste</td>
                        </tr>
                    </tbody>
                </table>

                <h3>React Events vs DOM Events</h3>
                <p>React events work similarly to HTML events but with some key differences:</p>

                <pre><code class="language-html">&lt;!-- HTML/Vanilla JavaScript --&gt;
&lt;button onclick="handleClick()"&gt;Click me&lt;/button&gt;

&lt;script&gt;
function handleClick() {
    console.log('Clicked!');
}
&lt;/script&gt;</code></pre>

                <pre><code class="language-typescript">// React/TypeScript
function MyComponent() {
    const handleClick = () => {
        console.log('Clicked!');
    };
    
    return &lt;button onClick={handleClick}&gt;Click me&lt;/button&gt;;
}</code></pre>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Key Differences</h4>
                    <ul>
                        <li><strong>Naming:</strong> camelCase in React (<code>onClick</code>), lowercase in HTML (<code>onclick</code>)</li>
                        <li><strong>Value:</strong> Function reference in React, string in HTML</li>
                        <li><strong>Preventing default:</strong> Call <code>e.preventDefault()</code> in React, return <code>false</code> in HTML</li>
                        <li><strong>Consistency:</strong> React normalizes events across browsers</li>
                    </ul>
                </div>

                <div class="mermaid">
                    graph LR
                    A[User Action] --> B[Browser Event]
                    B --> C[React Synthetic Event]
                    C --> D[Your Event Handler]
                    D --> E[Update State/UI]
                    style A fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style E fill:#4CAF50,stroke:#333,stroke-width:2px,color:#fff
                </div>
            </section>

            <!-- Section 2: Basic Event Handling -->
            <section id="section2" class="lesson-section">
                <h2>üñ±Ô∏è Basic Event Handling</h2>
                <p>Let's start with the most common event - click handling!</p>

                <h3>Simple Click Handler</h3>
                <p>The most basic event handler:</p>

                <pre><code class="language-typescript">function ClickExample() {
    const handleClick = () => {
        console.log('Button was clicked!');
    };
    
    return (
        &lt;button onClick={handleClick}&gt;
            Click me
        &lt;/button&gt;
    );
}</code></pre>

                <h3>Inline Event Handlers</h3>
                <p>For simple actions, you can write handlers inline:</p>

                <pre><code class="language-typescript">function InlineExample() {
    return (
        &lt;div&gt;
            {/* Inline arrow function */}
            &lt;button onClick={() => console.log('Clicked!')}&gt;
                Click me
            &lt;/button&gt;
            
            {/* Inline with multiple statements */}
            &lt;button onClick={() => {
                console.log('Starting...');
                console.log('Done!');
            }}&gt;
                Multi-line
            &lt;/button&gt;
        &lt;/div&gt;
    );
}</code></pre>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Performance Note</h4>
                    <p>Inline functions are recreated on every render. For most cases this is fine, but for performance-critical components or long lists, define handlers outside the JSX.</p>
                </div>

                <h3>Event Handler with State</h3>
                <p>Handlers typically update state to trigger re-renders:</p>

                <pre><code class="language-typescript">import { useState } from 'react';

function Counter() {
    const [count, setCount] = useState(0);
    
    const handleIncrement = () => {
        setCount(count + 1);
    };
    
    const handleDecrement = () => {
        setCount(count - 1);
    };
    
    const handleReset = () => {
        setCount(0);
    };
    
    return (
        &lt;div&gt;
            &lt;h2&gt;Count: {count}&lt;/h2&gt;
            &lt;button onClick={handleIncrement}&gt;+1&lt;/button&gt;
            &lt;button onClick={handleDecrement}&gt;-1&lt;/button&gt;
            &lt;button onClick={handleReset}&gt;Reset&lt;/button&gt;
        &lt;/div&gt;
    );
}</code></pre>

                <h3>Multiple Event Types</h3>
                <p>Elements can respond to multiple events:</p>

                <pre><code class="language-typescript">function MultiEventButton() {
    const handleClick = () => {
        console.log('Clicked!');
    };
    
    const handleMouseEnter = () => {
        console.log('Mouse entered!');
    };
    
    const handleMouseLeave = () => {
        console.log('Mouse left!');
    };
    
    return (
        &lt;button
            onClick={handleClick}
            onMouseEnter={handleMouseEnter}
            onMouseLeave={handleMouseLeave}
        &gt;
            Hover and Click me
        &lt;/button&gt;
    );
}</code></pre>

                <h3>Hover Effects with State</h3>
                <p>Track hover state for interactive UI:</p>

                <pre><code class="language-typescript">function HoverCard() {
    const [isHovered, setIsHovered] = useState(false);
    
    return (
        &lt;div
            onMouseEnter={() => setIsHovered(true)}
            onMouseLeave={() => setIsHovered(false)}
            style={{
                padding: '2rem',
                backgroundColor: isHovered ? '#667eea' : '#f0f0f0',
                color: isHovered ? 'white' : '#333',
                transition: 'all 0.3s',
                cursor: 'pointer'
            }}
        &gt;
            {isHovered ? 'Thanks for hovering!' : 'Hover over me!'}
        &lt;/div&gt;
    );
}</code></pre>

                <h3>Disabling Event Handlers</h3>
                <p>Control when handlers can be triggered:</p>

                <pre><code class="language-typescript">function SubmitButton() {
    const [isLoading, setIsLoading] = useState(false);
    
    const handleSubmit = async () => {
        setIsLoading(true);
        
        // Simulate API call
        await new Promise(resolve => setTimeout(resolve, 2000));
        
        setIsLoading(false);
        console.log('Submitted!');
    };
    
    return (
        &lt;button 
            onClick={handleSubmit}
            disabled={isLoading}
        &gt;
            {isLoading ? 'Submitting...' : 'Submit'}
        &lt;/button&gt;
    );
}</code></pre>
            </section>

            <!-- Section 3: Synthetic Events -->
            <section id="section3" class="lesson-section">
                <h2>üîÑ Synthetic Events</h2>
                <p>React doesn't use native browser events directly. Instead, it wraps them in "synthetic events" for consistency and performance.</p>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üìñ Definition</h4>
                    <p style="color: white;"><strong>Synthetic Event:</strong> React's cross-browser wrapper around the browser's native event. It has the same interface as native events but works identically across all browsers.</p>
                </div>

                <h3>Why Synthetic Events?</h3>
                <p>React's event system provides several benefits:</p>

                <ul>
                    <li><strong>Cross-browser compatibility</strong> - Works the same in all browsers</li>
                    <li><strong>Performance</strong> - Event pooling and delegation for efficiency</li>
                    <li><strong>Consistency</strong> - Predictable behavior across event types</li>
                    <li><strong>Integration</strong> - Works seamlessly with React's rendering</li>
                </ul>

                <h3>Accessing Event Properties</h3>
                <p>Synthetic events have all the properties you'd expect:</p>

                <pre><code class="language-typescript">function EventDetails() {
    const handleClick = (event: React.MouseEvent&lt;HTMLButtonElement&gt;) => {
        console.log('Event type:', event.type);              // "click"
        console.log('Target element:', event.target);        // The button
        console.log('Current target:', event.currentTarget); // Also the button
        console.log('Mouse X:', event.clientX);              // X coordinate
        console.log('Mouse Y:', event.clientY);              // Y coordinate
        console.log('Button clicked:', event.button);        // 0 = left, 1 = middle, 2 = right
        console.log('Ctrl key held?', event.ctrlKey);        // Boolean
        console.log('Timestamp:', event.timeStamp);          // When it happened
    };
    
    return &lt;button onClick={handleClick}&gt;Click for details&lt;/button&gt;;
}</code></pre>

                <h3>preventDefault()</h3>
                <p>Prevent the browser's default behavior:</p>

                <pre><code class="language-typescript">function LinkExample() {
    const handleClick = (event: React.MouseEvent&lt;HTMLAnchorElement&gt;) => {
        event.preventDefault(); // Don't navigate!
        console.log('Link clicked, but not navigating');
    };
    
    return (
        &lt;a href="https://example.com" onClick={handleClick}&gt;
            Click me (won't navigate)
        &lt;/a&gt;
    );
}

function FormExample() {
    const handleSubmit = (event: React.FormEvent&lt;HTMLFormElement&gt;) => {
        event.preventDefault(); // Don't reload page!
        console.log('Form submitted, but page not reloaded');
    };
    
    return (
        &lt;form onSubmit={handleSubmit}&gt;
            &lt;input type="text" /&gt;
            &lt;button type="submit"&gt;Submit&lt;/button&gt;
        &lt;/form&gt;
    );
}</code></pre>

                <h3>stopPropagation()</h3>
                <p>Stop events from bubbling up to parent elements:</p>

                <pre><code class="language-typescript">function BubblingExample() {
    const handleParentClick = () => {
        console.log('Parent clicked');
    };
    
    const handleChildClick = (event: React.MouseEvent) => {
        event.stopPropagation(); // Don't trigger parent handler
        console.log('Child clicked');
    };
    
    return (
        &lt;div onClick={handleParentClick} style={{ padding: '2rem', background: '#f0f0f0' }}&gt;
            Parent (click me)
            &lt;button onClick={handleChildClick}&gt;
                Child (click me - won't trigger parent)
            &lt;/button&gt;
        &lt;/div&gt;
    );
}</code></pre>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Event Bubbling Visualization</h4>
                    <p>When you click a child element, the event "bubbles" up through parent elements:</p>
                    <pre><code>Child ‚Üí Parent ‚Üí Grandparent ‚Üí ... ‚Üí Document</code></pre>
                    <p>Use <code>stopPropagation()</code> to prevent this bubbling.</p>
                </div>

                <div class="mermaid">
                    graph TD
                    A[Child Element Clicked] --> B{stopPropagation called?}
                    B -->|No| C[Event bubbles to Parent]
                    B -->|Yes| D[Event stops here]
                    C --> E[Parent handler runs]
                    E --> F[Continues bubbling up]
                    style A fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style D fill:#4CAF50,stroke:#333,stroke-width:2px,color:#fff
                    style F fill:#ffc107,stroke:#333,stroke-width:2px
                </div>

                <h3>Event Pooling (Note for React 16 and earlier)</h3>
                <p>In React 16 and earlier, synthetic events were pooled for performance. In React 17+, this was removed, so you can safely access event properties asynchronously:</p>

                <pre><code class="language-typescript">// React 17+ - This works fine
function ModernComponent() {
    const handleClick = (event: React.MouseEvent) => {
        setTimeout(() => {
            console.log(event.type); // ‚úÖ Works in React 17+
        }, 1000);
    };
    
    return &lt;button onClick={handleClick}&gt;Click me&lt;/button&gt;;
}</code></pre>
            </section>

            <!-- Section 4: TypeScript Event Types -->
            <section id="section4" class="lesson-section">
                <h2>üî∑ TypeScript Event Types</h2>
                <p>TypeScript provides specific types for each kind of event, ensuring type safety and great autocomplete!</p>

                <h3>Common Event Types</h3>
                <p>Here are the most frequently used event types:</p>

                <table>
                    <thead>
                        <tr>
                            <th>Event</th>
                            <th>TypeScript Type</th>
                            <th>Example Element</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>onClick</strong></td>
                            <td><code>React.MouseEvent&lt;HTMLButtonElement&gt;</code></td>
                            <td>button, div, any element</td>
                        </tr>
                        <tr>
                            <td><strong>onChange</strong></td>
                            <td><code>React.ChangeEvent&lt;HTMLInputElement&gt;</code></td>
                            <td>input, textarea, select</td>
                        </tr>
                        <tr>
                            <td><strong>onSubmit</strong></td>
                            <td><code>React.FormEvent&lt;HTMLFormElement&gt;</code></td>
                            <td>form</td>
                        </tr>
                        <tr>
                            <td><strong>onKeyDown</strong></td>
                            <td><code>React.KeyboardEvent&lt;HTMLInputElement&gt;</code></td>
                            <td>input, any focusable element</td>
                        </tr>
                        <tr>
                            <td><strong>onFocus/onBlur</strong></td>
                            <td><code>React.FocusEvent&lt;HTMLInputElement&gt;</code></td>
                            <td>input, button, any focusable</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Click Events</h3>
                <pre><code class="language-typescript">// Button click
const handleButtonClick = (event: React.MouseEvent&lt;HTMLButtonElement&gt;) => {
    console.log('Button clicked at:', event.clientX, event.clientY);
};

// Div click (any element)
const handleDivClick = (event: React.MouseEvent&lt;HTMLDivElement&gt;) => {
    console.log('Div clicked');
};

// Generic click (works with any element)
const handleClick = (event: React.MouseEvent&lt;HTMLElement&gt;) => {
    console.log('Element clicked');
};</code></pre>

                <h3>Input Change Events</h3>
                <pre><code class="language-typescript">// Text input
const handleInputChange = (event: React.ChangeEvent&lt;HTMLInputElement&gt;) => {
    const value = event.target.value;
    console.log('Input value:', value);
};

// Textarea
const handleTextareaChange = (event: React.ChangeEvent&lt;HTMLTextAreaElement&gt;) => {
    const value = event.target.value;
    console.log('Textarea value:', value);
};

// Select dropdown
const handleSelectChange = (event: React.ChangeEvent&lt;HTMLSelectElement&gt;) => {
    const value = event.target.value;
    console.log('Selected:', value);
};</code></pre>

                <h3>Form Submit Events</h3>
                <pre><code class="language-typescript">const handleSubmit = (event: React.FormEvent&lt;HTMLFormElement&gt;) => {
    event.preventDefault();
    
    // Get form data
    const formData = new FormData(event.currentTarget);
    const email = formData.get('email');
    
    console.log('Form submitted with email:', email);
};</code></pre>

                <h3>Keyboard Events</h3>
                <pre><code class="language-typescript">const handleKeyDown = (event: React.KeyboardEvent&lt;HTMLInputElement&gt;) => {
    console.log('Key pressed:', event.key);
    console.log('Key code:', event.code);
    console.log('Ctrl held?', event.ctrlKey);
    console.log('Shift held?', event.shiftKey);
    console.log('Alt held?', event.altKey);
    
    // Check for Enter key
    if (event.key === 'Enter') {
        console.log('Enter was pressed!');
    }
    
    // Check for Escape
    if (event.key === 'Escape') {
        console.log('Escape was pressed!');
    }
};</code></pre>

                <h3>Generic Event Handler Type</h3>
                <p>For functions that handle multiple event types:</p>

                <pre><code class="language-typescript">// Generic handler function type
type EventHandler&lt;T = HTMLElement&gt; = (
    event: React.MouseEvent&lt;T&gt; | React.KeyboardEvent&lt;T&gt;
) => void;

// Usage
const handleInteraction: EventHandler&lt;HTMLButtonElement&gt; = (event) => {
    if ('key' in event) {
        // It's a keyboard event
        console.log('Key:', event.key);
    } else {
        // It's a mouse event
        console.log('Mouse:', event.clientX, event.clientY);
    }
};</code></pre>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ TypeScript Benefits</h4>
                    <ul>
                        <li><strong>Autocomplete</strong> - Your IDE suggests available event properties</li>
                        <li><strong>Type checking</strong> - Catch errors before runtime</li>
                        <li><strong>Documentation</strong> - Types show what properties are available</li>
                        <li><strong>Refactoring</strong> - Safely change event handling code</li>
                    </ul>
                </div>


                <!-- Interactive SVG: Event Type Decision Tree -->
                <h3>üéØ Choosing the Right Event Type</h3>
                <p>Use this visual guide to select the appropriate TypeScript event type:</p>
                
                <svg viewBox="0 0 800 500" style="width: 100%; max-width: 800px; height: auto; margin: 2rem auto; display: block; font-family: system-ui, sans-serif;">
                    <!-- Background -->
                    <defs>
                        <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#667eea"/>
                            <stop offset="100%" style="stop-color:#764ba2"/>
                        </linearGradient>
                        <linearGradient id="mouseGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:#4CAF50"/>
                            <stop offset="100%" style="stop-color:#45a049"/>
                        </linearGradient>
                        <linearGradient id="keyboardGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:#2196F3"/>
                            <stop offset="100%" style="stop-color:#1976D2"/>
                        </linearGradient>
                        <linearGradient id="formGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:#FF9800"/>
                            <stop offset="100%" style="stop-color:#F57C00"/>
                        </linearGradient>
                        <linearGradient id="focusGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:#9C27B0"/>
                            <stop offset="100%" style="stop-color:#7B1FA2"/>
                        </linearGradient>
                        <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                            <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
                        </filter>
                    </defs>
                    
                    <!-- Title -->
                    <rect x="250" y="10" width="300" height="45" rx="8" fill="url(#headerGrad)" filter="url(#shadow)"/>
                    <text x="400" y="40" text-anchor="middle" fill="white" font-weight="bold" font-size="16">What type of interaction?</text>
                    
                    <!-- Connecting Lines -->
                    <path d="M400 55 L400 80 L150 80 L150 110" stroke="#667eea" stroke-width="2" fill="none"/>
                    <path d="M400 55 L400 80 L300 80 L300 110" stroke="#667eea" stroke-width="2" fill="none"/>
                    <path d="M400 55 L400 80 L500 80 L500 110" stroke="#667eea" stroke-width="2" fill="none"/>
                    <path d="M400 55 L400 80 L650 80 L650 110" stroke="#667eea" stroke-width="2" fill="none"/>
                    
                    <!-- Mouse Events Branch -->
                    <rect x="50" y="110" width="200" height="40" rx="6" fill="url(#mouseGrad)" filter="url(#shadow)"/>
                    <text x="150" y="135" text-anchor="middle" fill="white" font-weight="bold" font-size="14">üñ±Ô∏è Mouse Events</text>
                    
                    <rect x="50" y="165" width="200" height="90" rx="6" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
                    <text x="150" y="190" text-anchor="middle" fill="#333" font-size="11">React.MouseEvent&lt;T&gt;</text>
                    <text x="150" y="210" text-anchor="middle" fill="#666" font-size="10">onClick, onDoubleClick</text>
                    <text x="150" y="228" text-anchor="middle" fill="#666" font-size="10">onMouseEnter, onMouseLeave</text>
                    <text x="150" y="246" text-anchor="middle" fill="#666" font-size="10">onMouseMove, onMouseDown</text>
                    
                    <!-- Keyboard Events Branch -->
                    <rect x="200" y="110" width="200" height="40" rx="6" fill="url(#keyboardGrad)" filter="url(#shadow)"/>
                    <text x="300" y="135" text-anchor="middle" fill="white" font-weight="bold" font-size="14">‚å®Ô∏è Keyboard Events</text>
                    
                    <rect x="200" y="165" width="200" height="90" rx="6" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/>
                    <text x="300" y="190" text-anchor="middle" fill="#333" font-size="11">React.KeyboardEvent&lt;T&gt;</text>
                    <text x="300" y="210" text-anchor="middle" fill="#666" font-size="10">onKeyDown, onKeyUp</text>
                    <text x="300" y="228" text-anchor="middle" fill="#666" font-size="10">event.key, event.code</text>
                    <text x="300" y="246" text-anchor="middle" fill="#666" font-size="10">event.ctrlKey, event.shiftKey</text>
                    
                    <!-- Form Events Branch -->
                    <rect x="400" y="110" width="200" height="40" rx="6" fill="url(#formGrad)" filter="url(#shadow)"/>
                    <text x="500" y="135" text-anchor="middle" fill="white" font-weight="bold" font-size="14">üìù Form Events</text>
                    
                    <rect x="400" y="165" width="200" height="90" rx="6" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
                    <text x="500" y="185" text-anchor="middle" fill="#333" font-size="11">React.ChangeEvent&lt;T&gt;</text>
                    <text x="500" y="203" text-anchor="middle" fill="#333" font-size="11">React.FormEvent&lt;T&gt;</text>
                    <text x="500" y="223" text-anchor="middle" fill="#666" font-size="10">onChange, onSubmit</text>
                    <text x="500" y="241" text-anchor="middle" fill="#666" font-size="10">event.target.value</text>
                    
                    <!-- Focus Events Branch -->
                    <rect x="550" y="110" width="200" height="40" rx="6" fill="url(#focusGrad)" filter="url(#shadow)"/>
                    <text x="650" y="135" text-anchor="middle" fill="white" font-weight="bold" font-size="14">üéØ Focus Events</text>
                    
                    <rect x="550" y="165" width="200" height="90" rx="6" fill="#F3E5F5" stroke="#9C27B0" stroke-width="2"/>
                    <text x="650" y="190" text-anchor="middle" fill="#333" font-size="11">React.FocusEvent&lt;T&gt;</text>
                    <text x="650" y="210" text-anchor="middle" fill="#666" font-size="10">onFocus, onBlur</text>
                    <text x="650" y="228" text-anchor="middle" fill="#666" font-size="10">Validation triggers</text>
                    <text x="650" y="246" text-anchor="middle" fill="#666" font-size="10">Accessibility support</text>
                    
                    <!-- Common Element Types -->
                    <rect x="150" y="290" width="500" height="35" rx="6" fill="#f5f5f5" stroke="#ddd" stroke-width="1"/>
                    <text x="400" y="313" text-anchor="middle" fill="#333" font-size="12" font-weight="bold">Common Element Type Parameters (T)</text>
                    
                    <rect x="100" y="340" width="130" height="60" rx="4" fill="white" stroke="#667eea" stroke-width="1"/>
                    <text x="165" y="365" text-anchor="middle" fill="#667eea" font-size="11" font-weight="bold">HTMLButtonElement</text>
                    <text x="165" y="385" text-anchor="middle" fill="#666" font-size="10">&lt;button&gt;</text>
                    
                    <rect x="250" y="340" width="130" height="60" rx="4" fill="white" stroke="#667eea" stroke-width="1"/>
                    <text x="315" y="365" text-anchor="middle" fill="#667eea" font-size="11" font-weight="bold">HTMLInputElement</text>
                    <text x="315" y="385" text-anchor="middle" fill="#666" font-size="10">&lt;input&gt;</text>
                    
                    <rect x="400" y="340" width="130" height="60" rx="4" fill="white" stroke="#667eea" stroke-width="1"/>
                    <text x="465" y="365" text-anchor="middle" fill="#667eea" font-size="11" font-weight="bold">HTMLFormElement</text>
                    <text x="465" y="385" text-anchor="middle" fill="#666" font-size="10">&lt;form&gt;</text>
                    
                    <rect x="550" y="340" width="130" height="60" rx="4" fill="white" stroke="#667eea" stroke-width="1"/>
                    <text x="615" y="365" text-anchor="middle" fill="#667eea" font-size="11" font-weight="bold">HTMLDivElement</text>
                    <text x="615" y="385" text-anchor="middle" fill="#666" font-size="10">&lt;div&gt;, etc.</text>
                    
                    <!-- Tip Box -->
                    <rect x="150" y="420" width="500" height="60" rx="8" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
                    <text x="170" y="445" fill="#2E7D32" font-size="12" font-weight="bold">üí° Pro Tip:</text>
                    <text x="170" y="465" fill="#333" font-size="11">Hover over event types in your IDE to see all available properties!</text>
                </svg>
            </section>

            <!-- Section 5: Form Events and Inputs -->
            <section id="section5" class="lesson-section">
                <h2>üìù Form Events and Inputs</h2>
                <p>Forms are the backbone of user interaction on the web. React provides powerful patterns for handling form inputs through controlled components - where React state is the "single source of truth" for input values.</p>

                <!-- SVG: Controlled vs Uncontrolled Components -->
                <h3>Controlled vs Uncontrolled Components</h3>
                <svg viewBox="0 0 800 350" style="width: 100%; max-width: 800px; height: auto; margin: 2rem auto; display: block; font-family: system-ui, sans-serif;">
                    <defs>
                        <linearGradient id="controlledGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#4CAF50"/>
                            <stop offset="100%" style="stop-color:#8BC34A"/>
                        </linearGradient>
                        <linearGradient id="uncontrolledGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#FF9800"/>
                            <stop offset="100%" style="stop-color:#FFC107"/>
                        </linearGradient>
                        <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                            <path d="M0,0 L0,6 L9,3 z" fill="#4CAF50"/>
                        </marker>
                        <marker id="arrowOrange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                            <path d="M0,0 L0,6 L9,3 z" fill="#FF9800"/>
                        </marker>
                    </defs>
                    
                    <!-- Title -->
                    <text x="400" y="25" text-anchor="middle" fill="#333" font-weight="bold" font-size="18">Data Flow Comparison</text>
                    
                    <!-- Controlled Component Side -->
                    <rect x="30" y="50" width="350" height="280" rx="10" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
                    <rect x="30" y="50" width="350" height="40" rx="10" fill="url(#controlledGrad)"/>
                    <text x="205" y="77" text-anchor="middle" fill="white" font-weight="bold" font-size="14">‚úÖ Controlled Component (Recommended)</text>
                    
                    <!-- React State Box -->
                    <rect x="60" y="110" width="120" height="50" rx="6" fill="white" stroke="#4CAF50" stroke-width="2"/>
                    <text x="120" y="130" text-anchor="middle" fill="#333" font-size="11" font-weight="bold">React State</text>
                    <text x="120" y="148" text-anchor="middle" fill="#4CAF50" font-size="10">useState()</text>
                    
                    <!-- Input Box -->
                    <rect x="230" y="110" width="120" height="50" rx="6" fill="white" stroke="#4CAF50" stroke-width="2"/>
                    <text x="290" y="130" text-anchor="middle" fill="#333" font-size="11" font-weight="bold">Input Element</text>
                    <text x="290" y="148" text-anchor="middle" fill="#4CAF50" font-size="10">value={state}</text>
                    
                    <!-- Arrows for controlled -->
                    <path d="M180 125 L220 125" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowGreen)"/>
                    <text x="200" y="118" text-anchor="middle" fill="#4CAF50" font-size="9">value</text>
                    
                    <path d="M290 165 L290 190 L120 190 L120 165" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowGreen)" fill="none"/>
                    <text x="205" y="205" text-anchor="middle" fill="#4CAF50" font-size="9">onChange ‚Üí setState()</text>
                    
                    <!-- Benefits -->
                    <text x="60" y="240" fill="#2E7D32" font-size="11">‚úì Single source of truth</text>
                    <text x="60" y="260" fill="#2E7D32" font-size="11">‚úì Instant validation</text>
                    <text x="60" y="280" fill="#2E7D32" font-size="11">‚úì Conditional disabling</text>
                    <text x="60" y="300" fill="#2E7D32" font-size="11">‚úì Format as you type</text>
                    
                    <!-- Uncontrolled Component Side -->
                    <rect x="420" y="50" width="350" height="280" rx="10" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
                    <rect x="420" y="50" width="350" height="40" rx="10" fill="url(#uncontrolledGrad)"/>
                    <text x="595" y="77" text-anchor="middle" fill="white" font-weight="bold" font-size="14">‚ö†Ô∏è Uncontrolled Component</text>
                    
                    <!-- DOM Box -->
                    <rect x="450" y="110" width="120" height="50" rx="6" fill="white" stroke="#FF9800" stroke-width="2"/>
                    <text x="510" y="130" text-anchor="middle" fill="#333" font-size="11" font-weight="bold">DOM</text>
                    <text x="510" y="148" text-anchor="middle" fill="#FF9800" font-size="10">Stores value</text>
                    
                    <!-- Ref Box -->
                    <rect x="620" y="110" width="120" height="50" rx="6" fill="white" stroke="#FF9800" stroke-width="2"/>
                    <text x="680" y="130" text-anchor="middle" fill="#333" font-size="11" font-weight="bold">useRef()</text>
                    <text x="680" y="148" text-anchor="middle" fill="#FF9800" font-size="10">Access on submit</text>
                    
                    <!-- Arrow -->
                    <path d="M570 135 L610 135" stroke="#FF9800" stroke-width="2" marker-end="url(#arrowOrange)" stroke-dasharray="5,3"/>
                    <text x="590" y="155" text-anchor="middle" fill="#FF9800" font-size="9">ref.current</text>
                    
                    <!-- Limitations -->
                    <text x="450" y="240" fill="#E65100" font-size="11">‚úó No instant validation</text>
                    <text x="450" y="260" fill="#E65100" font-size="11">‚úó Can't track changes</text>
                    <text x="450" y="280" fill="#E65100" font-size="11">‚úó Harder to test</text>
                    <text x="450" y="300" fill="#388E3C" font-size="11">‚úì Good for file inputs</text>
                </svg>

                <h3>Text Input Handling</h3>
                <p>The most common form element. Here's how to handle text inputs with proper TypeScript typing:</p>

                <pre><code class="language-typescript">import { useState } from 'react';

function TextInputExample() {
    const [name, setName] = useState('');
    const [email, setEmail] = useState('');
    
    const handleNameChange = (event: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
        setName(event.target.value);
    };
    
    const handleEmailChange = (event: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
        setEmail(event.target.value);
    };
    
    return (
        &lt;form&gt;
            &lt;div&gt;
                &lt;label htmlFor="name"&gt;Name:&lt;/label&gt;
                &lt;input
                    id="name"
                    type="text"
                    value={name}
                    onChange={handleNameChange}
                    placeholder="Enter your name"
                /&gt;
            &lt;/div&gt;
            
            &lt;div&gt;
                &lt;label htmlFor="email"&gt;Email:&lt;/label&gt;
                &lt;input
                    id="email"
                    type="email"
                    value={email}
                    onChange={handleEmailChange}
                    placeholder="Enter your email"
                /&gt;
            &lt;/div&gt;
            
            &lt;p&gt;Hello, {name || 'stranger'}! Your email is {email || 'not set'}.&lt;/p&gt;
        &lt;/form&gt;
    );
}</code></pre>

                <h3>Checkbox and Radio Inputs</h3>
                <p>Checkboxes and radio buttons use <code>checked</code> instead of <code>value</code>:</p>

                <pre><code class="language-typescript">function CheckboxRadioExample() {
    const [isSubscribed, setIsSubscribed] = useState(false);
    const [contactMethod, setContactMethod] = useState('email');
    const [interests, setInterests] = useState&lt;string[]&gt;([]);
    
    // Single checkbox
    const handleSubscribeChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
        setIsSubscribed(e.target.checked);
    };
    
    // Radio buttons
    const handleContactChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
        setContactMethod(e.target.value);
    };
    
    // Multiple checkboxes
    const handleInterestChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
        const { value, checked } = e.target;
        setInterests(prev =&gt;
            checked
                ? [...prev, value]
                : prev.filter(interest =&gt; interest !== value)
        );
    };
    
    return (
        &lt;form&gt;
            {/* Single Checkbox */}
            &lt;label&gt;
                &lt;input
                    type="checkbox"
                    checked={isSubscribed}
                    onChange={handleSubscribeChange}
                /&gt;
                Subscribe to newsletter
            &lt;/label&gt;
            
            {/* Radio Buttons */}
            &lt;fieldset&gt;
                &lt;legend&gt;Preferred contact method:&lt;/legend&gt;
                &lt;label&gt;
                    &lt;input
                        type="radio"
                        value="email"
                        checked={contactMethod === 'email'}
                        onChange={handleContactChange}
                    /&gt;
                    Email
                &lt;/label&gt;
                &lt;label&gt;
                    &lt;input
                        type="radio"
                        value="phone"
                        checked={contactMethod === 'phone'}
                        onChange={handleContactChange}
                    /&gt;
                    Phone
                &lt;/label&gt;
            &lt;/fieldset&gt;
            
            {/* Multiple Checkboxes */}
            &lt;fieldset&gt;
                &lt;legend&gt;Interests:&lt;/legend&gt;
                {['React', 'TypeScript', 'Node.js'].map(tech =&gt; (
                    &lt;label key={tech}&gt;
                        &lt;input
                            type="checkbox"
                            value={tech}
                            checked={interests.includes(tech)}
                            onChange={handleInterestChange}
                        /&gt;
                        {tech}
                    &lt;/label&gt;
                ))}
            &lt;/fieldset&gt;
        &lt;/form&gt;
    );
}</code></pre>

                <h3>Select Dropdowns</h3>
                <p>Select elements work similarly to text inputs:</p>

                <pre><code class="language-typescript">function SelectExample() {
    const [country, setCountry] = useState('');
    const [languages, setLanguages] = useState&lt;string[]&gt;([]);
    
    // Single select
    const handleCountryChange = (e: React.ChangeEvent&lt;HTMLSelectElement&gt;) =&gt; {
        setCountry(e.target.value);
    };
    
    // Multiple select
    const handleLanguagesChange = (e: React.ChangeEvent&lt;HTMLSelectElement&gt;) =&gt; {
        const options = e.target.options;
        const selected: string[] = [];
        
        for (let i = 0; i &lt; options.length; i++) {
            if (options[i].selected) {
                selected.push(options[i].value);
            }
        }
        
        setLanguages(selected);
    };
    
    return (
        &lt;form&gt;
            {/* Single Select */}
            &lt;label&gt;
                Country:
                &lt;select value={country} onChange={handleCountryChange}&gt;
                    &lt;option value=""&gt;Select a country&lt;/option&gt;
                    &lt;option value="us"&gt;United States&lt;/option&gt;
                    &lt;option value="uk"&gt;United Kingdom&lt;/option&gt;
                    &lt;option value="ca"&gt;Canada&lt;/option&gt;
                &lt;/select&gt;
            &lt;/label&gt;
            
            {/* Multiple Select */}
            &lt;label&gt;
                Languages (hold Ctrl/Cmd to select multiple):
                &lt;select
                    multiple
                    value={languages}
                    onChange={handleLanguagesChange}
                    style={{ height: '100px' }}
                &gt;
                    &lt;option value="en"&gt;English&lt;/option&gt;
                    &lt;option value="es"&gt;Spanish&lt;/option&gt;
                    &lt;option value="fr"&gt;French&lt;/option&gt;
                    &lt;option value="de"&gt;German&lt;/option&gt;
                &lt;/select&gt;
            &lt;/label&gt;
        &lt;/form&gt;
    );
}</code></pre>

                <!-- Interactive Canvas: Form State Visualization -->
                <h3>üéÆ Interactive Demo: Form State Flow</h3>
                <p>This visualization shows how controlled components maintain state:</p>
                
                <div style="background: #f8f9fa; border-radius: 12px; padding: 1.5rem; margin: 1.5rem 0;">
                    <canvas id="formStateCanvas" width="750" height="380" style="width: 100%; max-width: 750px; display: block; margin: 0 auto; border: 1px solid #ddd; border-radius: 8px; background: white;"></canvas>
                    <p style="text-align: center; color: #666; margin-top: 0.5rem; font-size: 0.9rem;">Animated visualization of controlled component data flow</p>
                </div>
                
                <script>
                (function() {
                    const canvas = document.getElementById('formStateCanvas');
                    if (!canvas) return;
                    const ctx = canvas.getContext('2d');
                    let animationFrame;
                    let time = 0;
                    
                    function drawRoundedRect(x, y, w, h, r, fill, stroke) {
                        ctx.beginPath();
                        ctx.roundRect(x, y, w, h, r);
                        if (fill) { ctx.fillStyle = fill; ctx.fill(); }
                        if (stroke) { ctx.strokeStyle = stroke; ctx.lineWidth = 2; ctx.stroke(); }
                    }
                    
                    function drawArrow(fromX, fromY, toX, toY, color) {
                        const headLen = 10;
                        const angle = Math.atan2(toY - fromY, toX - fromX);
                        
                        ctx.beginPath();
                        ctx.moveTo(fromX, fromY);
                        ctx.lineTo(toX, toY);
                        ctx.strokeStyle = color;
                        ctx.lineWidth = 2;
                        ctx.stroke();
                        
                        ctx.beginPath();
                        ctx.moveTo(toX, toY);
                        ctx.lineTo(toX - headLen * Math.cos(angle - Math.PI / 6), toY - headLen * Math.sin(angle - Math.PI / 6));
                        ctx.lineTo(toX - headLen * Math.cos(angle + Math.PI / 6), toY - headLen * Math.sin(angle + Math.PI / 6));
                        ctx.closePath();
                        ctx.fillStyle = color;
                        ctx.fill();
                    }
                    
                    function animate() {
                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                        time += 0.02;
                        
                        // Title
                        ctx.font = 'bold 18px system-ui';
                        ctx.fillStyle = '#333';
                        ctx.textAlign = 'center';
                        ctx.fillText('Controlled Component Data Flow', canvas.width / 2, 30);
                        
                        // State Box
                        const stateX = 80, stateY = 70;
                        drawRoundedRect(stateX, stateY, 160, 90, 8, '#E8F5E9', '#4CAF50');
                        ctx.font = 'bold 14px system-ui';
                        ctx.fillStyle = '#2E7D32';
                        ctx.textAlign = 'center';
                        ctx.fillText('React State', stateX + 80, stateY + 25);
                        ctx.font = '12px monospace';
                        ctx.fillStyle = '#666';
                        ctx.fillText('const [value, setValue]', stateX + 80, stateY + 45);
                        ctx.fillText('= useState("")', stateX + 80, stateY + 62);
                        
                        // Animated state value
                        const chars = 'Hello!';
                        const typedText = chars.substring(0, Math.floor((Math.sin(time * 0.8) + 1) * 3.5));
                        ctx.font = 'bold 14px monospace';
                        ctx.fillStyle = '#4CAF50';
                        ctx.fillText('"' + typedText + '"', stateX + 80, stateY + 82);
                        
                        // Input Box
                        const inputX = 510, inputY = 70;
                        drawRoundedRect(inputX, inputY, 160, 90, 8, '#E3F2FD', '#2196F3');
                        ctx.font = 'bold 14px system-ui';
                        ctx.fillStyle = '#1565C0';
                        ctx.fillText('<input />', inputX + 80, inputY + 25);
                        
                        // Input field visualization
                        drawRoundedRect(inputX + 20, inputY + 40, 120, 35, 4, 'white', '#90CAF9');
                        ctx.font = '14px monospace';
                        ctx.fillStyle = '#333';
                        ctx.textAlign = 'left';
                        ctx.fillText(typedText, inputX + 28, inputY + 63);
                        
                        // Blinking cursor
                        if (Math.floor(time * 2) % 2 === 0) {
                            const cursorX = inputX + 28 + ctx.measureText(typedText).width;
                            ctx.fillStyle = '#333';
                            ctx.fillRect(cursorX, inputX - 462, 2, 18);
                        }
                        
                        // Value prop arrow (top)
                        const pulseTop = (Math.sin(time * 3) + 1) / 2;
                        ctx.globalAlpha = 0.5 + pulseTop * 0.5;
                        drawArrow(240, stateY + 35, 510, inputY + 35, '#4CAF50');
                        ctx.globalAlpha = 1;
                        ctx.font = '12px system-ui';
                        ctx.fillStyle = '#4CAF50';
                        ctx.textAlign = 'center';
                        ctx.fillText('value={state}', 375, stateY + 25);
                        
                        // onChange arrow (bottom)
                        const pulseBottom = (Math.sin(time * 3 + Math.PI) + 1) / 2;
                        ctx.globalAlpha = 0.5 + pulseBottom * 0.5;
                        drawArrow(510, inputY + 75, 240, stateY + 75, '#2196F3');
                        ctx.globalAlpha = 1;
                        ctx.font = '12px system-ui';
                        ctx.fillStyle = '#2196F3';
                        ctx.fillText('onChange ‚Üí setState(e.target.value)', 375, inputY + 95);
                        
                        // Re-render explanation
                        drawRoundedRect(250, 195, 250, 60, 8, '#FFF3E0', '#FF9800');
                        ctx.font = 'bold 12px system-ui';
                        ctx.fillStyle = '#E65100';
                        ctx.textAlign = 'center';
                        ctx.fillText('üîÑ Component Re-renders', 375, 218);
                        ctx.font = '11px system-ui';
                        ctx.fillStyle = '#666';
                        ctx.fillText('Input receives new value from state', 375, 240);
                        
                        // Step indicators
                        const steps = [
                            { num: '1', text: 'User types in input', x: 100, y: 280 },
                            { num: '2', text: 'onChange fires event', x: 280, y: 280 },
                            { num: '3', text: 'setState updates state', x: 460, y: 280 },
                            { num: '4', text: 'Component re-renders', x: 640, y: 280 }
                        ];
                        
                        steps.forEach((step, i) => {
                            const isActive = Math.floor(time * 0.5) % 4 === i;
                            ctx.beginPath();
                            ctx.arc(step.x, step.y, 18, 0, Math.PI * 2);
                            ctx.fillStyle = isActive ? '#667eea' : '#ddd';
                            ctx.fill();
                            ctx.font = 'bold 14px system-ui';
                            ctx.fillStyle = 'white';
                            ctx.textAlign = 'center';
                            ctx.fillText(step.num, step.x, step.y + 5);
                            ctx.font = '10px system-ui';
                            ctx.fillStyle = isActive ? '#667eea' : '#666';
                            ctx.fillText(step.text, step.x, step.y + 38);
                        });
                        
                        // Connect step circles
                        ctx.strokeStyle = '#ddd';
                        ctx.lineWidth = 2;
                        ctx.setLineDash([5, 5]);
                        ctx.beginPath();
                        ctx.moveTo(118, 280);
                        ctx.lineTo(622, 280);
                        ctx.stroke();
                        ctx.setLineDash([]);
                        
                        // Benefits list
                        ctx.textAlign = 'left';
                        ctx.font = 'bold 12px system-ui';
                        ctx.fillStyle = '#333';
                        ctx.fillText('Why Controlled Components?', 50, 345);
                        
                        ctx.font = '11px system-ui';
                        ctx.fillStyle = '#4CAF50';
                        const benefits = [
                            '‚úì Single source of truth',
                            '‚úì Instant validation',
                            '‚úì Format as user types',
                            '‚úì Conditional submit'
                        ];
                        benefits.forEach((b, i) => {
                            ctx.fillText(b, 50 + (i % 2) * 200, 365);
                            if (i >= 2) ctx.fillText(b, 50 + ((i-2) % 2) * 200, 365);
                        });
                        ctx.fillText(benefits[0], 50, 365);
                        ctx.fillText(benefits[1], 250, 365);
                        ctx.fillText(benefits[2], 450, 365);
                        ctx.fillText(benefits[3], 620, 365);
                        
                        animationFrame = requestAnimationFrame(animate);
                    }
                    
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                animate();
                            } else {
                                cancelAnimationFrame(animationFrame);
                            }
                        });
                    });
                    observer.observe(canvas);
                })();
                </script>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Best Practice: Generic Input Handler</h4>
                    <p>Instead of creating separate handlers for each input, use a single handler with the input's <code>name</code> attribute:</p>
                    <pre><code class="language-typescript">function GenericFormExample() {
    const [formData, setFormData] = useState({
        firstName: '',
        lastName: '',
        email: '',
        age: ''
    });
    
    // Single handler for all inputs!
    const handleChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
        const { name, value } = e.target;
        setFormData(prev =&gt; ({
            ...prev,
            [name]: value  // Computed property name
        }));
    };
    
    return (
        &lt;form&gt;
            &lt;input name="firstName" value={formData.firstName} onChange={handleChange} /&gt;
            &lt;input name="lastName" value={formData.lastName} onChange={handleChange} /&gt;
            &lt;input name="email" value={formData.email} onChange={handleChange} /&gt;
            &lt;input name="age" type="number" value={formData.age} onChange={handleChange} /&gt;
        &lt;/form&gt;
    );
}</code></pre>
                </div>
            </section>

            <!-- Section 6: Event Handler Patterns -->
            <section id="section6" class="lesson-section">
                <h2>üé® Event Handler Patterns</h2>
                <p>As your applications grow, you'll need patterns for handling events in more sophisticated ways. Let's explore common patterns that make your code cleaner and more maintainable.</p>

                <!-- SVG: Event Handler Patterns -->
                <svg viewBox="0 0 800 450" style="width: 100%; max-width: 800px; height: auto; margin: 2rem auto; display: block; font-family: system-ui, sans-serif;">
                    <!-- Title -->
                    <text x="400" y="30" text-anchor="middle" fill="#333" font-weight="bold" font-size="18">Common Event Handler Patterns</text>
                    
                    <!-- Pattern 1: Passing Parameters -->
                    <rect x="20" y="50" width="240" height="180" rx="10" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
                    <rect x="20" y="50" width="240" height="35" rx="10" fill="#4CAF50"/>
                    <text x="140" y="73" text-anchor="middle" fill="white" font-weight="bold" font-size="12">1. Passing Parameters</text>
                    
                    <text x="35" y="105" fill="#333" font-size="10" font-family="monospace">onClick={() =&gt; handleDelete(id)}</text>
                    <text x="35" y="130" fill="#666" font-size="10">‚Ä¢ Use arrow function wrapper</text>
                    <text x="35" y="150" fill="#666" font-size="10">‚Ä¢ Pass data to handler</text>
                    <text x="35" y="170" fill="#666" font-size="10">‚Ä¢ Common for lists</text>
                    <rect x="35" y="185" width="210" height="35" rx="4" fill="white" stroke="#4CAF50"/>
                    <text x="140" y="207" text-anchor="middle" fill="#2E7D32" font-size="10" font-weight="bold">items.map(item =&gt; ...)</text>
                    
                    <!-- Pattern 2: Event + Data -->
                    <rect x="280" y="50" width="240" height="180" rx="10" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/>
                    <rect x="280" y="50" width="240" height="35" rx="10" fill="#2196F3"/>
                    <text x="400" y="73" text-anchor="middle" fill="white" font-weight="bold" font-size="12">2. Event + Parameters</text>
                    
                    <text x="295" y="105" fill="#333" font-size="10" font-family="monospace">(e) =&gt; handleClick(e, id)</text>
                    <text x="295" y="130" fill="#666" font-size="10">‚Ä¢ Access event object</text>
                    <text x="295" y="150" fill="#666" font-size="10">‚Ä¢ AND pass custom data</text>
                    <text x="295" y="170" fill="#666" font-size="10">‚Ä¢ preventDefault + data</text>
                    <rect x="295" y="185" width="210" height="35" rx="4" fill="white" stroke="#2196F3"/>
                    <text x="400" y="207" text-anchor="middle" fill="#1565C0" font-size="10" font-weight="bold">Flexible &amp; powerful</text>
                    
                    <!-- Pattern 3: Curried Handler -->
                    <rect x="540" y="50" width="240" height="180" rx="10" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
                    <rect x="540" y="50" width="240" height="35" rx="10" fill="#FF9800"/>
                    <text x="660" y="73" text-anchor="middle" fill="white" font-weight="bold" font-size="12">3. Curried Handler</text>
                    
                    <text x="555" y="100" fill="#333" font-size="9" font-family="monospace">const handler = (id) =&gt;</text>
                    <text x="555" y="115" fill="#333" font-size="9" font-family="monospace">  (e) =&gt; doSomething(id)</text>
                    <text x="555" y="140" fill="#666" font-size="10">‚Ä¢ Returns function</text>
                    <text x="555" y="160" fill="#666" font-size="10">‚Ä¢ Cleaner JSX</text>
                    <text x="555" y="180" fill="#666" font-size="10">‚Ä¢ Reusable pattern</text>
                    <rect x="555" y="190" width="210" height="30" rx="4" fill="white" stroke="#FF9800"/>
                    <text x="660" y="210" text-anchor="middle" fill="#E65100" font-size="10" font-weight="bold">onClick={handler(id)}</text>
                    
                    <!-- Pattern 4: Conditional Handlers -->
                    <rect x="20" y="250" width="240" height="180" rx="10" fill="#F3E5F5" stroke="#9C27B0" stroke-width="2"/>
                    <rect x="20" y="250" width="240" height="35" rx="10" fill="#9C27B0"/>
                    <text x="140" y="273" text-anchor="middle" fill="white" font-weight="bold" font-size="12">4. Conditional Handling</text>
                    
                    <text x="35" y="305" fill="#333" font-size="10" font-family="monospace">disabled ? undefined : fn</text>
                    <text x="35" y="330" fill="#666" font-size="10">‚Ä¢ Enable/disable handlers</text>
                    <text x="35" y="350" fill="#666" font-size="10">‚Ä¢ Based on state</text>
                    <text x="35" y="370" fill="#666" font-size="10">‚Ä¢ Loading states</text>
                    <rect x="35" y="385" width="210" height="35" rx="4" fill="white" stroke="#9C27B0"/>
                    <text x="140" y="407" text-anchor="middle" fill="#7B1FA2" font-size="10" font-weight="bold">onClick={!loading &amp;&amp; handler}</text>
                    
                    <!-- Pattern 5: Composed Handlers -->
                    <rect x="280" y="250" width="240" height="180" rx="10" fill="#E0F7FA" stroke="#00BCD4" stroke-width="2"/>
                    <rect x="280" y="250" width="240" height="35" rx="10" fill="#00BCD4"/>
                    <text x="400" y="273" text-anchor="middle" fill="white" font-weight="bold" font-size="12">5. Composed Handlers</text>
                    
                    <text x="295" y="300" fill="#333" font-size="9" font-family="monospace">onClick={(e) =&gt; {</text>
                    <text x="295" y="315" fill="#333" font-size="9" font-family="monospace">  trackAnalytics();</text>
                    <text x="295" y="330" fill="#333" font-size="9" font-family="monospace">  handleClick(e);</text>
                    <text x="295" y="345" fill="#333" font-size="9" font-family="monospace">}}</text>
                    <text x="295" y="370" fill="#666" font-size="10">‚Ä¢ Multiple actions</text>
                    <text x="295" y="390" fill="#666" font-size="10">‚Ä¢ Logging, analytics</text>
                    <rect x="295" y="400" width="210" height="25" rx="4" fill="white" stroke="#00BCD4"/>
                    <text x="400" y="417" text-anchor="middle" fill="#00838F" font-size="10" font-weight="bold">Run multiple functions</text>
                    
                    <!-- Pattern 6: Memoized Handlers -->
                    <rect x="540" y="250" width="240" height="180" rx="10" fill="#FCE4EC" stroke="#E91E63" stroke-width="2"/>
                    <rect x="540" y="250" width="240" height="35" rx="10" fill="#E91E63"/>
                    <text x="660" y="273" text-anchor="middle" fill="white" font-weight="bold" font-size="12">6. Memoized Handler</text>
                    
                    <text x="555" y="300" fill="#333" font-size="9" font-family="monospace">const handler = useCallback(</text>
                    <text x="555" y="315" fill="#333" font-size="9" font-family="monospace">  () =&gt; doSomething(),</text>
                    <text x="555" y="330" fill="#333" font-size="9" font-family="monospace">  [deps]</text>
                    <text x="555" y="345" fill="#333" font-size="9" font-family="monospace">);</text>
                    <text x="555" y="370" fill="#666" font-size="10">‚Ä¢ Prevent re-renders</text>
                    <text x="555" y="390" fill="#666" font-size="10">‚Ä¢ Child optimization</text>
                    <rect x="555" y="400" width="210" height="25" rx="4" fill="white" stroke="#E91E63"/>
                    <text x="660" y="417" text-anchor="middle" fill="#C2185B" font-size="10" font-weight="bold">Performance pattern</text>
                </svg>

                <h3>Pattern 1: Passing Parameters to Handlers</h3>
                <p>When rendering lists, you often need to pass item data to event handlers:</p>

                <pre><code class="language-typescript">interface Item {
    id: number;
    name: string;
}

function ItemList() {
    const [items, setItems] = useState&lt;Item[]&gt;([
        { id: 1, name: 'Item 1' },
        { id: 2, name: 'Item 2' },
        { id: 3, name: 'Item 3' },
    ]);
    
    // Handler that needs the item ID
    const handleDelete = (id: number) =&gt; {
        setItems(items.filter(item =&gt; item.id !== id));
    };
    
    return (
        &lt;ul&gt;
            {items.map(item =&gt; (
                &lt;li key={item.id}&gt;
                    {item.name}
                    {/* Arrow function to pass parameter */}
                    &lt;button onClick={() =&gt; handleDelete(item.id)}&gt;
                        Delete
                    &lt;/button&gt;
                &lt;/li&gt;
            ))}
        &lt;/ul&gt;
    );
}</code></pre>

                <h3>Pattern 2: Accessing Event AND Custom Data</h3>
                <p>Sometimes you need both the event object and custom parameters:</p>

                <pre><code class="language-typescript">function EventAndDataExample() {
    const handleClick = (
        event: React.MouseEvent&lt;HTMLButtonElement&gt;,
        itemId: number,
        itemName: string
    ) =&gt; {
        event.preventDefault();
        console.log(`Clicked ${itemName} (ID: ${itemId})`);
        console.log(`Click position: ${event.clientX}, ${event.clientY}`);
    };
    
    return (
        &lt;button onClick={(e) =&gt; handleClick(e, 42, 'Special Item')}&gt;
            Click with data
        &lt;/button&gt;
    );
}</code></pre>

                <h3>Pattern 3: Curried Event Handlers</h3>
                <p>A curried function returns another function - great for cleaner JSX:</p>

                <pre><code class="language-typescript">function CurriedHandlerExample() {
    const [values, setValues] = useState&lt;Record&lt;string, string&gt;&gt;({});
    
    // Curried handler - returns a function!
    const handleFieldChange = (fieldName: string) =&gt; 
        (event: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
            setValues(prev =&gt; ({
                ...prev,
                [fieldName]: event.target.value
            }));
        };
    
    return (
        &lt;form&gt;
            {/* Much cleaner JSX! */}
            &lt;input onChange={handleFieldChange('firstName')} /&gt;
            &lt;input onChange={handleFieldChange('lastName')} /&gt;
            &lt;input onChange={handleFieldChange('email')} /&gt;
        &lt;/form&gt;
    );
}</code></pre>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Pro Tip: Event Handler Factory</h4>
                    <p>For complex scenarios, create a factory function that generates handlers:</p>
                    <pre><code class="language-typescript">// Handler factory
const createHandler = &lt;T extends HTMLElement&gt;(
    action: (data: unknown) =&gt; void,
    options?: { preventDefault?: boolean; stopPropagation?: boolean }
) =&gt; {
    return (data: unknown) =&gt; (event: React.SyntheticEvent&lt;T&gt;) =&gt; {
        if (options?.preventDefault) event.preventDefault();
        if (options?.stopPropagation) event.stopPropagation();
        action(data);
    };
};

// Usage
const handleDelete = createHandler(
    (id) =&gt; console.log('Deleting:', id),
    { preventDefault: true }
);

&lt;button onClick={handleDelete(itemId)}&gt;Delete&lt;/button&gt;</code></pre>
                </div>
            </section>

            <!-- Section 7: Form Validation -->
            <section id="section7" class="lesson-section">
                <h2>‚úÖ Form Validation</h2>
                <p>Form validation ensures users enter correct data before submission. React makes it easy to implement real-time validation with immediate feedback.</p>

                <!-- SVG: Validation Flow -->
                <svg viewBox="0 0 800 300" style="width: 100%; max-width: 800px; height: auto; margin: 2rem auto; display: block; font-family: system-ui, sans-serif;">
                    <defs>
                        <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <path d="M0,0 L0,6 L9,3 z" fill="#2196F3"/>
                        </marker>
                    </defs>
                    
                    <text x="400" y="25" text-anchor="middle" fill="#333" font-weight="bold" font-size="16">Validation Timing Options</text>
                    
                    <!-- On Change -->
                    <rect x="30" y="50" width="160" height="100" rx="8" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
                    <text x="110" y="75" text-anchor="middle" fill="#2E7D32" font-weight="bold" font-size="12">onChange</text>
                    <text x="110" y="95" text-anchor="middle" fill="#666" font-size="10">Validate every</text>
                    <text x="110" y="110" text-anchor="middle" fill="#666" font-size="10">keystroke</text>
                    <text x="110" y="135" text-anchor="middle" fill="#4CAF50" font-size="10">‚úì Instant feedback</text>
                    
                    <!-- On Blur -->
                    <rect x="220" y="50" width="160" height="100" rx="8" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/>
                    <text x="300" y="75" text-anchor="middle" fill="#1565C0" font-weight="bold" font-size="12">onBlur</text>
                    <text x="300" y="95" text-anchor="middle" fill="#666" font-size="10">Validate when</text>
                    <text x="300" y="110" text-anchor="middle" fill="#666" font-size="10">leaving field</text>
                    <text x="300" y="135" text-anchor="middle" fill="#2196F3" font-size="10">‚úì Less intrusive</text>
                    
                    <!-- On Submit -->
                    <rect x="410" y="50" width="160" height="100" rx="8" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
                    <text x="490" y="75" text-anchor="middle" fill="#E65100" font-weight="bold" font-size="12">onSubmit</text>
                    <text x="490" y="95" text-anchor="middle" fill="#666" font-size="10">Validate on</text>
                    <text x="490" y="110" text-anchor="middle" fill="#666" font-size="10">form submit</text>
                    <text x="490" y="135" text-anchor="middle" fill="#FF9800" font-size="10">‚úì All at once</text>
                    
                    <!-- Combined -->
                    <rect x="600" y="50" width="160" height="100" rx="8" fill="#F3E5F5" stroke="#9C27B0" stroke-width="2"/>
                    <text x="680" y="75" text-anchor="middle" fill="#7B1FA2" font-weight="bold" font-size="12">Combined ‚≠ê</text>
                    <text x="680" y="95" text-anchor="middle" fill="#666" font-size="10">All three for</text>
                    <text x="680" y="110" text-anchor="middle" fill="#666" font-size="10">best UX</text>
                    <text x="680" y="135" text-anchor="middle" fill="#9C27B0" font-size="10">‚úì Recommended</text>
                    
                    <!-- Flow arrows -->
                    <path d="M190 100 L210 100" stroke="#2196F3" stroke-width="2" marker-end="url(#arrowBlue)"/>
                    <path d="M380 100 L400 100" stroke="#2196F3" stroke-width="2" marker-end="url(#arrowBlue)"/>
                    <path d="M570 100 L590 100" stroke="#2196F3" stroke-width="2" marker-end="url(#arrowBlue)"/>
                    
                    <!-- Validation states -->
                    <text x="400" y="190" text-anchor="middle" fill="#333" font-weight="bold" font-size="14">Validation States</text>
                    
                    <rect x="100" y="210" width="120" height="60" rx="6" fill="#ECEFF1" stroke="#607D8B" stroke-width="2"/>
                    <text x="160" y="235" text-anchor="middle" fill="#607D8B" font-weight="bold" font-size="11">Pristine</text>
                    <text x="160" y="255" text-anchor="middle" fill="#666" font-size="10">Not touched yet</text>
                    
                    <rect x="260" y="210" width="120" height="60" rx="6" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/>
                    <text x="320" y="235" text-anchor="middle" fill="#1565C0" font-weight="bold" font-size="11">Dirty</text>
                    <text x="320" y="255" text-anchor="middle" fill="#666" font-size="10">User has typed</text>
                    
                    <rect x="420" y="210" width="120" height="60" rx="6" fill="#FFEBEE" stroke="#f44336" stroke-width="2"/>
                    <text x="480" y="235" text-anchor="middle" fill="#C62828" font-weight="bold" font-size="11">Invalid</text>
                    <text x="480" y="255" text-anchor="middle" fill="#666" font-size="10">Has errors</text>
                    
                    <rect x="580" y="210" width="120" height="60" rx="6" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
                    <text x="640" y="235" text-anchor="middle" fill="#2E7D32" font-weight="bold" font-size="11">Valid</text>
                    <text x="640" y="255" text-anchor="middle" fill="#666" font-size="10">Ready to submit</text>
                    
                    <path d="M220 240 L250 240" stroke="#607D8B" stroke-width="2" marker-end="url(#arrowBlue)"/>
                    <path d="M380 240 L410 240" stroke="#2196F3" stroke-width="2" marker-end="url(#arrowBlue)"/>
                    <path d="M540 240 L570 240" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowBlue)"/>
                </svg>

                <h3>Basic Validation Pattern</h3>
                <pre><code class="language-typescript">interface FormErrors {
    email?: string;
    password?: string;
}

function ValidationExample() {
    const [email, setEmail] = useState('');
    const [password, setPassword] = useState('');
    const [errors, setErrors] = useState&lt;FormErrors&gt;({});
    const [touched, setTouched] = useState&lt;Record&lt;string, boolean&gt;&gt;({});
    
    // Validation functions
    const validateEmail = (value: string): string | undefined =&gt; {
        if (!value) return 'Email is required';
        if (!/\S+@\S+\.\S+/.test(value)) return 'Email is invalid';
        return undefined;
    };
    
    const validatePassword = (value: string): string | undefined =&gt; {
        if (!value) return 'Password is required';
        if (value.length &lt; 8) return 'Password must be at least 8 characters';
        if (!/[A-Z]/.test(value)) return 'Password must contain uppercase';
        if (!/[0-9]/.test(value)) return 'Password must contain a number';
        return undefined;
    };
    
    // Validate on change
    const handleEmailChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
        const value = e.target.value;
        setEmail(value);
        
        if (touched.email) {
            setErrors(prev =&gt; ({ ...prev, email: validateEmail(value) }));
        }
    };
    
    // Mark field as touched on blur
    const handleEmailBlur = () =&gt; {
        setTouched(prev =&gt; ({ ...prev, email: true }));
        setErrors(prev =&gt; ({ ...prev, email: validateEmail(email) }));
    };
    
    const handleSubmit = (e: React.FormEvent) =&gt; {
        e.preventDefault();
        
        // Validate all fields
        const emailError = validateEmail(email);
        const passwordError = validatePassword(password);
        
        setErrors({ email: emailError, password: passwordError });
        setTouched({ email: true, password: true });
        
        if (!emailError && !passwordError) {
            console.log('Form is valid!');
        }
    };
    
    return (
        &lt;form onSubmit={handleSubmit}&gt;
            &lt;div&gt;
                &lt;input
                    type="email"
                    value={email}
                    onChange={handleEmailChange}
                    onBlur={handleEmailBlur}
                    style={{
                        borderColor: touched.email && errors.email ? '#f44336' : '#ddd'
                    }}
                /&gt;
                {touched.email && errors.email && (
                    &lt;span style={{ color: '#f44336' }}&gt;{errors.email}&lt;/span&gt;
                )}
            &lt;/div&gt;
            &lt;button type="submit"&gt;Submit&lt;/button&gt;
        &lt;/form&gt;
    );
}</code></pre>

                <h3>Password Strength Indicator</h3>
                <p>A common UX pattern showing requirements as they're met:</p>

                <pre><code class="language-typescript">function PasswordStrength() {
    const [password, setPassword] = useState('');
    
    const requirements = [
        { label: 'At least 8 characters', test: (p: string) =&gt; p.length &gt;= 8 },
        { label: 'Contains uppercase', test: (p: string) =&gt; /[A-Z]/.test(p) },
        { label: 'Contains lowercase', test: (p: string) =&gt; /[a-z]/.test(p) },
        { label: 'Contains number', test: (p: string) =&gt; /[0-9]/.test(p) },
        { label: 'Contains special char', test: (p: string) =&gt; /[!@#$%^&*]/.test(p) },
    ];
    
    const metCount = requirements.filter(r =&gt; r.test(password)).length;
    const strength = metCount === 5 ? 'Strong' : metCount &gt;= 3 ? 'Medium' : 'Weak';
    
    return (
        &lt;div&gt;
            &lt;input
                type="password"
                value={password}
                onChange={(e) =&gt; setPassword(e.target.value)}
            /&gt;
            
            {/* Strength bar */}
            &lt;div style={{ display: 'flex', gap: '4px', marginTop: '8px' }}&gt;
                {[1, 2, 3, 4, 5].map(i =&gt; (
                    &lt;div
                        key={i}
                        style={{
                            height: '4px',
                            flex: 1,
                            background: i &lt;= metCount 
                                ? metCount === 5 ? '#4CAF50' : metCount &gt;= 3 ? '#FF9800' : '#f44336'
                                : '#ddd',
                            borderRadius: '2px'
                        }}
                    /&gt;
                ))}
            &lt;/div&gt;
            &lt;p&gt;Strength: {strength}&lt;/p&gt;
            
            {/* Requirements list */}
            &lt;ul&gt;
                {requirements.map((req, i) =&gt; (
                    &lt;li key={i} style={{ color: req.test(password) ? '#4CAF50' : '#999' }}&gt;
                        {req.test(password) ? '‚úì' : '‚óã'} {req.label}
                    &lt;/li&gt;
                ))}
            &lt;/ul&gt;
        &lt;/div&gt;
    );
}</code></pre>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Validation Best Practices</h4>
                    <ul>
                        <li><strong>Don't validate on every keystroke</strong> for complex rules - use blur or debounce</li>
                        <li><strong>Show errors after touch</strong> - don't show errors on pristine fields</li>
                        <li><strong>Validate on submit</strong> as a final check</li>
                        <li><strong>Clear errors</strong> when user starts fixing them</li>
                        <li><strong>Use ARIA attributes</strong> for accessibility</li>
                    </ul>
                </div>
            </section>

            <!-- Section 8: Advanced Event Handling -->
            <section id="section8" class="lesson-section">
                <h2>üöÄ Advanced Event Handling</h2>
                <p>Let's explore sophisticated event handling patterns for complex interactions.</p>

                <h3>Keyboard Shortcuts</h3>
                <p>Implement keyboard navigation and shortcuts:</p>

                <pre><code class="language-typescript">import { useEffect, useCallback } from 'react';

function KeyboardShortcuts() {
    const handleKeyDown = useCallback((event: KeyboardEvent) =&gt; {
        const isMac = navigator.platform.toUpperCase().includes('MAC');
        const modKey = isMac ? event.metaKey : event.ctrlKey;
        
        // Ctrl/Cmd + S = Save
        if (modKey && event.key === 's') {
            event.preventDefault();
            console.log('Save triggered!');
        }
        
        // Ctrl/Cmd + K = Search
        if (modKey && event.key === 'k') {
            event.preventDefault();
            console.log('Search opened!');
        }
        
        // Escape = Close
        if (event.key === 'Escape') {
            console.log('Escape - close modal');
        }
    }, []);
    
    useEffect(() =&gt; {
        document.addEventListener('keydown', handleKeyDown);
        return () =&gt; document.removeEventListener('keydown', handleKeyDown);
    }, [handleKeyDown]);
    
    return &lt;div&gt;Press Ctrl/Cmd + S to save&lt;/div&gt;;
}</code></pre>

                <!-- Interactive Canvas: Mouse Tracker -->
                <h3>üéÆ Interactive Demo: Event Tracker</h3>
                <p>Move your mouse and click to see events in real-time:</p>
                
                <div style="background: #f8f9fa; border-radius: 12px; padding: 1.5rem; margin: 1.5rem 0;">
                    <canvas id="eventTrackerCanvas" width="750" height="300" style="width: 100%; max-width: 750px; display: block; margin: 0 auto; border: 2px solid #667eea; border-radius: 8px; background: white; cursor: crosshair;"></canvas>
                    <p style="text-align: center; color: #666; margin-top: 0.5rem; font-size: 0.9rem;">Move mouse and click to see events</p>
                </div>
                
                <script>
                (function() {
                    const canvas = document.getElementById('eventTrackerCanvas');
                    if (!canvas) return;
                    const ctx = canvas.getContext('2d');
                    
                    let mouseX = 0, mouseY = 0;
                    let isInside = false;
                    let clicks = [];
                    let events = [];
                    
                    function addEvent(name) {
                        const time = new Date().toLocaleTimeString();
                        events.unshift({ name, time });
                        if (events.length > 8) events.pop();
                    }
                    
                    function draw() {
                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                        
                        // Header
                        ctx.fillStyle = '#667eea';
                        ctx.fillRect(0, 0, canvas.width, 35);
                        ctx.font = 'bold 14px system-ui';
                        ctx.fillStyle = 'white';
                        ctx.textAlign = 'center';
                        ctx.fillText('Event Tracker - Move & Click!', canvas.width / 2, 24);
                        
                        // Crosshair
                        if (isInside) {
                            ctx.strokeStyle = 'rgba(102, 126, 234, 0.5)';
                            ctx.lineWidth = 1;
                            ctx.setLineDash([5, 5]);
                            ctx.beginPath();
                            ctx.moveTo(mouseX, 35);
                            ctx.lineTo(mouseX, canvas.height);
                            ctx.moveTo(0, mouseY);
                            ctx.lineTo(canvas.width, mouseY);
                            ctx.stroke();
                            ctx.setLineDash([]);
                            
                            // Cursor
                            ctx.beginPath();
                            ctx.arc(mouseX, mouseY, 12, 0, Math.PI * 2);
                            ctx.strokeStyle = '#667eea';
                            ctx.lineWidth = 2;
                            ctx.stroke();
                        }
                        
                        // Click markers
                        clicks.forEach(click => {
                            const age = Date.now() - click.time;
                            const alpha = Math.max(0, 1 - age / 1500);
                            const radius = 8 + (age / 80);
                            ctx.beginPath();
                            ctx.arc(click.x, click.y, radius, 0, Math.PI * 2);
                            ctx.fillStyle = `rgba(244, 67, 54, ${alpha * 0.4})`;
                            ctx.fill();
                            ctx.strokeStyle = `rgba(244, 67, 54, ${alpha})`;
                            ctx.lineWidth = 2;
                            ctx.stroke();
                        });
                        clicks = clicks.filter(c => Date.now() - c.time < 1500);
                        
                        // Position display
                        ctx.fillStyle = '#f5f5f5';
                        ctx.fillRect(10, 45, 150, 70);
                        ctx.strokeStyle = '#ddd';
                        ctx.strokeRect(10, 45, 150, 70);
                        ctx.font = 'bold 11px system-ui';
                        ctx.fillStyle = '#333';
                        ctx.textAlign = 'left';
                        ctx.fillText('Mouse Position:', 20, 62);
                        ctx.font = '13px monospace';
                        ctx.fillStyle = '#667eea';
                        ctx.fillText('X: ' + mouseX, 20, 82);
                        ctx.fillText('Y: ' + mouseY, 20, 102);
                        
                        // Event log
                        ctx.fillStyle = '#f5f5f5';
                        ctx.fillRect(canvas.width - 210, 45, 200, 180);
                        ctx.strokeStyle = '#ddd';
                        ctx.strokeRect(canvas.width - 210, 45, 200, 180);
                        ctx.font = 'bold 11px system-ui';
                        ctx.fillStyle = '#333';
                        ctx.fillText('Event Log:', canvas.width - 200, 62);
                        ctx.font = '10px monospace';
                        events.forEach((evt, i) => {
                            ctx.fillStyle = '#666';
                            ctx.fillText(evt.time + ' ' + evt.name, canvas.width - 200, 82 + i * 18);
                        });
                        
                        requestAnimationFrame(draw);
                    }
                    
                    canvas.addEventListener('mousemove', (e) => {
                        const rect = canvas.getBoundingClientRect();
                        mouseX = Math.round((e.clientX - rect.left) * (canvas.width / rect.width));
                        mouseY = Math.round((e.clientY - rect.top) * (canvas.height / rect.height));
                        isInside = true;
                    });
                    
                    canvas.addEventListener('mouseenter', () => { isInside = true; addEvent('mouseenter'); });
                    canvas.addEventListener('mouseleave', () => { isInside = false; addEvent('mouseleave'); });
                    canvas.addEventListener('click', (e) => {
                        const rect = canvas.getBoundingClientRect();
                        const x = (e.clientX - rect.left) * (canvas.width / rect.width);
                        const y = (e.clientY - rect.top) * (canvas.height / rect.height);
                        clicks.push({ x, y, time: Date.now() });
                        addEvent('click(' + Math.round(x) + ',' + Math.round(y) + ')');
                    });
                    canvas.addEventListener('dblclick', () => addEvent('dblclick'));
                    
                    draw();
                })();
                </script>

                <h3>Debouncing Events</h3>
                <p>Prevent excessive function calls during rapid input:</p>

                <pre><code class="language-typescript">import { useState, useEffect } from 'react';

function useDebounce&lt;T&gt;(value: T, delay: number): T {
    const [debouncedValue, setDebouncedValue] = useState(value);
    
    useEffect(() =&gt; {
        const timer = setTimeout(() =&gt; setDebouncedValue(value), delay);
        return () =&gt; clearTimeout(timer);
    }, [value, delay]);
    
    return debouncedValue;
}

function SearchWithDebounce() {
    const [query, setQuery] = useState('');
    const debouncedQuery = useDebounce(query, 300);
    
    useEffect(() =&gt; {
        if (debouncedQuery) {
            console.log('Searching for:', debouncedQuery);
            // API call here
        }
    }, [debouncedQuery]);
    
    return (
        &lt;input
            value={query}
            onChange={(e) =&gt; setQuery(e.target.value)}
            placeholder="Search..."
        /&gt;
    );
}</code></pre>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4 style="color: white;">üéì Section Summary</h4>
                    <ul style="color: white;">
                        <li>Use <code style="color: white;">useEffect</code> for global keyboard shortcuts</li>
                        <li>Always cleanup event listeners in useEffect return</li>
                        <li>Debounce expensive operations like API calls</li>
                        <li>Use <code style="color: white;">useCallback</code> for stable handler references</li>
                    </ul>
                </div>
            </section>

            <!-- Section 9: Hands-on Practice -->
            <section id="section9" class="lesson-section">
                <h2>üèãÔ∏è Hands-on Practice</h2>
                <p>Time to put everything together! Let's build some practical examples that combine all the event handling concepts we've learned.</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise 1: Interactive Todo List</h3>
                    <p><strong>Goal:</strong> Create a todo list with add, complete, and delete functionality.</p>
                    
                    <p><strong>Requirements:</strong></p>
                    <ul>
                        <li>Input field to add new todos</li>
                        <li>Button to submit new todos</li>
                        <li>List of todos with checkboxes to mark complete</li>
                        <li>Delete button for each todo</li>
                        <li>Show count of remaining todos</li>
                        <li>Prevent adding empty todos</li>
                    </ul>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Start with this structure:</p>
                        <pre><code class="language-typescript">interface Todo {
    id: number;
    text: string;
    completed: boolean;
}

const TodoList: React.FC = () => {
    const [todos, setTodos] = useState&lt;Todo[]&gt;([]);
    const [inputValue, setInputValue] = useState('');
    
    const handleAddTodo = (e: React.FormEvent) => {
        e.preventDefault();
        if (inputValue.trim()) {
            // Add new todo
        }
    };
    
    // Implement toggle and delete handlers
};</code></pre>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">import React, { useState } from 'react';

interface Todo {
    id: number;
    text: string;
    completed: boolean;
}

const TodoList: React.FC = () => {
    const [todos, setTodos] = useState&lt;Todo[]&gt;([]);
    const [inputValue, setInputValue] = useState('');
    
    const handleAddTodo = (e: React.FormEvent) => {
        e.preventDefault();
        const trimmedValue = inputValue.trim();
        
        if (trimmedValue) {
            const newTodo: Todo = {
                id: Date.now(),
                text: trimmedValue,
                completed: false
            };
            setTodos([...todos, newTodo]);
            setInputValue('');
        }
    };
    
    const handleToggleTodo = (id: number) => {
        setTodos(todos.map(todo =>
            todo.id === id 
                ? { ...todo, completed: !todo.completed }
                : todo
        ));
    };
    
    const handleDeleteTodo = (id: number) => {
        setTodos(todos.filter(todo => todo.id !== id));
    };
    
    const remainingTodos = todos.filter(todo => !todo.completed).length;
    
    return (
        &lt;div style={{ maxWidth: '500px', margin: '0 auto' }}&gt;
            &lt;h2&gt;My Todo List&lt;/h2&gt;
            
            &lt;form onSubmit={handleAddTodo} style={{ marginBottom: '1rem' }}&gt;
                &lt;input
                    type="text"
                    value={inputValue}
                    onChange={(e) => setInputValue(e.target.value)}
                    placeholder="Add a new todo..."
                    style={{
                        padding: '0.5rem',
                        width: '70%',
                        marginRight: '0.5rem'
                    }}
                /&gt;
                &lt;button type="submit" style={{ padding: '0.5rem 1rem' }}&gt;
                    Add
                &lt;/button&gt;
            &lt;/form&gt;
            
            &lt;p&gt;{remainingTodos} task{remainingTodos !== 1 ? 's' : ''} remaining&lt;/p&gt;
            
            &lt;ul style={{ listStyle: 'none', padding: 0 }}&gt;
                {todos.map(todo => (
                    &lt;li
                        key={todo.id}
                        style={{
                            padding: '0.75rem',
                            marginBottom: '0.5rem',
                            background: '#f5f5f5',
                            borderRadius: '4px',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'space-between'
                        }}
                    &gt;
                        &lt;label style={{ display: 'flex', alignItems: 'center', flex: 1 }}&gt;
                            &lt;input
                                type="checkbox"
                                checked={todo.completed}
                                onChange={() => handleToggleTodo(todo.id)}
                                style={{ marginRight: '0.5rem' }}
                            /&gt;
                            &lt;span
                                style={{
                                    textDecoration: todo.completed ? 'line-through' : 'none',
                                    color: todo.completed ? '#999' : '#333'
                                }}
                            &gt;
                                {todo.text}
                            &lt;/span&gt;
                        &lt;/label&gt;
                        &lt;button
                            onClick={() => handleDeleteTodo(todo.id)}
                            style={{
                                background: '#f44336',
                                color: 'white',
                                border: 'none',
                                padding: '0.25rem 0.5rem',
                                borderRadius: '4px',
                                cursor: 'pointer'
                            }}
                        &gt;
                            Delete
                        &lt;/button&gt;
                    &lt;/li&gt;
                ))}
            &lt;/ul&gt;
            
            {todos.length === 0 && (
                &lt;p style={{ textAlign: 'center', color: '#999' }}&gt;
                    No todos yet. Add one to get started!
                &lt;/p&gt;
            )}
        &lt;/div&gt;
    );
};

export default TodoList;</code></pre>
                    </details>
                </div>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise 2: Character Counter with Validation</h3>
                    <p><strong>Goal:</strong> Create a text area with character counting and validation feedback.</p>
                    
                    <p><strong>Requirements:</strong></p>
                    <ul>
                        <li>Text area for user input</li>
                        <li>Display current character count</li>
                        <li>Maximum character limit (e.g., 280 characters)</li>
                        <li>Visual feedback when approaching/exceeding limit</li>
                        <li>Prevent submission if over limit</li>
                        <li>Clear button to reset</li>
                    </ul>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use state for the text value and calculate the count:</p>
                        <pre><code class="language-typescript">const [text, setText] = useState('');
const maxLength = 280;
const remaining = maxLength - text.length;
const isOverLimit = remaining < 0;
const isWarning = remaining < 20 && remaining >= 0;</code></pre>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">import React, { useState } from 'react';

const CharacterCounter: React.FC = () => {
    const [text, setText] = useState('');
    const maxLength = 280;
    const remaining = maxLength - text.length;
    const isOverLimit = remaining < 0;
    const isWarning = remaining < 20 && remaining >= 0;
    
    const handleChange = (e: React.ChangeEvent&lt;HTMLTextAreaElement&gt;) => {
        setText(e.target.value);
    };
    
    const handleSubmit = (e: React.FormEvent) => {
        e.preventDefault();
        if (!isOverLimit && text.trim()) {
            console.log('Submitted:', text);
            alert('Message submitted!');
            setText('');
        }
    };
    
    const handleClear = () => {
        setText('');
    };
    
    const getCounterColor = () => {
        if (isOverLimit) return '#f44336';
        if (isWarning) return '#ff9800';
        return '#4CAF50';
    };
    
    return (
        &lt;div style={{ maxWidth: '600px', margin: '0 auto' }}&gt;
            &lt;h2&gt;Post a Message&lt;/h2&gt;
            
            &lt;form onSubmit={handleSubmit}&gt;
                &lt;textarea
                    value={text}
                    onChange={handleChange}
                    placeholder="What's on your mind?"
                    style={{
                        width: '100%',
                        minHeight: '120px',
                        padding: '0.75rem',
                        fontSize: '1rem',
                        border: `2px solid ${isOverLimit ? '#f44336' : '#ddd'}`,
                        borderRadius: '4px',
                        resize: 'vertical'
                    }}
                /&gt;
                
                &lt;div style={{
                    display: 'flex',
                    justifyContent: 'space-between',
                    alignItems: 'center',
                    marginTop: '0.5rem'
                }}&gt;
                    &lt;span
                        style={{
                            color: getCounterColor(),
                            fontWeight: 'bold',
                            fontSize: '1.1rem'
                        }}
                    &gt;
                        {remaining} characters {isOverLimit ? 'over limit' : 'remaining'}
                    &lt;/span&gt;
                    
                    &lt;div&gt;
                        &lt;button
                            type="button"
                            onClick={handleClear}
                            style={{
                                marginRight: '0.5rem',
                                padding: '0.5rem 1rem',
                                background: '#999',
                                color: 'white',
                                border: 'none',
                                borderRadius: '4px',
                                cursor: 'pointer'
                            }}
                        &gt;
                            Clear
                        &lt;/button&gt;
                        &lt;button
                            type="submit"
                            disabled={isOverLimit || !text.trim()}
                            style={{
                                padding: '0.5rem 1rem',
                                background: isOverLimit || !text.trim() ? '#ccc' : '#667eea',
                                color: 'white',
                                border: 'none',
                                borderRadius: '4px',
                                cursor: isOverLimit || !text.trim() ? 'not-allowed' : 'pointer'
                            }}
                        &gt;
                            Post
                        &lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                {isOverLimit && (
                    &lt;p style={{ color: '#f44336', marginTop: '0.5rem' }}&gt;
                        ‚ö†Ô∏è Your message is too long. Please shorten it.
                    &lt;/p&gt;
                )}
            &lt;/form&gt;
        &lt;/div&gt;
    );
};

export default CharacterCounter;</code></pre>
                    </details>
                </div>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise 3: Multi-Step Form</h3>
                    <p><strong>Goal:</strong> Create a multi-step form with navigation and validation.</p>
                    
                    <p><strong>Requirements:</strong></p>
                    <ul>
                        <li>Three steps: Personal Info, Account Details, Preferences</li>
                        <li>Next/Previous buttons to navigate</li>
                        <li>Validate each step before proceeding</li>
                        <li>Progress indicator showing current step</li>
                        <li>Final review and submit</li>
                    </ul>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use state to track the current step and form data:</p>
                        <pre><code class="language-typescript">const [currentStep, setCurrentStep] = useState(1);
const [formData, setFormData] = useState({
    name: '',
    email: '',
    username: '',
    password: '',
    theme: 'light',
    notifications: true
});</code></pre>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">import React, { useState } from 'react';

interface FormData {
    name: string;
    email: string;
    username: string;
    password: string;
    theme: 'light' | 'dark';
    notifications: boolean;
}

const MultiStepForm: React.FC = () => {
    const [currentStep, setCurrentStep] = useState(1);
    const [formData, setFormData] = useState&lt;FormData&gt;({
        name: '',
        email: '',
        username: '',
        password: '',
        theme: 'light',
        notifications: true
    });
    
    const [errors, setErrors] = useState&lt;Partial&lt;FormData&gt;&gt;({});
    
    const handleInputChange = (
        e: React.ChangeEvent&lt;HTMLInputElement | HTMLSelectElement&gt;
    ) => {
        const { name, value, type } = e.target;
        const checked = (e.target as HTMLInputElement).checked;
        
        setFormData(prev => ({
            ...prev,
            [name]: type === 'checkbox' ? checked : value
        }));
        
        // Clear error for this field
        setErrors(prev => ({ ...prev, [name]: undefined }));
    };
    
    const validateStep = (step: number): boolean => {
        const newErrors: Partial&lt;FormData&gt; = {};
        
        if (step === 1) {
            if (!formData.name.trim()) {
                newErrors.name = 'Name is required';
            }
            if (!formData.email.trim()) {
                newErrors.email = 'Email is required';
            } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
                newErrors.email = 'Email is invalid';
            }
        } else if (step === 2) {
            if (!formData.username.trim()) {
                newErrors.username = 'Username is required';
            } else if (formData.username.length < 3) {
                newErrors.username = 'Username must be at least 3 characters';
            }
            if (!formData.password) {
                newErrors.password = 'Password is required';
            } else if (formData.password.length < 6) {
                newErrors.password = 'Password must be at least 6 characters';
            }
        }
        
        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
    };
    
    const handleNext = () => {
        if (validateStep(currentStep)) {
            setCurrentStep(prev => prev + 1);
        }
    };
    
    const handlePrevious = () => {
        setCurrentStep(prev => prev - 1);
    };
    
    const handleSubmit = (e: React.FormEvent) => {
        e.preventDefault();
        console.log('Form submitted:', formData);
        alert('Form submitted successfully!');
    };
    
    const renderStep = () => {
        switch (currentStep) {
            case 1:
                return (
                    &lt;div&gt;
                        &lt;h3&gt;Personal Information&lt;/h3&gt;
                        &lt;div style={{ marginBottom: '1rem' }}&gt;
                            &lt;label&gt;
                                Name:
                                &lt;input
                                    type="text"
                                    name="name"
                                    value={formData.name}
                                    onChange={handleInputChange}
                                    style={{
                                        display: 'block',
                                        width: '100%',
                                        padding: '0.5rem',
                                        marginTop: '0.25rem'
                                    }}
                                /&gt;
                            &lt;/label&gt;
                            {errors.name && (
                                &lt;span style={{ color: '#f44336', fontSize: '0.875rem' }}&gt;
                                    {errors.name}
                                &lt;/span&gt;
                            )}
                        &lt;/div&gt;
                        
                        &lt;div&gt;
                            &lt;label&gt;
                                Email:
                                &lt;input
                                    type="email"
                                    name="email"
                                    value={formData.email}
                                    onChange={handleInputChange}
                                    style={{
                                        display: 'block',
                                        width: '100%',
                                        padding: '0.5rem',
                                        marginTop: '0.25rem'
                                    }}
                                /&gt;
                            &lt;/label&gt;
                            {errors.email && (
                                &lt;span style={{ color: '#f44336', fontSize: '0.875rem' }}&gt;
                                    {errors.email}
                                &lt;/span&gt;
                            )}
                        &lt;/div&gt;
                    &lt;/div&gt;
                );
            
            case 2:
                return (
                    &lt;div&gt;
                        &lt;h3&gt;Account Details&lt;/h3&gt;
                        &lt;div style={{ marginBottom: '1rem' }}&gt;
                            &lt;label&gt;
                                Username:
                                &lt;input
                                    type="text"
                                    name="username"
                                    value={formData.username}
                                    onChange={handleInputChange}
                                    style={{
                                        display: 'block',
                                        width: '100%',
                                        padding: '0.5rem',
                                        marginTop: '0.25rem'
                                    }}
                                /&gt;
                            &lt;/label&gt;
                            {errors.username && (
                                &lt;span style={{ color: '#f44336', fontSize: '0.875rem' }}&gt;
                                    {errors.username}
                                &lt;/span&gt;
                            )}
                        &lt;/div&gt;
                        
                        &lt;div&gt;
                            &lt;label&gt;
                                Password:
                                &lt;input
                                    type="password"
                                    name="password"
                                    value={formData.password}
                                    onChange={handleInputChange}
                                    style={{
                                        display: 'block',
                                        width: '100%',
                                        padding: '0.5rem',
                                        marginTop: '0.25rem'
                                    }}
                                /&gt;
                            &lt;/label&gt;
                            {errors.password && (
                                &lt;span style={{ color: '#f44336', fontSize: '0.875rem' }}&gt;
                                    {errors.password}
                                &lt;/span&gt;
                            )}
                        &lt;/div&gt;
                    &lt;/div&gt;
                );
            
            case 3:
                return (
                    &lt;div&gt;
                        &lt;h3&gt;Preferences&lt;/h3&gt;
                        &lt;div style={{ marginBottom: '1rem' }}&gt;
                            &lt;label&gt;
                                Theme:
                                &lt;select
                                    name="theme"
                                    value={formData.theme}
                                    onChange={handleInputChange}
                                    style={{
                                        display: 'block',
                                        width: '100%',
                                        padding: '0.5rem',
                                        marginTop: '0.25rem'
                                    }}
                                &gt;
                                    &lt;option value="light"&gt;Light&lt;/option&gt;
                                    &lt;option value="dark"&gt;Dark&lt;/option&gt;
                                &lt;/select&gt;
                            &lt;/label&gt;
                        &lt;/div&gt;
                        
                        &lt;div&gt;
                            &lt;label style={{ display: 'flex', alignItems: 'center' }}&gt;
                                &lt;input
                                    type="checkbox"
                                    name="notifications"
                                    checked={formData.notifications}
                                    onChange={handleInputChange}
                                    style={{ marginRight: '0.5rem' }}
                                /&gt;
                                Enable email notifications
                            &lt;/label&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                );
            
            case 4:
                return (
                    &lt;div&gt;
                        &lt;h3&gt;Review Your Information&lt;/h3&gt;
                        &lt;div style={{ background: '#f5f5f5', padding: '1rem', borderRadius: '4px' }}&gt;
                            &lt;p&gt;&lt;strong&gt;Name:&lt;/strong&gt; {formData.name}&lt;/p&gt;
                            &lt;p&gt;&lt;strong&gt;Email:&lt;/strong&gt; {formData.email}&lt;/p&gt;
                            &lt;p&gt;&lt;strong&gt;Username:&lt;/strong&gt; {formData.username}&lt;/p&gt;
                            &lt;p&gt;&lt;strong&gt;Theme:&lt;/strong&gt; {formData.theme}&lt;/p&gt;
                            &lt;p&gt;&lt;strong&gt;Notifications:&lt;/strong&gt; {formData.notifications ? 'Enabled' : 'Disabled'}&lt;/p&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                );
            
            default:
                return null;
        }
    };
    
    return (
        &lt;div style={{ maxWidth: '500px', margin: '0 auto' }}&gt;
            &lt;h2&gt;Registration Form&lt;/h2&gt;
            
            {/* Progress indicator */}
            &lt;div style={{ marginBottom: '2rem' }}&gt;
                &lt;div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}&gt;
                    {[1, 2, 3, 4].map(step => (
                        &lt;div
                            key={step}
                            style={{
                                width: '22%',
                                height: '8px',
                                background: step <= currentStep ? '#667eea' : '#ddd',
                                borderRadius: '4px'
                            }}
                        /&gt;
                    ))}
                &lt;/div&gt;
                &lt;p style={{ textAlign: 'center', color: '#666' }}&gt;
                    Step {currentStep} of 4
                &lt;/p&gt;
            &lt;/div&gt;
            
            &lt;form onSubmit={handleSubmit}&gt;
                {renderStep()}
                
                &lt;div style={{
                    display: 'flex',
                    justifyContent: 'space-between',
                    marginTop: '2rem'
                }}&gt;
                    {currentStep > 1 && (
                        &lt;button
                            type="button"
                            onClick={handlePrevious}
                            style={{
                                padding: '0.5rem 1rem',
                                background: '#999',
                                color: 'white',
                                border: 'none',
                                borderRadius: '4px',
                                cursor: 'pointer'
                            }}
                        &gt;
                            Previous
                        &lt;/button&gt;
                    )}
                    
                    {currentStep < 4 ? (
                        &lt;button
                            type="button"
                            onClick={handleNext}
                            style={{
                                padding: '0.5rem 1rem',
                                background: '#667eea',
                                color: 'white',
                                border: 'none',
                                borderRadius: '4px',
                                cursor: 'pointer',
                                marginLeft: 'auto'
                            }}
                        &gt;
                            Next
                        &lt;/button&gt;
                    ) : (
                        &lt;button
                            type="submit"
                            style={{
                                padding: '0.5rem 1rem',
                                background: '#4CAF50',
                                color: 'white',
                                border: 'none',
                                borderRadius: '4px',
                                cursor: 'pointer',
                                marginLeft: 'auto'
                            }}
                        &gt;
                            Submit
                        &lt;/button&gt;
                    )}
                &lt;/div&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    );
};

export default MultiStepForm;</code></pre>
                    </details>
                </div>
            </section>

            <!-- Section 10: Best Practices -->
            <section id="section10" class="lesson-section">
                <h2>‚ú® Best Practices</h2>
                <p>Let's wrap up with some professional patterns and best practices for event handling in React.</p>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Do: Use TypeScript Event Types</h4>
                    <pre><code class="language-typescript">// Good - Explicit typing
const handleClick = (e: React.MouseEvent&lt;HTMLButtonElement&gt;) => {
    console.log(e.currentTarget.value);
};

// Better - Let TypeScript infer when possible
const handleChange: React.ChangeEventHandler&lt;HTMLInputElement&gt; = (e) => {
    setValue(e.target.value);
};</code></pre>
                </div>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Don't: Call Functions in JSX</h4>
                    <pre><code class="language-typescript">// Bad - Function is called immediately on render
&lt;button onClick={handleClick()}&gt;Click&lt;/button&gt;

// Good - Pass function reference
&lt;button onClick={handleClick}&gt;Click&lt;/button&gt;

// Good - Use arrow function for parameters
&lt;button onClick={() => handleClick(id)}&gt;Click&lt;/button&gt;</code></pre>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Do: Prevent Default When Needed</h4>
                    <pre><code class="language-typescript">// Good - Always prevent default for forms
const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    // Handle submission
};

// Good - Prevent default for links when needed
const handleLinkClick = (e: React.MouseEvent&lt;HTMLAnchorElement&gt;) => {
    e.preventDefault();
    // Custom navigation logic
};</code></pre>
                </div>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Watch Out: Event Pooling (Legacy)</h4>
                    <p>In older React versions, synthetic events were pooled. This is no longer an issue in React 17+, but if you're working with legacy code:</p>
                    <pre><code class="language-typescript">// React 16 and earlier - needed to persist
const handleClick = (e: React.MouseEvent) => {
    e.persist(); // Not needed in React 17+
    setTimeout(() => {
        console.log(e.target); // Would be null without persist()
    }, 1000);
};

// React 17+ - no persist needed
const handleClick = (e: React.MouseEvent) => {
    setTimeout(() => {
        console.log(e.target); // Works fine!
    }, 1000);
};</code></pre>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Do: Use Controlled Components for Forms</h4>
                    <pre><code class="language-typescript">// Good - Controlled component
const [value, setValue] = useState('');

&lt;input
    value={value}
    onChange={(e) => setValue(e.target.value)}
/&gt;

// Avoid - Uncontrolled (use refs sparingly)
&lt;input defaultValue="initial" /&gt;</code></pre>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Do: Validate Early and Often</h4>
                    <pre><code class="language-typescript">// Good - Validate on change for immediate feedback
const handleEmailChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) => {
    const email = e.target.value;
    setEmail(email);
    
    // Immediate validation feedback
    if (email && !isValidEmail(email)) {
        setEmailError('Please enter a valid email');
    } else {
        setEmailError('');
    }
};

// Also validate on blur
const handleEmailBlur = () => {
    if (email && !isValidEmail(email)) {
        setEmailError('Please enter a valid email');
    }
};

// Final validation on submit
const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    if (!isValidEmail(email)) {
        setEmailError('Please enter a valid email');
        return;
    }
    // Proceed with submission
};</code></pre>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Do: Debounce Expensive Operations</h4>
                    <pre><code class="language-typescript">import { useState, useEffect } from 'react';

const SearchComponent: React.FC = () => {
    const [searchTerm, setSearchTerm] = useState('');
    const [debouncedTerm, setDebouncedTerm] = useState('');
    
    // Debounce the search term
    useEffect(() => {
        const timer = setTimeout(() => {
            setDebouncedTerm(searchTerm);
        }, 500);
        
        return () => clearTimeout(timer);
    }, [searchTerm]);
    
    // Perform search when debounced term changes
    useEffect(() => {
        if (debouncedTerm) {
            // Expensive API call or search operation
            performSearch(debouncedTerm);
        }
    }, [debouncedTerm]);
    
    return (
        &lt;input
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
            placeholder="Search..."
        /&gt;
    );
};</code></pre>
                </div>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Performance Tip: Memoize Event Handlers</h4>
                    <pre><code class="language-typescript">import { useCallback } from 'react';

// Good - Memoized handler won't cause child re-renders
const handleClick = useCallback((id: number) => {
    console.log('Clicked item:', id);
}, []); // Dependencies array

&lt;ChildComponent onClick={handleClick} /&gt;</code></pre>
                </div>

                <h3>üéØ Event Handling Checklist</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Check</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>‚úÖ Type all handlers</td>
                            <td>Use proper TypeScript event types</td>
                        </tr>
                        <tr>
                            <td>‚úÖ Prevent defaults</td>
                            <td>Call <code>e.preventDefault()</code> for forms and links</td>
                        </tr>
                        <tr>
                            <td>‚úÖ Validate inputs</td>
                            <td>Provide immediate feedback on user input</td>
                        </tr>
                        <tr>
                            <td>‚úÖ Handle errors gracefully</td>
                            <td>Show clear error messages to users</td>
                        </tr>
                        <tr>
                            <td>‚úÖ Use controlled components</td>
                            <td>Keep form state in React, not the DOM</td>
                        </tr>
                        <tr>
                            <td>‚úÖ Debounce expensive operations</td>
                            <td>Don't trigger API calls on every keystroke</td>
                        </tr>
                        <tr>
                            <td>‚úÖ Clean up side effects</td>
                            <td>Remove event listeners and clear timers</td>
                        </tr>
                        <tr>
                            <td>‚úÖ Test edge cases</td>
                            <td>Empty inputs, special characters, rapid clicking</td>
                        </tr>
                        <tr>
                            <td>‚úÖ Consider accessibility</td>
                            <td>Support keyboard navigation and screen readers</td>
                        </tr>
                        <tr>
                            <td>‚úÖ Optimize performance</td>
                            <td>Memoize handlers that are passed to child components</td>
                        </tr>
                    </tbody>
                </table>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>üéì Key Takeaways</h4>
                    <ul style="color: white;">
                        <li>Always type your event handlers with TypeScript for type safety</li>
                        <li>Use controlled components to keep form state in React</li>
                        <li>Prevent default behavior when handling forms and navigation</li>
                        <li>Validate user input early and provide clear feedback</li>
                        <li>Debounce expensive operations like API calls</li>
                        <li>Remember that React events are synthetic but work like native events</li>
                        <li>Consider accessibility - support keyboard navigation</li>
                        <li>Test your event handlers with edge cases and error conditions</li>
                    </ul>
                </div>
            </section>

            <!-- Section 11: Summary -->
            <section id="section11" class="lesson-section">
                <h2>üìö Summary</h2>
                <p>Congratulations! You've mastered event handling in React with TypeScript. Let's review what you've learned:</p>

                <div class="card">
                    <h3>What You Learned</h3>
                    <p><strong>‚úÖ Event Fundamentals</strong></p>
                    <ul>
                        <li>Understanding React's synthetic event system</li>
                        <li>Common event types: click, change, submit, keyboard, focus</li>
                        <li>How events work with the virtual DOM</li>
                        <li>Event bubbling and capturing in React</li>
                    </ul>

                    <p><strong>‚úÖ TypeScript Integration</strong></p>
                    <ul>
                        <li>Typing event handlers with <code>React.MouseEvent</code>, <code>React.ChangeEvent</code>, etc.</li>
                        <li>Using generic types for specific elements</li>
                        <li>Type-safe event handler patterns</li>
                        <li>Inferring types from function signatures</li>
                    </ul>

                    <p><strong>‚úÖ Form Handling</strong></p>
                    <ul>
                        <li>Building controlled components</li>
                        <li>Managing form state with useState</li>
                        <li>Handling text inputs, checkboxes, radio buttons, and selects</li>
                        <li>Form validation patterns and error handling</li>
                        <li>Preventing default form submission</li>
                    </ul>

                    <p><strong>‚úÖ Advanced Patterns</strong></p>
                    <ul>
                        <li>Passing parameters to event handlers</li>
                        <li>Event delegation and propagation control</li>
                        <li>Keyboard event handling and shortcuts</li>
                        <li>Focus management and accessibility</li>
                        <li>Drag and drop interactions</li>
                        <li>Debouncing expensive operations</li>
                    </ul>

                    <p><strong>‚úÖ Best Practices</strong></p>
                    <ul>
                        <li>Using controlled components for predictable state</li>
                        <li>Validating early and providing immediate feedback</li>
                        <li>Handling errors gracefully</li>
                        <li>Optimizing performance with memoization</li>
                        <li>Supporting keyboard navigation and accessibility</li>
                        <li>Testing edge cases and error conditions</li>
                    </ul>
                </div>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h3 style="color: white;">üéØ Skills You Can Now Apply</h3>
                    <ul style="color: white;">
                        <li>Build interactive forms with validation</li>
                        <li>Create responsive, user-friendly interfaces</li>
                        <li>Handle user input confidently with TypeScript</li>
                        <li>Implement complex interaction patterns</li>
                        <li>Debug event-related issues effectively</li>
                        <li>Write accessible, keyboard-navigable components</li>
                    </ul>
                </div>

                <h3>üöÄ Next Steps</h3>
                <p>Now that you've mastered React basics and event handling, you're ready to move on to more advanced topics:</p>
                
                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üìñ Coming Up Next</h4>
                    <p><strong>Module 3: State and Interactivity</strong></p>
                    <ul>
                        <li>Complex state management patterns</li>
                        <li>Working with arrays and objects in state</li>
                        <li>Managing related state values</li>
                        <li>State updates and immutability</li>
                        <li>Lifting state up and prop drilling</li>
                    </ul>
                    <p>These concepts will build directly on what you've learned about events and state!</p>
                </div>

                <h3>üí™ Keep Practicing</h3>
                <p>The best way to solidify these concepts is to practice. Try building:</p>
                <ul>
                    <li><strong>A contact form</strong> with multiple fields and validation</li>
                    <li><strong>A filterable product list</strong> with search and category filters</li>
                    <li><strong>A quiz application</strong> with multiple choice questions</li>
                    <li><strong>A simple calculator</strong> with button clicks and keyboard support</li>
                    <li><strong>A comment system</strong> with nested replies</li>
                </ul>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚ú® Remember</h4>
                    <p>Event handling is at the heart of interactive React applications. The patterns you've learned here - controlled components, proper typing, validation, and accessibility - will serve you throughout your React journey. Keep these principles in mind as you build more complex applications!</p>
                </div>

                <div class="card">
                    <h3>üìö Additional Resources</h3>
                    <ul>
                        <li><a href="https://react.dev/learn/responding-to-events" target="_blank" rel="noopener noreferrer">React Docs: Responding to Events</a></li>
                        <li><a href="https://react.dev/learn/adding-interactivity" target="_blank" rel="noopener noreferrer">React Docs: Adding Interactivity</a></li>
                        <li><a href="https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/forms_and_events/" target="_blank" rel="noopener noreferrer">React TypeScript Cheatsheet: Forms and Events</a></li>
                        <li><a href="https://www.w3.org/WAI/WCAG21/Understanding/" target="_blank" rel="noopener noreferrer">WCAG Guidelines for Accessibility</a></li>
                        <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Event" target="_blank" rel="noopener noreferrer">MDN: Event Reference</a></li>
                    </ul>
                </div>

                <div class="card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white;">
                    <h3 style="color: white;">üéâ Congratulations!</h3>
                    <p style="color: white;">You've completed Lesson 2.5 and finished <strong>Module 2: React Basics</strong>! You now have a solid foundation in React fundamentals, from components and props to styling and events. You're ready to tackle more advanced React concepts. Great work! üöÄ</p>
                </div>
            </section>

        </div>
    </main>

    <!-- Lesson Navigation -->
    <div class="lesson-nav">
        <a href="lesson_2_4_styling_in_react.html" class="lesson-nav-btn lesson-nav-prev">
            <span>‚Üê Previous</span>
            <small>Styling in React</small>
        </a>
        <a href="index.html" class="lesson-nav-btn lesson-nav-home">
            <span>‚åÇ</span>
            <small>Home</small>
        </a>
        <a href="module_project_2_portfolio.html" class="lesson-nav-btn lesson-nav-next">
            <span>Next ‚Üí</span>
            <small>Module 2 Project</small>
        </a>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2024 React TypeScript Course. All rights reserved.</p>
            <p>
                <a href="index.html">Home</a> |
                <a href="index.html#modules">Modules</a> |
                <a href="https://github.com/practicalace" target="_blank" rel="noopener noreferrer">GitHub</a>
            </p>
        </div>
    </footer>

    <script src="js/clipboard.js"></script>
    <script src="js/course-enhancements.js"></script>
</body>
</html>
