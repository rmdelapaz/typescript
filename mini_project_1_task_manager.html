<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Build a comprehensive Task Manager application using TypeScript - Apply all Module 1 concepts including interfaces, types, generics, utility types, and type guards.">
    <meta name="author" content="PracticalAce">
    <title>Mini-Project: Task Manager - React TypeScript Course</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/png" href="/favicon.png">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#f0f0f0',
                primaryTextColor: '#333',
                primaryBorderColor: '#667eea'
            }
        });
    </script>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-to-main">Skip to main content</a>
    
    <!-- Progress indicator -->
    <div class="progress-indicator" role="progressbar" aria-label="Page scroll progress">
        <div class="progress-bar"></div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-logo">React TypeScript Course</a>
            <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-expanded="false" aria-controls="nav-links">
                ‚ò∞
            </button>
            <div class="nav-links" id="nav-links" aria-hidden="false">
                <a href="index.html">Home</a>
                <a href="index.html#modules">All Modules</a>
                <button id="theme-toggle" aria-label="Toggle theme">üåô</button>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#module1">Module 1: TypeScript Fundamentals</a></li>
            <li aria-current="page">Mini-Project: Task Manager</li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <div class="container">
            <!-- Project Header -->
            <header>
                <h1>üéØ Mini-Project: Task Manager</h1>
                <p class="lead">Congratulations on completing all five TypeScript Fundamentals lessons! Now it's time to put everything together. In this mini-project, you'll build a comprehensive Task Manager application that demonstrates your mastery of TypeScript's type system. You'll use interfaces, type aliases, union types, generics, utility types, type guards, and functions - everything you've learned! üöÄ</p>
                
                <!-- Project objectives -->
                <div class="card">
                    <h2>üéØ Project Objectives</h2>
                    <p>By completing this project, you will:</p>
                    <ul>
                        <li>Design and implement a complete TypeScript type system for a real application</li>
                        <li>Use interfaces and type aliases to model complex data structures</li>
                        <li>Apply union types and discriminated unions for state management</li>
                        <li>Implement generic functions for reusable data operations</li>
                        <li>Leverage utility types for type transformations</li>
                        <li>Create custom type guards for runtime validation</li>
                        <li>Write type-safe functions with proper parameter and return types</li>
                    </ul>
                    <p><strong>Estimated Time:</strong> 90-120 minutes</p>
                    <p><strong>Difficulty:</strong> Intermediate - applies all Module 1 concepts</p>
                </div>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h3 style="color: white;">üí° What You'll Build</h3>
                    <p style="color: white;">A complete Task Manager system with:</p>
                    <ul style="color: white;">
                        <li>Task creation, updating, and deletion</li>
                        <li>Priority levels and status tracking</li>
                        <li>Task filtering and sorting</li>
                        <li>Statistics and analytics</li>
                        <li>Full TypeScript type safety throughout</li>
                    </ul>
                </div>
            </header>

            <!-- Sticky Table of Contents -->
            <details class="card" open style="position: sticky; top: 80px; z-index: 100; background: var(--card-bg, white); box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                <summary style="cursor: pointer; font-weight: bold; padding: 0.5rem 1rem; user-select: none;">
                    <h2 style="display: inline; margin: 0;">üìë Project Sections</h2>
                </summary>
                <nav aria-label="Table of Contents" style="padding: 0 1rem 1rem 1rem;">
                    <ol>
                        <li><a href="#section1" class="toc-link">Project Requirements</a></li>
                        <li><a href="#section2" class="toc-link">Type System Design</a></li>
                        <li><a href="#section3" class="toc-link">Core Functionality</a></li>
                        <li><a href="#section4" class="toc-link">Advanced Features</a></li>
                        <li><a href="#section5" class="toc-link">Testing & Validation</a></li>
                        <li><a href="#section6" class="toc-link">Complete Solution</a></li>
                        <li><a href="#section7" class="toc-link">Challenges & Extensions</a></li>
                        <li><a href="#section8" class="toc-link">Reflection & Next Steps</a></li>
                    </ol>
                </nav>
            </details>

            <!-- Section 1: Project Requirements -->
            <section id="section1" class="lesson-section">
                <h2>üìã Project Requirements</h2>
                <p>Before we dive into coding, let's understand what we're building. A good task manager needs to handle various types of tasks, track their status, and provide ways to organize and analyze them.</p>

                <h3>Core Requirements</h3>
                <div class="card">
                    <h4>Data Structure Requirements</h4>
                    <ul>
                        <li><strong>Tasks</strong> must have: id, title, description, status, priority, created date, due date (optional), tags</li>
                        <li><strong>Status</strong> can be: pending, in-progress, completed, cancelled</li>
                        <li><strong>Priority</strong> can be: low, medium, high, urgent</li>
                        <li><strong>Tags</strong> are strings that categorize tasks</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>Functionality Requirements</h4>
                    <ul>
                        <li>Create new tasks with all required fields</li>
                        <li>Update existing tasks (partial updates allowed)</li>
                        <li>Delete tasks by ID</li>
                        <li>Get a task by ID</li>
                        <li>Get all tasks</li>
                        <li>Filter tasks by status, priority, or tags</li>
                        <li>Sort tasks by different criteria</li>
                        <li>Calculate statistics (total, by status, by priority)</li>
                        <li>Validate task data</li>
                    </ul>
                </div>

                <h3>TypeScript Concepts to Apply</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Concept</th>
                            <th>Where to Use</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Interfaces</strong></td>
                            <td>Task structure, Statistics</td>
                            <td>interface Task { ... }</td>
                        </tr>
                        <tr>
                            <td><strong>Type Aliases</strong></td>
                            <td>Status, Priority unions</td>
                            <td>type Status = "pending" | "in-progress"</td>
                        </tr>
                        <tr>
                            <td><strong>Union Types</strong></td>
                            <td>Status values, Filter options</td>
                            <td>Status | Priority</td>
                        </tr>
                        <tr>
                            <td><strong>Generics</strong></td>
                            <td>Filter functions, Sort functions</td>
                            <td>function filter&lt;T&gt;(...)</td>
                        </tr>
                        <tr>
                            <td><strong>Utility Types</strong></td>
                            <td>Partial updates, Required fields</td>
                            <td>Partial&lt;Task&gt;</td>
                        </tr>
                        <tr>
                            <td><strong>Type Guards</strong></td>
                            <td>Validation, Type checking</td>
                            <td>isValidStatus(value)</td>
                        </tr>
                        <tr>
                            <td><strong>Functions</strong></td>
                            <td>All operations</td>
                            <td>Typed parameters & returns</td>
                        </tr>
                    </tbody>
                </table>

                <div class="mermaid">
                    graph TD
                    A[Task Manager System] --> B[Data Types]
                    A --> C[Operations]
                    A --> D[Validation]
                    
                    B --> B1[Task Interface]
                    B --> B2[Status Union]
                    B --> B3[Priority Union]
                    
                    C --> C1[CRUD Operations]
                    C --> C2[Filter & Sort]
                    C --> C3[Statistics]
                    
                    D --> D1[Type Guards]
                    D --> D2[Validation Functions]
                    
                    style A fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style B fill:#764ba2,stroke:#333,stroke-width:2px,color:#fff
                    style C fill:#4CAF50,stroke:#333,stroke-width:2px,color:#fff
                    style D fill:#2196F3,stroke:#333,stroke-width:2px,color:#fff
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Success Criteria</h4>
                    <p>Your project is complete when:</p>
                    <ul>
                        <li>All TypeScript code compiles without errors</li>
                        <li>All functions have proper type annotations</li>
                        <li>Type guards are used for runtime validation</li>
                        <li>Generic functions work with proper type inference</li>
                        <li>Utility types are used appropriately</li>
                        <li>All test cases pass</li>
                    </ul>
                </div>
            </section>

            <!-- Section 2: Type System Design -->
            <section id="section2" class="lesson-section">
                <h2>üé® Type System Design</h2>
                <p>Let's start by designing our type system. This is the foundation of our application - get this right, and everything else falls into place!</p>

                <h3>Step 1: Define Basic Types</h3>
                <p>Start with the simplest types and build up from there:</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create Status and Priority Types</h4>
                    <p>Create type aliases for Status and Priority using union types with literal values.</p>
                    
                    <pre><code class="language-typescript">// TODO: Define Status type
// Should include: "pending", "in-progress", "completed", "cancelled"

// TODO: Define Priority type
// Should include: "low", "medium", "high", "urgent"

// Test your types:
const status1: Status = "pending";        // ‚úÖ Should work
const status2: Status = "in-progress";    // ‚úÖ Should work
// const status3: Status = "invalid";     // ‚ùå Should error

const priority1: Priority = "low";        // ‚úÖ Should work
const priority2: Priority = "urgent";     // ‚úÖ Should work
// const priority3: Priority = "invalid";  // ‚ùå Should error</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use the pipe operator <code>|</code> to create unions of string literal types. Remember: <code>type MyType = "option1" | "option2" | "option3";</code></p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">type Status = "pending" | "in-progress" | "completed" | "cancelled";
type Priority = "low" | "medium" | "high" | "urgent";</code></pre>
                    </details>
                </div>

                <h3>Step 2: Define the Task Interface</h3>
                <p>Now let's create the main Task interface:</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create the Task Interface</h4>
                    <p>Create an interface that represents a task with all necessary properties.</p>
                    
                    <pre><code class="language-typescript">// TODO: Define Task interface
// Required properties:
// - id: string
// - title: string
// - description: string
// - status: Status (use the type you created)
// - priority: Priority (use the type you created)
// - createdAt: Date
// - tags: array of strings
// Optional properties:
// - dueDate: Date

// Test your interface:
const task: Task = {
    id: "task-1",
    title: "Learn TypeScript",
    description: "Complete all TypeScript lessons",
    status: "in-progress",
    priority: "high",
    createdAt: new Date(),
    tags: ["learning", "typescript"],
    dueDate: new Date("2024-12-31")
};</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use the <code>interface</code> keyword. Remember that optional properties use the <code>?</code> modifier. Arrays can be typed as <code>string[]</code> or <code>Array&lt;string&gt;</code>.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">interface Task {
    id: string;
    title: string;
    description: string;
    status: Status;
    priority: Priority;
    createdAt: Date;
    dueDate?: Date;
    tags: string[];
}</code></pre>
                    </details>
                </div>

                <h3>Step 3: Create Helper Types</h3>
                <p>We'll need some additional types for various operations:</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create TaskInput and TaskUpdate Types</h4>
                    <p>Create types for creating new tasks and updating existing ones.</p>
                    
                    <pre><code class="language-typescript">// TODO: Define TaskInput type
// This should be the Task interface WITHOUT id and createdAt
// (since these are generated by the system)
// Hint: Use the Omit utility type

// TODO: Define TaskUpdate type
// This should allow partial updates to a Task
// (all fields optional except id)
// Hint: Use Partial and Pick utility types

// Test your types:
const newTask: TaskInput = {
    title: "New Task",
    description: "Task description",
    status: "pending",
    priority: "medium",
    tags: []
    // ‚úÖ No id or createdAt needed
};

const taskUpdate: TaskUpdate = {
    id: "task-1",
    status: "completed"
    // ‚úÖ Only updating status, other fields optional
};</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use <code>Omit&lt;Task, "id" | "createdAt"&gt;</code> for TaskInput. For TaskUpdate, combine <code>Pick&lt;Task, "id"&gt;</code> with <code>Partial&lt;Omit&lt;Task, "id"&gt;&gt;</code> using intersection (&).</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">type TaskInput = Omit&lt;Task, "id" | "createdAt"&gt;;

type TaskUpdate = Pick&lt;Task, "id"&gt; & Partial&lt;Omit&lt;Task, "id"&gt;&gt;;</code></pre>
                    </details>
                </div>

                <h3>Step 4: Define Filter and Sort Types</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create FilterOptions and SortField Types</h4>
                    
                    <pre><code class="language-typescript">// TODO: Define FilterOptions interface
// Optional properties for filtering:
// - status: Status
// - priority: Priority
// - tags: string array
// - completed: boolean (to filter completed/incomplete tasks)

// TODO: Define SortField type
// Union of fields we can sort by: "createdAt", "dueDate", "priority", "title"

// TODO: Define SortOrder type
// Union of: "asc" (ascending) or "desc" (descending)

// Test your types:
const filters: FilterOptions = {
    status: "in-progress",
    priority: "high"
};

const sortBy: SortField = "createdAt";
const sortOrder: SortOrder = "desc";</code></pre>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">interface FilterOptions {
    status?: Status;
    priority?: Priority;
    tags?: string[];
    completed?: boolean;
}

type SortField = "createdAt" | "dueDate" | "priority" | "title";
type SortOrder = "asc" | "desc";</code></pre>
                    </details>
                </div>

                <h3>Step 5: Statistics Interface</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create TaskStatistics Interface</h4>
                    
                    <pre><code class="language-typescript">// TODO: Define TaskStatistics interface
// Properties:
// - total: number (total tasks)
// - byStatus: Record of Status to number
// - byPriority: Record of Priority to number
// - completed: number
// - overdue: number
// Hint: Use Record&lt;Status, number&gt; for byStatus

// Test your interface:
const stats: TaskStatistics = {
    total: 10,
    byStatus: {
        "pending": 3,
        "in-progress": 4,
        "completed": 2,
        "cancelled": 1
    },
    byPriority: {
        "low": 2,
        "medium": 5,
        "high": 2,
        "urgent": 1
    },
    completed: 2,
    overdue: 1
};</code></pre>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">interface TaskStatistics {
    total: number;
    byStatus: Record&lt;Status, number&gt;;
    byPriority: Record&lt;Priority, number&gt;;
    completed: number;
    overdue: number;
}</code></pre>
                    </details>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Type System Complete!</h4>
                    <p>Great work! You've designed a complete type system for the Task Manager. You've used:</p>
                    <ul>
                        <li>Type aliases with union types (Status, Priority)</li>
                        <li>Interfaces (Task, FilterOptions, TaskStatistics)</li>
                        <li>Utility types (Omit, Partial, Pick, Record)</li>
                        <li>Optional properties</li>
                        <li>Type composition with intersection types</li>
                    </ul>
                </div>
            </section>
                        <!-- Section 3: Core Functionality -->
            <section id="section3" class="lesson-section">
                <h2>‚öôÔ∏è Core Functionality</h2>
                <p>Now that we have our type system in place, let's implement the core functionality. We'll create type guards, validation functions, and the main CRUD operations.</p>

                <h3>Step 1: Type Guards and Validation</h3>
                <p>Type guards help us validate data at runtime. Let's create them for our Status and Priority types:</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create Type Guards</h4>
                    <p>Create type guard functions to validate Status and Priority values at runtime.</p>
                    
                    <pre><code class="language-typescript">// TODO: Create isValidStatus type guard
// Function signature: function isValidStatus(value: any): value is Status
// Should return true if value is a valid Status

// TODO: Create isValidPriority type guard
// Function signature: function isValidPriority(value: any): value is Priority
// Should return true if value is a valid Priority

// Test your type guards:
console.log(isValidStatus("pending"));      // ‚úÖ true
console.log(isValidStatus("invalid"));      // ‚ùå false
console.log(isValidPriority("high"));       // ‚úÖ true
console.log(isValidPriority("invalid"));    // ‚ùå false</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use an array of valid values and check if the input value is included. Remember to use the type predicate syntax: <code>value is Status</code> in the return type.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">function isValidStatus(value: any): value is Status {
    return ["pending", "in-progress", "completed", "cancelled"].includes(value);
}

function isValidPriority(value: any): value is Priority {
    return ["low", "medium", "high", "urgent"].includes(value);
}</code></pre>
                    </details>
                </div>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create Task Validation Function</h4>
                    <p>Create a function to validate a complete Task object.</p>
                    
                    <pre><code class="language-typescript">// TODO: Create validateTask function
// Function signature: function validateTask(task: Task): boolean
// Should check:
// - id is not empty
// - title is not empty
// - description is not empty
// - status is valid (use isValidStatus)
// - priority is valid (use isValidPriority)
// - createdAt is a valid Date
// - tags is an array
// Return true if all checks pass, false otherwise

// Test your validation:
const validTask: Task = {
    id: "task-1",
    title: "Test Task",
    description: "Test Description",
    status: "pending",
    priority: "high",
    createdAt: new Date(),
    tags: ["test"]
};

console.log(validateTask(validTask));  // ‚úÖ true

const invalidTask: Task = {
    id: "",
    title: "",
    description: "Test",
    status: "invalid" as Status,
    priority: "high",
    createdAt: new Date(),
    tags: []
};

console.log(validateTask(invalidTask));  // ‚ùå false</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Check each property one by one. Use <code>&&</code> to combine all conditions. For dates, check <code>instanceof Date</code> and <code>!isNaN(date.getTime())</code>.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">function validateTask(task: Task): boolean {
    return (
        task.id.trim().length > 0 &&
        task.title.trim().length > 0 &&
        task.description.trim().length > 0 &&
        isValidStatus(task.status) &&
        isValidPriority(task.priority) &&
        task.createdAt instanceof Date &&
        !isNaN(task.createdAt.getTime()) &&
        Array.isArray(task.tags)
    );
}</code></pre>
                    </details>
                </div>

                <h3>Step 2: Task Manager Class</h3>
                <p>Let's create a class to manage our tasks. This will hold all our CRUD operations:</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create TaskManager Class Structure</h4>
                    <p>Create a class with a private tasks array and basic structure.</p>
                    
                    <pre><code class="language-typescript">// TODO: Create TaskManager class
// Private property: tasks (array of Task objects)
// Constructor: initializes empty tasks array
// Private method: generateId() - generates unique IDs (use Date.now() + random number)

class TaskManager {
    // TODO: Add private tasks property
    
    // TODO: Add constructor
    
    // TODO: Add private generateId method
}

// Test your class:
const manager = new TaskManager();
console.log(manager);  // Should create instance successfully</code></pre>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">class TaskManager {
    private tasks: Task[] = [];

    constructor() {
        this.tasks = [];
    }

    private generateId(): string {
        return `task-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
    }
}</code></pre>
                    </details>
                </div>

                <h3>Step 3: Create Task Operation</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement createTask Method</h4>
                    <p>Add a method to create new tasks.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add createTask method to TaskManager class
// Method signature: createTask(input: TaskInput): Task
// Should:
// 1. Generate a unique id
// 2. Set createdAt to current Date
// 3. Create a Task object with all properties
// 4. Validate the task (throw error if invalid)
// 5. Add to tasks array
// 6. Return the created task

// Add this method to your TaskManager class:
class TaskManager {
    // ... previous code ...

    createTask(input: TaskInput): Task {
        // TODO: Implement this method
    }
}

// Test your method:
const manager = new TaskManager();
const newTask = manager.createTask({
    title: "Learn TypeScript",
    description: "Complete all lessons",
    status: "in-progress",
    priority: "high",
    tags: ["learning"]
});
console.log(newTask);  // Should show task with generated id and createdAt</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Create the task object using the spread operator: <code>{ ...input, id: this.generateId(), createdAt: new Date() }</code>. Don't forget to validate before adding to the array!</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">createTask(input: TaskInput): Task {
    const task: Task = {
        ...input,
        id: this.generateId(),
        createdAt: new Date()
    };

    if (!validateTask(task)) {
        throw new Error("Invalid task data");
    }

    this.tasks.push(task);
    return task;
}</code></pre>
                    </details>
                </div>

                <h3>Step 4: Read Operations</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement Read Methods</h4>
                    <p>Add methods to retrieve tasks.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add these methods to TaskManager class

// Method 1: getTaskById(id: string): Task | undefined
// Should return the task with matching id, or undefined if not found

// Method 2: getAllTasks(): Task[]
// Should return a copy of all tasks (use spread or slice to avoid mutation)

// Method 3: getTaskCount(): number
// Should return the total number of tasks

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    getTaskById(id: string): Task | undefined {
        // TODO: Implement this method
    }

    getAllTasks(): Task[] {
        // TODO: Implement this method
    }

    getTaskCount(): number {
        // TODO: Implement this method
    }
}

// Test your methods:
const task = manager.getTaskById(newTask.id);
console.log(task);  // Should return the task

const allTasks = manager.getAllTasks();
console.log(allTasks);  // Should return array of all tasks

const count = manager.getTaskCount();
console.log(count);  // Should return number of tasks</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use <code>find()</code> for getTaskById. For getAllTasks, use the spread operator <code>[...this.tasks]</code> to return a copy. For getTaskCount, return <code>this.tasks.length</code>.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">getTaskById(id: string): Task | undefined {
    return this.tasks.find(task => task.id === id);
}

getAllTasks(): Task[] {
    return [...this.tasks];
}

getTaskCount(): number {
    return this.tasks.length;
}</code></pre>
                    </details>
                </div>

                <h3>Step 5: Update Operation</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement updateTask Method</h4>
                    <p>Add a method to update existing tasks with partial data.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add updateTask method to TaskManager class
// Method signature: updateTask(update: TaskUpdate): Task | undefined
// Should:
// 1. Find the task by id
// 2. If not found, return undefined
// 3. Merge the update with existing task (use spread operator)
// 4. Validate the updated task
// 5. Replace the old task with updated task
// 6. Return the updated task

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    updateTask(update: TaskUpdate): Task | undefined {
        // TODO: Implement this method
    }
}

// Test your method:
const updated = manager.updateTask({
    id: newTask.id,
    status: "completed",
    priority: "medium"
});
console.log(updated);  // Should show task with updated fields</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use <code>findIndex()</code> to get the task position. Merge with: <code>{ ...existingTask, ...update }</code>. Remember to omit the id from the update spread!</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">updateTask(update: TaskUpdate): Task | undefined {
    const index = this.tasks.findIndex(task => task.id === update.id);
    
    if (index === -1) {
        return undefined;
    }

    const { id, ...updates } = update;
    const updatedTask: Task = {
        ...this.tasks[index],
        ...updates
    };

    if (!validateTask(updatedTask)) {
        throw new Error("Invalid task data");
    }

    this.tasks[index] = updatedTask;
    return updatedTask;
}</code></pre>
                    </details>
                </div>

                <h3>Step 6: Delete Operation</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement deleteTask Method</h4>
                    <p>Add a method to delete tasks by ID.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add deleteTask method to TaskManager class
// Method signature: deleteTask(id: string): boolean
// Should:
// 1. Find the task by id
// 2. If found, remove it from the array
// 3. Return true if deleted, false if not found

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    deleteTask(id: string): boolean {
        // TODO: Implement this method
    }
}

// Test your method:
const deleted = manager.deleteTask(newTask.id);
console.log(deleted);  // Should return true

const deletedAgain = manager.deleteTask(newTask.id);
console.log(deletedAgain);  // Should return false (already deleted)</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use <code>findIndex()</code> to locate the task. If found (index !== -1), use <code>splice()</code> to remove it and return true. Otherwise return false.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">deleteTask(id: string): boolean {
    const index = this.tasks.findIndex(task => task.id === id);
    
    if (index === -1) {
        return false;
    }

    this.tasks.splice(index, 1);
    return true;
}</code></pre>
                    </details>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Core CRUD Operations Complete!</h4>
                    <p>Excellent work! You've implemented all the basic CRUD operations:</p>
                    <ul>
                        <li><strong>Create:</strong> createTask() with validation</li>
                        <li><strong>Read:</strong> getTaskById(), getAllTasks(), getTaskCount()</li>
                        <li><strong>Update:</strong> updateTask() with partial updates using Partial&lt;T&gt;</li>
                        <li><strong>Delete:</strong> deleteTask() with boolean return</li>
                    </ul>
                    <p>You've used type guards, utility types (Partial, Omit), proper return types, and error handling!</p>
                </div>

                <div class="mermaid">
                    graph LR
                    A[TaskManager] --> B[Create]
                    A --> C[Read]
                    A --> D[Update]
                    A --> E[Delete]
                    
                    B --> B1[createTask]
                    C --> C1[getTaskById]
                    C --> C2[getAllTasks]
                    C --> C3[getTaskCount]
                    D --> D1[updateTask]
                    E --> E1[deleteTask]
                    
                    style A fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style B fill:#4CAF50,stroke:#333,stroke-width:2px
                    style C fill:#2196F3,stroke:#333,stroke-width:2px
                    style D fill:#FF9800,stroke:#333,stroke-width:2px
                    style E fill:#f44336,stroke:#333,stroke-width:2px
                </div>
            </section>

            <!-- Section 4: Advanced Features -->
            <section id="section4" class="lesson-section">
                <h2>üöÄ Advanced Features</h2>
                <p>Now let's implement the advanced features: filtering, sorting, and statistics. This is where generics and advanced TypeScript features really shine!</p>

                <h3>Step 1: Filter Tasks</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement filterTasks Method</h4>
                    <p>Create a method to filter tasks based on various criteria.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add filterTasks method to TaskManager class
// Method signature: filterTasks(filters: FilterOptions): Task[]
// Should filter tasks based on:
// - status (if provided)
// - priority (if provided)
// - tags (if provided - task must have ALL specified tags)
// - completed (if provided - true returns only completed, false returns non-completed)
// Return array of matching tasks

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    filterTasks(filters: FilterOptions): Task[] {
        // TODO: Implement this method
    }
}

// Test your method:
const highPriorityTasks = manager.filterTasks({ priority: "high" });
console.log(highPriorityTasks);

const inProgressTasks = manager.filterTasks({ status: "in-progress" });
console.log(inProgressTasks);

const completedHighPriority = manager.filterTasks({ 
    status: "completed", 
    priority: "high" 
});
console.log(completedHighPriority);</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use <code>filter()</code> method on this.tasks. For each filter option, check if it's defined before applying. For tags, use <code>every()</code> to check if all specified tags exist in the task's tags array.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">filterTasks(filters: FilterOptions): Task[] {
    return this.tasks.filter(task => {
        // Filter by status
        if (filters.status && task.status !== filters.status) {
            return false;
        }

        // Filter by priority
        if (filters.priority && task.priority !== filters.priority) {
            return false;
        }

        // Filter by tags (task must have ALL specified tags)
        if (filters.tags && filters.tags.length > 0) {
            const hasAllTags = filters.tags.every(tag => 
                task.tags.includes(tag)
            );
            if (!hasAllTags) {
                return false;
            }
        }

        // Filter by completed status
        if (filters.completed !== undefined) {
            const isCompleted = task.status === "completed";
            if (isCompleted !== filters.completed) {
                return false;
            }
        }

        return true;
    });
}</code></pre>
                    </details>
                </div>

                <h3>Step 2: Sort Tasks</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement sortTasks Method</h4>
                    <p>Create a method to sort tasks by different fields.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add sortTasks method to TaskManager class
// Method signature: sortTasks(tasks: Task[], field: SortField, order: SortOrder = "asc"): Task[]
// Should:
// 1. Sort tasks by the specified field
// 2. Handle ascending and descending order
// 3. Handle Date fields (createdAt, dueDate)
// 4. Handle string fields (title)
// 5. Handle priority (treat as: low < medium < high < urgent)
// 6. Return a NEW sorted array (don't mutate original)

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    sortTasks(tasks: Task[], field: SortField, order: SortOrder = "asc"): Task[] {
        // TODO: Implement this method
        // Hint: Create a copy first with [...tasks]
        // Hint: For priority, create a priority order map
    }
}

// Test your method:
const allTasks = manager.getAllTasks();
const sortedByDate = manager.sortTasks(allTasks, "createdAt", "desc");
console.log(sortedByDate);

const sortedByPriority = manager.sortTasks(allTasks, "priority", "desc");
console.log(sortedByPriority);</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use <code>[...tasks].sort()</code> to create a copy and sort. For priority, create an object mapping: <code>{ low: 0, medium: 1, high: 2, urgent: 3 }</code>. Use <code>localeCompare()</code> for strings.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">sortTasks(tasks: Task[], field: SortField, order: SortOrder = "asc"): Task[] {
    const priorityOrder: Record&lt;Priority, number&gt; = {
        "low": 0,
        "medium": 1,
        "high": 2,
        "urgent": 3
    };

    const sortedTasks = [...tasks].sort((a, b) => {
        let comparison = 0;

        switch (field) {
            case "createdAt":
            case "dueDate":
                const dateA = field === "createdAt" ? a.createdAt : (a.dueDate || new Date(0));
                const dateB = field === "createdAt" ? b.createdAt : (b.dueDate || new Date(0));
                comparison = dateA.getTime() - dateB.getTime();
                break;

            case "priority":
                comparison = priorityOrder[a.priority] - priorityOrder[b.priority];
                break;

            case "title":
                comparison = a.title.localeCompare(b.title);
                break;
        }

        return order === "asc" ? comparison : -comparison;
    });

    return sortedTasks;
}</code></pre>
                    </details>
                </div>

                <h3>Step 3: Calculate Statistics</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement getStatistics Method</h4>
                    <p>Create a method to calculate task statistics.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add getStatistics method to TaskManager class
// Method signature: getStatistics(): TaskStatistics
// Should calculate:
// - total: total number of tasks
// - byStatus: count of tasks for each status
// - byPriority: count of tasks for each priority
// - completed: number of completed tasks
// - overdue: number of tasks past their due date (if dueDate exists and is past)

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    getStatistics(): TaskStatistics {
        // TODO: Implement this method
        // Hint: Use reduce() to build the byStatus and byPriority objects
    }
}

// Test your method:
const stats = manager.getStatistics();
console.log(stats);
// Should show object with all statistics</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Initialize byStatus and byPriority with all possible values set to 0. Use <code>reduce()</code> or a loop to count. For overdue, check if <code>task.dueDate && task.dueDate < new Date() && task.status !== "completed"</code>.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">getStatistics(): TaskStatistics {
    const now = new Date();

    const byStatus: Record&lt;Status, number&gt; = {
        "pending": 0,
        "in-progress": 0,
        "completed": 0,
        "cancelled": 0
    };

    const byPriority: Record&lt;Priority, number&gt; = {
        "low": 0,
        "medium": 0,
        "high": 0,
        "urgent": 0
    };

    let completed = 0;
    let overdue = 0;

    this.tasks.forEach(task => {
        byStatus[task.status]++;
        byPriority[task.priority]++;

        if (task.status === "completed") {
            completed++;
        }

        if (
            task.dueDate &&
            task.dueDate < now &&
            task.status !== "completed" &&
            task.status !== "cancelled"
        ) {
            overdue++;
        }
    });

    return {
        total: this.tasks.length,
        byStatus,
        byPriority,
        completed,
        overdue
    };
}</code></pre>
                    </details>
                </div>

                <h3>Step 4: Search Tasks (Bonus Generic Function)</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement Generic Search Method</h4>
                    <p>Create a generic search method that can search any field.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add searchTasks method to TaskManager class
// Method signature: searchTasks&lt;K extends keyof Task&gt;(field: K, value: Task[K]): Task[]
// This is a GENERIC method that can search any field of a task
// Should return tasks where the field matches the value

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    searchTasks&lt;K extends keyof Task&gt;(field: K, value: Task[K]): Task[] {
        // TODO: Implement this method
    }
}

// Test your method:
const tasksByTitle = manager.searchTasks("title", "Learn TypeScript");
console.log(tasksByTitle);

const tasksByStatus = manager.searchTasks("status", "in-progress");
console.log(tasksByStatus);

const tasksByPriority = manager.searchTasks("priority", "high");
console.log(tasksByPriority);</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>This is a generic method! Use <code>filter()</code> and compare <code>task[field]</code> with <code>value</code>. The generic constraint <code>K extends keyof Task</code> ensures field is a valid Task property.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">searchTasks&lt;K extends keyof Task&gt;(field: K, value: Task[K]): Task[] {
    return this.tasks.filter(task => task[field] === value);
}</code></pre>
                    </details>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Advanced Features Complete!</h4>
                    <p>Outstanding! You've implemented all advanced features:</p>
                    <ul>
                        <li><strong>Filtering:</strong> Complex multi-criteria filtering</li>
                        <li><strong>Sorting:</strong> Sort by multiple fields with ascending/descending order</li>
                        <li><strong>Statistics:</strong> Comprehensive analytics with Record types</li>
                        <li><strong>Generic Search:</strong> Type-safe search using generics with keyof</li>
                    </ul>
                    <p>You've mastered: Generics, Record types, keyof operator, and complex array operations!</p>
                </div>
            </section>
