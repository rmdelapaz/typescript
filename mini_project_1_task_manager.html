<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Build a comprehensive Task Manager application using TypeScript - Apply all Module 1 concepts including interfaces, types, generics, utility types, and type guards.">
    <meta name="author" content="PracticalAce">
    <title>Mini-Project: Task Manager - React TypeScript Course</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/png" href="/favicon.png">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#f0f0f0',
                primaryTextColor: '#333',
                primaryBorderColor: '#667eea'
            }
        });
    </script>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-to-main">Skip to main content</a>
    
    <!-- Progress indicator -->
    <div class="progress-indicator" role="progressbar" aria-label="Page scroll progress">
        <div class="progress-bar"></div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-logo">React TypeScript Course</a>
            <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-expanded="false" aria-controls="nav-links">
                ‚ò∞
            </button>
            <div class="nav-links" id="nav-links" aria-hidden="false">
                <a href="index.html">Home</a>
                <a href="index.html#modules">All Modules</a>
                <button id="theme-toggle" aria-label="Toggle theme">üåô</button>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#module1">Module 1: TypeScript Fundamentals</a></li>
            <li aria-current="page">Mini-Project: Task Manager</li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <div class="container">
            <!-- Project Header -->
            <header>
                <h1>üéØ Mini-Project: Task Manager</h1>
                <p class="lead">Congratulations on completing all five TypeScript Fundamentals lessons! Now it's time to put everything together. In this mini-project, you'll build a comprehensive Task Manager application that demonstrates your mastery of TypeScript's type system. You'll use interfaces, type aliases, union types, generics, utility types, type guards, and functions - everything you've learned! üöÄ</p>
                
                <!-- Project objectives -->
                <div class="card">
                    <h2>üéØ Project Objectives</h2>
                    <p>By completing this project, you will:</p>
                    <ul>
                        <li>Design and implement a complete TypeScript type system for a real application</li>
                        <li>Use interfaces and type aliases to model complex data structures</li>
                        <li>Apply union types and discriminated unions for state management</li>
                        <li>Implement generic functions for reusable data operations</li>
                        <li>Leverage utility types for type transformations</li>
                        <li>Create custom type guards for runtime validation</li>
                        <li>Write type-safe functions with proper parameter and return types</li>
                    </ul>
                    <p><strong>Estimated Time:</strong> 90-120 minutes</p>
                    <p><strong>Difficulty:</strong> Intermediate - applies all Module 1 concepts</p>
                </div>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h3 style="color: white;">üí° What You'll Build</h3>
                    <p style="color: white;">A complete Task Manager system with:</p>
                    <ul style="color: white;">
                        <li>Task creation, updating, and deletion</li>
                        <li>Priority levels and status tracking</li>
                        <li>Task filtering and sorting</li>
                        <li>Statistics and analytics</li>
                        <li>Full TypeScript type safety throughout</li>
                    </ul>
                </div>
            </header>

            <!-- Sticky Table of Contents -->
            <details class="card" open style="position: sticky; top: 80px; z-index: 100; background: var(--card-bg, white); box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                <summary style="cursor: pointer; font-weight: bold; padding: 0.5rem 1rem; user-select: none;">
                    <h2 style="display: inline; margin: 0;">üìë Project Sections</h2>
                </summary>
                <nav aria-label="Table of Contents" style="padding: 0 1rem 1rem 1rem;">
                    <ol>
                        <li><a href="#section1" class="toc-link">Project Requirements</a></li>
                        <li><a href="#section2" class="toc-link">Type System Design</a></li>
                        <li><a href="#section3" class="toc-link">Core Functionality</a></li>
                        <li><a href="#section4" class="toc-link">Advanced Features</a></li>
                        <li><a href="#section5" class="toc-link">Testing & Validation</a></li>
                        <li><a href="#section6" class="toc-link">Complete Solution</a></li>
                        <li><a href="#section7" class="toc-link">Challenges & Extensions</a></li>
                        <li><a href="#section8" class="toc-link">Reflection & Next Steps</a></li>
                    </ol>
                </nav>
            </details>

            <!-- Section 1: Project Requirements -->
            <section id="section1" class="lesson-section">
                <h2>üìã Project Requirements</h2>
                <p>Before we dive into coding, let's understand what we're building. A good task manager needs to handle various types of tasks, track their status, and provide ways to organize and analyze them.</p>

                <h3>Core Requirements</h3>
                <div class="card">
                    <h4>Data Structure Requirements</h4>
                    <ul>
                        <li><strong>Tasks</strong> must have: id, title, description, status, priority, created date, due date (optional), tags</li>
                        <li><strong>Status</strong> can be: pending, in-progress, completed, cancelled</li>
                        <li><strong>Priority</strong> can be: low, medium, high, urgent</li>
                        <li><strong>Tags</strong> are strings that categorize tasks</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>Functionality Requirements</h4>
                    <ul>
                        <li>Create new tasks with all required fields</li>
                        <li>Update existing tasks (partial updates allowed)</li>
                        <li>Delete tasks by ID</li>
                        <li>Get a task by ID</li>
                        <li>Get all tasks</li>
                        <li>Filter tasks by status, priority, or tags</li>
                        <li>Sort tasks by different criteria</li>
                        <li>Calculate statistics (total, by status, by priority)</li>
                        <li>Validate task data</li>
                    </ul>
                </div>

                <h3>TypeScript Concepts to Apply</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Concept</th>
                            <th>Where to Use</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Interfaces</strong></td>
                            <td>Task structure, Statistics</td>
                            <td>interface Task { ... }</td>
                        </tr>
                        <tr>
                            <td><strong>Type Aliases</strong></td>
                            <td>Status, Priority unions</td>
                            <td>type Status = "pending" | "in-progress"</td>
                        </tr>
                        <tr>
                            <td><strong>Union Types</strong></td>
                            <td>Status values, Filter options</td>
                            <td>Status | Priority</td>
                        </tr>
                        <tr>
                            <td><strong>Generics</strong></td>
                            <td>Filter functions, Sort functions</td>
                            <td>function filter&lt;T&gt;(...)</td>
                        </tr>
                        <tr>
                            <td><strong>Utility Types</strong></td>
                            <td>Partial updates, Required fields</td>
                            <td>Partial&lt;Task&gt;</td>
                        </tr>
                        <tr>
                            <td><strong>Type Guards</strong></td>
                            <td>Validation, Type checking</td>
                            <td>isValidStatus(value)</td>
                        </tr>
                        <tr>
                            <td><strong>Functions</strong></td>
                            <td>All operations</td>
                            <td>Typed parameters & returns</td>
                        </tr>
                    </tbody>
                </table>

                <div class="mermaid">
                    graph TD
                    A[Task Manager System] --> B[Data Types]
                    A --> C[Operations]
                    A --> D[Validation]
                    
                    B --> B1[Task Interface]
                    B --> B2[Status Union]
                    B --> B3[Priority Union]
                    
                    C --> C1[CRUD Operations]
                    C --> C2[Filter & Sort]
                    C --> C3[Statistics]
                    
                    D --> D1[Type Guards]
                    D --> D2[Validation Functions]
                    
                    style A fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style B fill:#764ba2,stroke:#333,stroke-width:2px,color:#fff
                    style C fill:#4CAF50,stroke:#333,stroke-width:2px,color:#fff
                    style D fill:#2196F3,stroke:#333,stroke-width:2px,color:#fff
                </div>

                <!-- Interactive Task Structure Visualization -->
                <div class="card" style="margin-top: 2rem;">
                    <h4>üé® Interactive: Task Data Structure</h4>
                    <p>Explore the Task interface structure. Click on each property to see its type and purpose:</p>
                    
                    <svg id="task-structure-svg" viewBox="0 0 550 380" style="width: 100%; max-width: 550px; display: block; margin: 1rem auto;" role="img" aria-label="Task interface structure visualization">
                        <!-- Background -->
                        <rect x="0" y="0" width="550" height="380" fill="#f8f9fa" rx="8"/>
                        
                        <!-- Interface header -->
                        <rect x="20" y="15" width="510" height="40" fill="#667eea" rx="8"/>
                        <text x="275" y="42" text-anchor="middle" fill="white" font-weight="bold" font-size="16">interface Task</text>
                        
                        <!-- Property rows -->
                        <g id="prop-id" style="cursor: pointer;" onclick="showTaskProp('id')">
                            <rect x="30" y="65" width="240" height="35" fill="white" rx="4" stroke="#ddd"/>
                            <text x="45" y="88" fill="#333" font-family="monospace" font-size="13">id: <tspan fill="#2196F3">string</tspan></text>
                        </g>
                        
                        <g id="prop-title" style="cursor: pointer;" onclick="showTaskProp('title')">
                            <rect x="280" y="65" width="240" height="35" fill="white" rx="4" stroke="#ddd"/>
                            <text x="295" y="88" fill="#333" font-family="monospace" font-size="13">title: <tspan fill="#2196F3">string</tspan></text>
                        </g>
                        
                        <g id="prop-description" style="cursor: pointer;" onclick="showTaskProp('description')">
                            <rect x="30" y="110" width="240" height="35" fill="white" rx="4" stroke="#ddd"/>
                            <text x="45" y="133" fill="#333" font-family="monospace" font-size="13">description: <tspan fill="#2196F3">string</tspan></text>
                        </g>
                        
                        <g id="prop-status" style="cursor: pointer;" onclick="showTaskProp('status')">
                            <rect x="280" y="110" width="240" height="35" fill="#e8f5e9" rx="4" stroke="#4CAF50"/>
                            <text x="295" y="133" fill="#333" font-family="monospace" font-size="13">status: <tspan fill="#4CAF50">Status</tspan></text>
                        </g>
                        
                        <g id="prop-priority" style="cursor: pointer;" onclick="showTaskProp('priority')">
                            <rect x="30" y="155" width="240" height="35" fill="#fff3e0" rx="4" stroke="#FF9800"/>
                            <text x="45" y="178" fill="#333" font-family="monospace" font-size="13">priority: <tspan fill="#FF9800">Priority</tspan></text>
                        </g>
                        
                        <g id="prop-createdAt" style="cursor: pointer;" onclick="showTaskProp('createdAt')">
                            <rect x="280" y="155" width="240" height="35" fill="white" rx="4" stroke="#ddd"/>
                            <text x="295" y="178" fill="#333" font-family="monospace" font-size="13">createdAt: <tspan fill="#9C27B0">Date</tspan></text>
                        </g>
                        
                        <g id="prop-dueDate" style="cursor: pointer;" onclick="showTaskProp('dueDate')">
                            <rect x="30" y="200" width="240" height="35" fill="#fce4ec" rx="4" stroke="#E91E63" stroke-dasharray="4,2"/>
                            <text x="45" y="223" fill="#333" font-family="monospace" font-size="13">dueDate<tspan fill="#E91E63">?</tspan>: <tspan fill="#9C27B0">Date</tspan></text>
                        </g>
                        
                        <g id="prop-tags" style="cursor: pointer;" onclick="showTaskProp('tags')">
                            <rect x="280" y="200" width="240" height="35" fill="white" rx="4" stroke="#ddd"/>
                            <text x="295" y="223" fill="#333" font-family="monospace" font-size="13">tags: <tspan fill="#2196F3">string[]</tspan></text>
                        </g>
                        
                        <!-- Info display area -->
                        <rect x="30" y="250" width="490" height="115" fill="white" rx="8" stroke="#667eea" stroke-width="2"/>
                        <text id="task-prop-title" x="275" y="275" text-anchor="middle" fill="#667eea" font-weight="bold" font-size="14">Click a property to learn more</text>
                        <text id="task-prop-type" x="275" y="300" text-anchor="middle" fill="#333" font-family="monospace" font-size="12"></text>
                        <text id="task-prop-desc" x="275" y="325" text-anchor="middle" fill="#666" font-size="12"></text>
                        <text id="task-prop-example" x="275" y="350" text-anchor="middle" fill="#999" font-size="11" font-style="italic"></text>
                    </svg>
                </div>
                
                <script>
                function showTaskProp(prop) {
                    const props = {
                        id: {
                            title: 'id (required)',
                            type: 'string',
                            desc: 'Unique identifier for the task, auto-generated',
                            example: 'Example: "task-1699876543-abc123"'
                        },
                        title: {
                            title: 'title (required)',
                            type: 'string',
                            desc: 'Short, descriptive name for the task',
                            example: 'Example: "Learn TypeScript Generics"'
                        },
                        description: {
                            title: 'description (required)',
                            type: 'string',
                            desc: 'Detailed description of what needs to be done',
                            example: 'Example: "Complete lessons 4-5 and build mini-project"'
                        },
                        status: {
                            title: 'status (required) - Union Type',
                            type: '"pending" | "in-progress" | "completed" | "cancelled"',
                            desc: 'Current state of the task - uses string literal union',
                            example: 'Only these 4 values are allowed!'
                        },
                        priority: {
                            title: 'priority (required) - Union Type',
                            type: '"low" | "medium" | "high" | "urgent"',
                            desc: 'Importance level of the task',
                            example: 'Urgent tasks should be handled first!'
                        },
                        createdAt: {
                            title: 'createdAt (required)',
                            type: 'Date',
                            desc: 'When the task was created, auto-set on creation',
                            example: 'Example: new Date() // current timestamp'
                        },
                        dueDate: {
                            title: 'dueDate (optional) - Note the ?',
                            type: 'Date | undefined',
                            desc: 'Optional deadline for the task',
                            example: 'Use ? to make properties optional'
                        },
                        tags: {
                            title: 'tags (required)',
                            type: 'string[]',
                            desc: 'Array of category labels for organizing tasks',
                            example: 'Example: ["learning", "typescript", "urgent"]'
                        }
                    };
                    
                    const info = props[prop];
                    document.getElementById('task-prop-title').textContent = info.title;
                    document.getElementById('task-prop-type').textContent = 'Type: ' + info.type;
                    document.getElementById('task-prop-desc').textContent = info.desc;
                    document.getElementById('task-prop-example').textContent = info.example;
                    
                    // Highlight selected property
                    document.querySelectorAll('[id^="prop-"]').forEach(g => {
                        const rect = g.querySelector('rect');
                        rect.setAttribute('stroke-width', g.id === 'prop-' + prop ? '3' : '1');
                    });
                }
                </script>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Success Criteria</h4>
                    <p>Your project is complete when:</p>
                    <ul>
                        <li>All TypeScript code compiles without errors</li>
                        <li>All functions have proper type annotations</li>
                        <li>Type guards are used for runtime validation</li>
                        <li>Generic functions work with proper type inference</li>
                        <li>Utility types are used appropriately</li>
                        <li>All test cases pass</li>
                    </ul>
                </div>
            </section>

            <!-- Section 2: Type System Design -->
            <section id="section2" class="lesson-section">
                <h2>üé® Type System Design</h2>
                <p>Let's start by designing our type system. This is the foundation of our application - get this right, and everything else falls into place!</p>

                <h3>Step 1: Define Basic Types</h3>
                <p>Start with the simplest types and build up from there:</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create Status and Priority Types</h4>
                    <p>Create type aliases for Status and Priority using union types with literal values.</p>
                    
                    <pre><code class="language-typescript">// TODO: Define Status type
// Should include: "pending", "in-progress", "completed", "cancelled"

// TODO: Define Priority type
// Should include: "low", "medium", "high", "urgent"

// Test your types:
const status1: Status = "pending";        // ‚úÖ Should work
const status2: Status = "in-progress";    // ‚úÖ Should work
// const status3: Status = "invalid";     // ‚ùå Should error

const priority1: Priority = "low";        // ‚úÖ Should work
const priority2: Priority = "urgent";     // ‚úÖ Should work
// const priority3: Priority = "invalid";  // ‚ùå Should error</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use the pipe operator <code>|</code> to create unions of string literal types. Remember: <code>type MyType = "option1" | "option2" | "option3";</code></p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">type Status = "pending" | "in-progress" | "completed" | "cancelled";
type Priority = "low" | "medium" | "high" | "urgent";</code></pre>
                    </details>
                </div>

                <h3>Step 2: Define the Task Interface</h3>
                <p>Now let's create the main Task interface:</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create the Task Interface</h4>
                    <p>Create an interface that represents a task with all necessary properties.</p>
                    
                    <pre><code class="language-typescript">// TODO: Define Task interface
// Required properties:
// - id: string
// - title: string
// - description: string
// - status: Status (use the type you created)
// - priority: Priority (use the type you created)
// - createdAt: Date
// - tags: array of strings
// Optional properties:
// - dueDate: Date

// Test your interface:
const task: Task = {
    id: "task-1",
    title: "Learn TypeScript",
    description: "Complete all TypeScript lessons",
    status: "in-progress",
    priority: "high",
    createdAt: new Date(),
    tags: ["learning", "typescript"],
    dueDate: new Date("2024-12-31")
};</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use the <code>interface</code> keyword. Remember that optional properties use the <code>?</code> modifier. Arrays can be typed as <code>string[]</code> or <code>Array&lt;string&gt;</code>.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">interface Task {
    id: string;
    title: string;
    description: string;
    status: Status;
    priority: Priority;
    createdAt: Date;
    dueDate?: Date;
    tags: string[];
}</code></pre>
                    </details>
                </div>

                <h3>Step 3: Create Helper Types</h3>
                <p>We'll need some additional types for various operations:</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create TaskInput and TaskUpdate Types</h4>
                    <p>Create types for creating new tasks and updating existing ones.</p>
                    
                    <pre><code class="language-typescript">// TODO: Define TaskInput type
// This should be the Task interface WITHOUT id and createdAt
// (since these are generated by the system)
// Hint: Use the Omit utility type

// TODO: Define TaskUpdate type
// This should allow partial updates to a Task
// (all fields optional except id)
// Hint: Use Partial and Pick utility types

// Test your types:
const newTask: TaskInput = {
    title: "New Task",
    description: "Task description",
    status: "pending",
    priority: "medium",
    tags: []
    // ‚úÖ No id or createdAt needed
};

const taskUpdate: TaskUpdate = {
    id: "task-1",
    status: "completed"
    // ‚úÖ Only updating status, other fields optional
};</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use <code>Omit&lt;Task, "id" | "createdAt"&gt;</code> for TaskInput. For TaskUpdate, combine <code>Pick&lt;Task, "id"&gt;</code> with <code>Partial&lt;Omit&lt;Task, "id"&gt;&gt;</code> using intersection (&).</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">type TaskInput = Omit&lt;Task, "id" | "createdAt"&gt;;

type TaskUpdate = Pick&lt;Task, "id"&gt; & Partial&lt;Omit&lt;Task, "id"&gt;&gt;;</code></pre>
                    </details>
                </div>

                <h3>Step 4: Define Filter and Sort Types</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create FilterOptions and SortField Types</h4>
                    
                    <pre><code class="language-typescript">// TODO: Define FilterOptions interface
// Optional properties for filtering:
// - status: Status
// - priority: Priority
// - tags: string array
// - completed: boolean (to filter completed/incomplete tasks)

// TODO: Define SortField type
// Union of fields we can sort by: "createdAt", "dueDate", "priority", "title"

// TODO: Define SortOrder type
// Union of: "asc" (ascending) or "desc" (descending)

// Test your types:
const filters: FilterOptions = {
    status: "in-progress",
    priority: "high"
};

const sortBy: SortField = "createdAt";
const sortOrder: SortOrder = "desc";</code></pre>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">interface FilterOptions {
    status?: Status;
    priority?: Priority;
    tags?: string[];
    completed?: boolean;
}

type SortField = "createdAt" | "dueDate" | "priority" | "title";
type SortOrder = "asc" | "desc";</code></pre>
                    </details>
                </div>

                <h3>Step 5: Statistics Interface</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create TaskStatistics Interface</h4>
                    
                    <pre><code class="language-typescript">// TODO: Define TaskStatistics interface
// Properties:
// - total: number (total tasks)
// - byStatus: Record of Status to number
// - byPriority: Record of Priority to number
// - completed: number
// - overdue: number
// Hint: Use Record&lt;Status, number&gt; for byStatus

// Test your interface:
const stats: TaskStatistics = {
    total: 10,
    byStatus: {
        "pending": 3,
        "in-progress": 4,
        "completed": 2,
        "cancelled": 1
    },
    byPriority: {
        "low": 2,
        "medium": 5,
        "high": 2,
        "urgent": 1
    },
    completed: 2,
    overdue: 1
};</code></pre>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">interface TaskStatistics {
    total: number;
    byStatus: Record&lt;Status, number&gt;;
    byPriority: Record&lt;Priority, number&gt;;
    completed: number;
    overdue: number;
}</code></pre>
                    </details>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Type System Complete!</h4>
                    <p>Great work! You've designed a complete type system for the Task Manager. You've used:</p>
                    <ul>
                        <li>Type aliases with union types (Status, Priority)</li>
                        <li>Interfaces (Task, FilterOptions, TaskStatistics)</li>
                        <li>Utility types (Omit, Partial, Pick, Record)</li>
                        <li>Optional properties</li>
                        <li>Type composition with intersection types</li>
                    </ul>
                </div>
            </section>
                        <!-- Section 3: Core Functionality -->
            <section id="section3" class="lesson-section">
                <h2>‚öôÔ∏è Core Functionality</h2>
                <p>Now that we have our type system in place, let's implement the core functionality. We'll create type guards, validation functions, and the main CRUD operations.</p>

                <h3>Step 1: Type Guards and Validation</h3>
                <p>Type guards help us validate data at runtime. Let's create them for our Status and Priority types:</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create Type Guards</h4>
                    <p>Create type guard functions to validate Status and Priority values at runtime.</p>
                    
                    <pre><code class="language-typescript">// TODO: Create isValidStatus type guard
// Function signature: function isValidStatus(value: any): value is Status
// Should return true if value is a valid Status

// TODO: Create isValidPriority type guard
// Function signature: function isValidPriority(value: any): value is Priority
// Should return true if value is a valid Priority

// Test your type guards:
console.log(isValidStatus("pending"));      // ‚úÖ true
console.log(isValidStatus("invalid"));      // ‚ùå false
console.log(isValidPriority("high"));       // ‚úÖ true
console.log(isValidPriority("invalid"));    // ‚ùå false</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use an array of valid values and check if the input value is included. Remember to use the type predicate syntax: <code>value is Status</code> in the return type.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">function isValidStatus(value: any): value is Status {
    return ["pending", "in-progress", "completed", "cancelled"].includes(value);
}

function isValidPriority(value: any): value is Priority {
    return ["low", "medium", "high", "urgent"].includes(value);
}</code></pre>
                    </details>
                </div>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create Task Validation Function</h4>
                    <p>Create a function to validate a complete Task object.</p>
                    
                    <pre><code class="language-typescript">// TODO: Create validateTask function
// Function signature: function validateTask(task: Task): boolean
// Should check:
// - id is not empty
// - title is not empty
// - description is not empty
// - status is valid (use isValidStatus)
// - priority is valid (use isValidPriority)
// - createdAt is a valid Date
// - tags is an array
// Return true if all checks pass, false otherwise

// Test your validation:
const validTask: Task = {
    id: "task-1",
    title: "Test Task",
    description: "Test Description",
    status: "pending",
    priority: "high",
    createdAt: new Date(),
    tags: ["test"]
};

console.log(validateTask(validTask));  // ‚úÖ true

const invalidTask: Task = {
    id: "",
    title: "",
    description: "Test",
    status: "invalid" as Status,
    priority: "high",
    createdAt: new Date(),
    tags: []
};

console.log(validateTask(invalidTask));  // ‚ùå false</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Check each property one by one. Use <code>&&</code> to combine all conditions. For dates, check <code>instanceof Date</code> and <code>!isNaN(date.getTime())</code>.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">function validateTask(task: Task): boolean {
    return (
        task.id.trim().length > 0 &&
        task.title.trim().length > 0 &&
        task.description.trim().length > 0 &&
        isValidStatus(task.status) &&
        isValidPriority(task.priority) &&
        task.createdAt instanceof Date &&
        !isNaN(task.createdAt.getTime()) &&
        Array.isArray(task.tags)
    );
}</code></pre>
                    </details>
                </div>

                <h3>Step 2: Task Manager Class</h3>
                <p>Let's create a class to manage our tasks. This will hold all our CRUD operations:</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create TaskManager Class Structure</h4>
                    <p>Create a class with a private tasks array and basic structure.</p>
                    
                    <pre><code class="language-typescript">// TODO: Create TaskManager class
// Private property: tasks (array of Task objects)
// Constructor: initializes empty tasks array
// Private method: generateId() - generates unique IDs (use Date.now() + random number)

class TaskManager {
    // TODO: Add private tasks property
    
    // TODO: Add constructor
    
    // TODO: Add private generateId method
}

// Test your class:
const manager = new TaskManager();
console.log(manager);  // Should create instance successfully</code></pre>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">class TaskManager {
    private tasks: Task[] = [];

    constructor() {
        this.tasks = [];
    }

    private generateId(): string {
        return `task-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
    }
}</code></pre>
                    </details>
                </div>

                <h3>Step 3: Create Task Operation</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement createTask Method</h4>
                    <p>Add a method to create new tasks.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add createTask method to TaskManager class
// Method signature: createTask(input: TaskInput): Task
// Should:
// 1. Generate a unique id
// 2. Set createdAt to current Date
// 3. Create a Task object with all properties
// 4. Validate the task (throw error if invalid)
// 5. Add to tasks array
// 6. Return the created task

// Add this method to your TaskManager class:
class TaskManager {
    // ... previous code ...

    createTask(input: TaskInput): Task {
        // TODO: Implement this method
    }
}

// Test your method:
const manager = new TaskManager();
const newTask = manager.createTask({
    title: "Learn TypeScript",
    description: "Complete all lessons",
    status: "in-progress",
    priority: "high",
    tags: ["learning"]
});
console.log(newTask);  // Should show task with generated id and createdAt</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Create the task object using the spread operator: <code>{ ...input, id: this.generateId(), createdAt: new Date() }</code>. Don't forget to validate before adding to the array!</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">createTask(input: TaskInput): Task {
    const task: Task = {
        ...input,
        id: this.generateId(),
        createdAt: new Date()
    };

    if (!validateTask(task)) {
        throw new Error("Invalid task data");
    }

    this.tasks.push(task);
    return task;
}</code></pre>
                    </details>
                </div>

                <h3>Step 4: Read Operations</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement Read Methods</h4>
                    <p>Add methods to retrieve tasks.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add these methods to TaskManager class

// Method 1: getTaskById(id: string): Task | undefined
// Should return the task with matching id, or undefined if not found

// Method 2: getAllTasks(): Task[]
// Should return a copy of all tasks (use spread or slice to avoid mutation)

// Method 3: getTaskCount(): number
// Should return the total number of tasks

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    getTaskById(id: string): Task | undefined {
        // TODO: Implement this method
    }

    getAllTasks(): Task[] {
        // TODO: Implement this method
    }

    getTaskCount(): number {
        // TODO: Implement this method
    }
}

// Test your methods:
const task = manager.getTaskById(newTask.id);
console.log(task);  // Should return the task

const allTasks = manager.getAllTasks();
console.log(allTasks);  // Should return array of all tasks

const count = manager.getTaskCount();
console.log(count);  // Should return number of tasks</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use <code>find()</code> for getTaskById. For getAllTasks, use the spread operator <code>[...this.tasks]</code> to return a copy. For getTaskCount, return <code>this.tasks.length</code>.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">getTaskById(id: string): Task | undefined {
    return this.tasks.find(task => task.id === id);
}

getAllTasks(): Task[] {
    return [...this.tasks];
}

getTaskCount(): number {
    return this.tasks.length;
}</code></pre>
                    </details>
                </div>

                <h3>Step 5: Update Operation</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement updateTask Method</h4>
                    <p>Add a method to update existing tasks with partial data.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add updateTask method to TaskManager class
// Method signature: updateTask(update: TaskUpdate): Task | undefined
// Should:
// 1. Find the task by id
// 2. If not found, return undefined
// 3. Merge the update with existing task (use spread operator)
// 4. Validate the updated task
// 5. Replace the old task with updated task
// 6. Return the updated task

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    updateTask(update: TaskUpdate): Task | undefined {
        // TODO: Implement this method
    }
}

// Test your method:
const updated = manager.updateTask({
    id: newTask.id,
    status: "completed",
    priority: "medium"
});
console.log(updated);  // Should show task with updated fields</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use <code>findIndex()</code> to get the task position. Merge with: <code>{ ...existingTask, ...update }</code>. Remember to omit the id from the update spread!</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">updateTask(update: TaskUpdate): Task | undefined {
    const index = this.tasks.findIndex(task => task.id === update.id);
    
    if (index === -1) {
        return undefined;
    }

    const { id, ...updates } = update;
    const updatedTask: Task = {
        ...this.tasks[index],
        ...updates
    };

    if (!validateTask(updatedTask)) {
        throw new Error("Invalid task data");
    }

    this.tasks[index] = updatedTask;
    return updatedTask;
}</code></pre>
                    </details>
                </div>

                <h3>Step 6: Delete Operation</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement deleteTask Method</h4>
                    <p>Add a method to delete tasks by ID.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add deleteTask method to TaskManager class
// Method signature: deleteTask(id: string): boolean
// Should:
// 1. Find the task by id
// 2. If found, remove it from the array
// 3. Return true if deleted, false if not found

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    deleteTask(id: string): boolean {
        // TODO: Implement this method
    }
}

// Test your method:
const deleted = manager.deleteTask(newTask.id);
console.log(deleted);  // Should return true

const deletedAgain = manager.deleteTask(newTask.id);
console.log(deletedAgain);  // Should return false (already deleted)</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use <code>findIndex()</code> to locate the task. If found (index !== -1), use <code>splice()</code> to remove it and return true. Otherwise return false.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">deleteTask(id: string): boolean {
    const index = this.tasks.findIndex(task => task.id === id);
    
    if (index === -1) {
        return false;
    }

    this.tasks.splice(index, 1);
    return true;
}</code></pre>
                    </details>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Core CRUD Operations Complete!</h4>
                    <p>Excellent work! You've implemented all the basic CRUD operations:</p>
                    <ul>
                        <li><strong>Create:</strong> createTask() with validation</li>
                        <li><strong>Read:</strong> getTaskById(), getAllTasks(), getTaskCount()</li>
                        <li><strong>Update:</strong> updateTask() with partial updates using Partial&lt;T&gt;</li>
                        <li><strong>Delete:</strong> deleteTask() with boolean return</li>
                    </ul>
                    <p>You've used type guards, utility types (Partial, Omit), proper return types, and error handling!</p>
                </div>

                <div class="mermaid">
                    graph LR
                    A[TaskManager] --> B[Create]
                    A --> C[Read]
                    A --> D[Update]
                    A --> E[Delete]
                    
                    B --> B1[createTask]
                    C --> C1[getTaskById]
                    C --> C2[getAllTasks]
                    C --> C3[getTaskCount]
                    D --> D1[updateTask]
                    E --> E1[deleteTask]
                    
                    style A fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style B fill:#4CAF50,stroke:#333,stroke-width:2px
                    style C fill:#2196F3,stroke:#333,stroke-width:2px
                    style D fill:#FF9800,stroke:#333,stroke-width:2px
                    style E fill:#f44336,stroke:#333,stroke-width:2px
                </div>

                <!-- Interactive CRUD Simulator -->
                <div class="card" style="margin-top: 2rem;">
                    <h4>üé® Interactive: CRUD Operations Simulator</h4>
                    <p>Watch how each CRUD operation works with tasks. Click buttons to simulate operations:</p>
                    
                    <canvas id="crud-canvas" width="600" height="320" style="width: 100%; max-width: 600px; display: block; margin: 1rem auto; border-radius: 8px;" role="img" aria-label="CRUD operations visualization"></canvas>
                    
                    <div style="display: flex; gap: 0.5rem; justify-content: center; flex-wrap: wrap; margin-top: 1rem;">
                        <button onclick="crudCreate()" style="padding: 0.5rem 1rem; border: none; background: #4CAF50; color: white; border-radius: 6px; cursor: pointer; font-weight: bold;">‚ûï Create</button>
                        <button onclick="crudRead()" style="padding: 0.5rem 1rem; border: none; background: #2196F3; color: white; border-radius: 6px; cursor: pointer; font-weight: bold;">üîç Read</button>
                        <button onclick="crudUpdate()" style="padding: 0.5rem 1rem; border: none; background: #FF9800; color: white; border-radius: 6px; cursor: pointer; font-weight: bold;">‚úèÔ∏è Update</button>
                        <button onclick="crudDelete()" style="padding: 0.5rem 1rem; border: none; background: #f44336; color: white; border-radius: 6px; cursor: pointer; font-weight: bold;">üóëÔ∏è Delete</button>
                        <button onclick="crudReset()" style="padding: 0.5rem 1rem; border: none; background: #666; color: white; border-radius: 6px; cursor: pointer;">üîÑ Reset</button>
                    </div>
                    <p id="crud-message" style="text-align: center; margin-top: 1rem; font-weight: bold; color: #667eea;">Click an operation to see it in action</p>
                </div>
                
                <script>
                (function() {
                    const crudCanvas = document.getElementById('crud-canvas');
                    const crudCtx = crudCanvas.getContext('2d');
                    
                    let tasks = [];
                    let taskIdCounter = 1;
                    let highlightIndex = -1;
                    let operation = '';
                    
                    function drawCrudState() {
                        crudCtx.clearRect(0, 0, 600, 320);
                        
                        // Background
                        crudCtx.fillStyle = '#f8f9fa';
                        crudCtx.fillRect(0, 0, 600, 320);
                        
                        // Database box
                        crudCtx.fillStyle = '#667eea';
                        crudCtx.fillRect(20, 20, 120, 40);
                        crudCtx.fillStyle = 'white';
                        crudCtx.font = 'bold 14px Arial';
                        crudCtx.textAlign = 'center';
                        crudCtx.fillText('TaskManager', 80, 45);
                        
                        // Tasks array label
                        crudCtx.fillStyle = '#333';
                        crudCtx.font = '12px Arial';
                        crudCtx.textAlign = 'left';
                        crudCtx.fillText('tasks: Task[] = [', 20, 85);
                        
                        // Draw tasks
                        const startY = 100;
                        tasks.forEach((task, i) => {
                            const y = startY + i * 50;
                            const isHighlight = highlightIndex === i;
                            
                            // Task box
                            const color = isHighlight ? 
                                (operation === 'create' ? '#4CAF50' : 
                                 operation === 'read' ? '#2196F3' : 
                                 operation === 'update' ? '#FF9800' : 
                                 operation === 'delete' ? '#f44336' : '#667eea') : '#667eea';
                            
                            crudCtx.fillStyle = isHighlight ? color : '#f0f0f0';
                            crudCtx.strokeStyle = color;
                            crudCtx.lineWidth = isHighlight ? 3 : 1;
                            crudCtx.beginPath();
                            crudCtx.roundRect(40, y, 520, 40, 6);
                            crudCtx.fill();
                            crudCtx.stroke();
                            
                            // Task content
                            crudCtx.fillStyle = isHighlight ? 'white' : '#333';
                            crudCtx.font = '12px monospace';
                            crudCtx.textAlign = 'left';
                            crudCtx.fillText(
                                `{ id: "${task.id}", title: "${task.title}", status: "${task.status}", priority: "${task.priority}" }`,
                                50, y + 25
                            );
                        });
                        
                        // Closing bracket
                        crudCtx.fillStyle = '#333';
                        crudCtx.font = '12px Arial';
                        const endY = startY + tasks.length * 50 + 10;
                        crudCtx.fillText('];', 20, Math.min(endY, 295));
                        
                        // Task count
                        crudCtx.fillStyle = '#667eea';
                        crudCtx.font = 'bold 14px Arial';
                        crudCtx.textAlign = 'right';
                        crudCtx.fillText(`Count: ${tasks.length}`, 580, 45);
                    }
                    
                    // Polyfill for roundRect
                    if (!crudCtx.roundRect) {
                        crudCtx.roundRect = function(x, y, w, h, r) {
                            this.beginPath();
                            this.moveTo(x + r, y);
                            this.lineTo(x + w - r, y);
                            this.quadraticCurveTo(x + w, y, x + w, y + r);
                            this.lineTo(x + w, y + h - r);
                            this.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
                            this.lineTo(x + r, y + h);
                            this.quadraticCurveTo(x, y + h, x, y + h - r);
                            this.lineTo(x, y + r);
                            this.quadraticCurveTo(x, y, x + r, y);
                            this.closePath();
                        };
                    }
                    
                    window.crudCreate = function() {
                        if (tasks.length >= 4) {
                            document.getElementById('crud-message').textContent = 'Max 4 tasks for demo. Delete one first!';
                            return;
                        }
                        const titles = ['Learn TypeScript', 'Build App', 'Write Tests', 'Deploy'];
                        const statuses = ['pending', 'in-progress', 'completed'];
                        const priorities = ['low', 'medium', 'high', 'urgent'];
                        
                        tasks.push({
                            id: 'task-' + taskIdCounter++,
                            title: titles[tasks.length % titles.length],
                            status: statuses[tasks.length % statuses.length],
                            priority: priorities[tasks.length % priorities.length]
                        });
                        
                        operation = 'create';
                        highlightIndex = tasks.length - 1;
                        drawCrudState();
                        document.getElementById('crud-message').innerHTML = '<span style="color:#4CAF50">‚úÖ Created new task!</span> TaskInput ‚Üí Task (id + createdAt added)';
                    };
                    
                    window.crudRead = function() {
                        if (tasks.length === 0) {
                            document.getElementById('crud-message').textContent = 'No tasks to read. Create one first!';
                            return;
                        }
                        operation = 'read';
                        highlightIndex = Math.floor(Math.random() * tasks.length);
                        drawCrudState();
                        document.getElementById('crud-message').innerHTML = '<span style="color:#2196F3">üîç Found task!</span> getTaskById() returns Task | undefined';
                    };
                    
                    window.crudUpdate = function() {
                        if (tasks.length === 0) {
                            document.getElementById('crud-message').textContent = 'No tasks to update. Create one first!';
                            return;
                        }
                        const idx = Math.floor(Math.random() * tasks.length);
                        tasks[idx].status = tasks[idx].status === 'completed' ? 'in-progress' : 'completed';
                        operation = 'update';
                        highlightIndex = idx;
                        drawCrudState();
                        document.getElementById('crud-message').innerHTML = '<span style="color:#FF9800">‚úèÔ∏è Updated task!</span> Partial<Task> allows updating only some fields';
                    };
                    
                    window.crudDelete = function() {
                        if (tasks.length === 0) {
                            document.getElementById('crud-message').textContent = 'No tasks to delete!';
                            return;
                        }
                        operation = 'delete';
                        highlightIndex = tasks.length - 1;
                        drawCrudState();
                        setTimeout(() => {
                            tasks.pop();
                            highlightIndex = -1;
                            drawCrudState();
                        }, 500);
                        document.getElementById('crud-message').innerHTML = '<span style="color:#f44336">üóëÔ∏è Deleted task!</span> deleteTask() returns boolean';
                    };
                    
                    window.crudReset = function() {
                        tasks = [];
                        taskIdCounter = 1;
                        highlightIndex = -1;
                        operation = '';
                        drawCrudState();
                        document.getElementById('crud-message').textContent = 'Reset! Click an operation to see it in action';
                    };
                    
                    // Initial draw
                    drawCrudState();
                })();
                </script>
            </section>

            <!-- Section 4: Advanced Features -->
            <section id="section4" class="lesson-section">
                <h2>üöÄ Advanced Features</h2>
                <p>Now let's implement the advanced features: filtering, sorting, and statistics. This is where generics and advanced TypeScript features really shine!</p>

                <h3>Step 1: Filter Tasks</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement filterTasks Method</h4>
                    <p>Create a method to filter tasks based on various criteria.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add filterTasks method to TaskManager class
// Method signature: filterTasks(filters: FilterOptions): Task[]
// Should filter tasks based on:
// - status (if provided)
// - priority (if provided)
// - tags (if provided - task must have ALL specified tags)
// - completed (if provided - true returns only completed, false returns non-completed)
// Return array of matching tasks

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    filterTasks(filters: FilterOptions): Task[] {
        // TODO: Implement this method
    }
}

// Test your method:
const highPriorityTasks = manager.filterTasks({ priority: "high" });
console.log(highPriorityTasks);

const inProgressTasks = manager.filterTasks({ status: "in-progress" });
console.log(inProgressTasks);

const completedHighPriority = manager.filterTasks({ 
    status: "completed", 
    priority: "high" 
});
console.log(completedHighPriority);</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use <code>filter()</code> method on this.tasks. For each filter option, check if it's defined before applying. For tags, use <code>every()</code> to check if all specified tags exist in the task's tags array.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">filterTasks(filters: FilterOptions): Task[] {
    return this.tasks.filter(task => {
        // Filter by status
        if (filters.status && task.status !== filters.status) {
            return false;
        }

        // Filter by priority
        if (filters.priority && task.priority !== filters.priority) {
            return false;
        }

        // Filter by tags (task must have ALL specified tags)
        if (filters.tags && filters.tags.length > 0) {
            const hasAllTags = filters.tags.every(tag => 
                task.tags.includes(tag)
            );
            if (!hasAllTags) {
                return false;
            }
        }

        // Filter by completed status
        if (filters.completed !== undefined) {
            const isCompleted = task.status === "completed";
            if (isCompleted !== filters.completed) {
                return false;
            }
        }

        return true;
    });
}</code></pre>
                    </details>
                </div>

                <h3>Step 2: Sort Tasks</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement sortTasks Method</h4>
                    <p>Create a method to sort tasks by different fields.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add sortTasks method to TaskManager class
// Method signature: sortTasks(tasks: Task[], field: SortField, order: SortOrder = "asc"): Task[]
// Should:
// 1. Sort tasks by the specified field
// 2. Handle ascending and descending order
// 3. Handle Date fields (createdAt, dueDate)
// 4. Handle string fields (title)
// 5. Handle priority (treat as: low < medium < high < urgent)
// 6. Return a NEW sorted array (don't mutate original)

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    sortTasks(tasks: Task[], field: SortField, order: SortOrder = "asc"): Task[] {
        // TODO: Implement this method
        // Hint: Create a copy first with [...tasks]
        // Hint: For priority, create a priority order map
    }
}

// Test your method:
const allTasks = manager.getAllTasks();
const sortedByDate = manager.sortTasks(allTasks, "createdAt", "desc");
console.log(sortedByDate);

const sortedByPriority = manager.sortTasks(allTasks, "priority", "desc");
console.log(sortedByPriority);</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Use <code>[...tasks].sort()</code> to create a copy and sort. For priority, create an object mapping: <code>{ low: 0, medium: 1, high: 2, urgent: 3 }</code>. Use <code>localeCompare()</code> for strings.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">sortTasks(tasks: Task[], field: SortField, order: SortOrder = "asc"): Task[] {
    const priorityOrder: Record&lt;Priority, number&gt; = {
        "low": 0,
        "medium": 1,
        "high": 2,
        "urgent": 3
    };

    const sortedTasks = [...tasks].sort((a, b) => {
        let comparison = 0;

        switch (field) {
            case "createdAt":
            case "dueDate":
                const dateA = field === "createdAt" ? a.createdAt : (a.dueDate || new Date(0));
                const dateB = field === "createdAt" ? b.createdAt : (b.dueDate || new Date(0));
                comparison = dateA.getTime() - dateB.getTime();
                break;

            case "priority":
                comparison = priorityOrder[a.priority] - priorityOrder[b.priority];
                break;

            case "title":
                comparison = a.title.localeCompare(b.title);
                break;
        }

        return order === "asc" ? comparison : -comparison;
    });

    return sortedTasks;
}</code></pre>
                    </details>
                </div>

                <h3>Step 3: Calculate Statistics</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement getStatistics Method</h4>
                    <p>Create a method to calculate task statistics.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add getStatistics method to TaskManager class
// Method signature: getStatistics(): TaskStatistics
// Should calculate:
// - total: total number of tasks
// - byStatus: count of tasks for each status
// - byPriority: count of tasks for each priority
// - completed: number of completed tasks
// - overdue: number of tasks past their due date (if dueDate exists and is past)

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    getStatistics(): TaskStatistics {
        // TODO: Implement this method
        // Hint: Use reduce() to build the byStatus and byPriority objects
    }
}

// Test your method:
const stats = manager.getStatistics();
console.log(stats);
// Should show object with all statistics</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>Initialize byStatus and byPriority with all possible values set to 0. Use <code>reduce()</code> or a loop to count. For overdue, check if <code>task.dueDate && task.dueDate < new Date() && task.status !== "completed"</code>.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">getStatistics(): TaskStatistics {
    const now = new Date();

    const byStatus: Record&lt;Status, number&gt; = {
        "pending": 0,
        "in-progress": 0,
        "completed": 0,
        "cancelled": 0
    };

    const byPriority: Record&lt;Priority, number&gt; = {
        "low": 0,
        "medium": 0,
        "high": 0,
        "urgent": 0
    };

    let completed = 0;
    let overdue = 0;

    this.tasks.forEach(task => {
        byStatus[task.status]++;
        byPriority[task.priority]++;

        if (task.status === "completed") {
            completed++;
        }

        if (
            task.dueDate &&
            task.dueDate < now &&
            task.status !== "completed" &&
            task.status !== "cancelled"
        ) {
            overdue++;
        }
    });

    return {
        total: this.tasks.length,
        byStatus,
        byPriority,
        completed,
        overdue
    };
}</code></pre>
                    </details>
                </div>

                <h3>Step 4: Search Tasks (Bonus Generic Function)</h3>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Implement Generic Search Method</h4>
                    <p>Create a generic search method that can search any field.</p>
                    
                    <pre><code class="language-typescript">// TODO: Add searchTasks method to TaskManager class
// Method signature: searchTasks&lt;K extends keyof Task&gt;(field: K, value: Task[K]): Task[]
// This is a GENERIC method that can search any field of a task
// Should return tasks where the field matches the value

// Add to your TaskManager class:
class TaskManager {
    // ... previous code ...

    searchTasks&lt;K extends keyof Task&gt;(field: K, value: Task[K]): Task[] {
        // TODO: Implement this method
    }
}

// Test your method:
const tasksByTitle = manager.searchTasks("title", "Learn TypeScript");
console.log(tasksByTitle);

const tasksByStatus = manager.searchTasks("status", "in-progress");
console.log(tasksByStatus);

const tasksByPriority = manager.searchTasks("priority", "high");
console.log(tasksByPriority);</code></pre>

                    <details>
                        <summary>üí° Hint</summary>
                        <p>This is a generic method! Use <code>filter()</code> and compare <code>task[field]</code> with <code>value</code>. The generic constraint <code>K extends keyof Task</code> ensures field is a valid Task property.</p>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <pre><code class="language-typescript">searchTasks&lt;K extends keyof Task&gt;(field: K, value: Task[K]): Task[] {
    return this.tasks.filter(task => task[field] === value);
}</code></pre>
                    </details>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Advanced Features Complete!</h4>
                    <p>Outstanding! You've implemented all advanced features:</p>
                    <ul>
                        <li><strong>Filtering:</strong> Complex multi-criteria filtering</li>
                        <li><strong>Sorting:</strong> Sort by multiple fields with ascending/descending order</li>
                        <li><strong>Statistics:</strong> Comprehensive analytics with Record types</li>
                        <li><strong>Generic Search:</strong> Type-safe search using generics with keyof</li>
                    </ul>
                    <p>You've mastered: Generics, Record types, keyof operator, and complex array operations!</p>
                </div>

                <!-- Interactive Statistics Dashboard -->
                <div class="card" style="margin-top: 2rem;">
                    <h4>üé® Interactive: Statistics Dashboard</h4>
                    <p>See how the <code>getStatistics()</code> method calculates task metrics. Click to add sample tasks and watch the stats update:</p>
                    
                    <svg id="stats-svg" viewBox="0 0 600 300" style="width: 100%; max-width: 600px; display: block; margin: 1rem auto;" role="img" aria-label="Task statistics dashboard">
                        <!-- Background -->
                        <rect x="0" y="0" width="600" height="300" fill="#f8f9fa" rx="8"/>
                        
                        <!-- Title -->
                        <text x="300" y="25" text-anchor="middle" fill="#667eea" font-weight="bold" font-size="16">TaskStatistics Dashboard</text>
                        
                        <!-- Total Tasks -->
                        <rect x="20" y="40" width="130" height="70" fill="#667eea" rx="8"/>
                        <text x="85" y="65" text-anchor="middle" fill="white" font-size="12">Total Tasks</text>
                        <text id="stat-total" x="85" y="95" text-anchor="middle" fill="white" font-weight="bold" font-size="28">0</text>
                        
                        <!-- Completed -->
                        <rect x="160" y="40" width="130" height="70" fill="#4CAF50" rx="8"/>
                        <text x="225" y="65" text-anchor="middle" fill="white" font-size="12">Completed</text>
                        <text id="stat-completed" x="225" y="95" text-anchor="middle" fill="white" font-weight="bold" font-size="28">0</text>
                        
                        <!-- Overdue -->
                        <rect x="300" y="40" width="130" height="70" fill="#f44336" rx="8"/>
                        <text x="365" y="65" text-anchor="middle" fill="white" font-size="12">Overdue</text>
                        <text id="stat-overdue" x="365" y="95" text-anchor="middle" fill="white" font-weight="bold" font-size="28">0</text>
                        
                        <!-- By Status Section -->
                        <text x="30" y="140" fill="#333" font-weight="bold" font-size="13">byStatus: Record&lt;Status, number&gt;</text>
                        
                        <!-- Status bars -->
                        <g id="status-bars">
                            <rect x="30" y="155" width="0" height="25" fill="#9E9E9E" rx="4" id="bar-pending"/>
                            <text x="35" y="172" fill="white" font-size="10" id="label-pending">pending: 0</text>
                            
                            <rect x="30" y="185" width="0" height="25" fill="#2196F3" rx="4" id="bar-inprogress"/>
                            <text x="35" y="202" fill="white" font-size="10" id="label-inprogress">in-progress: 0</text>
                            
                            <rect x="30" y="215" width="0" height="25" fill="#4CAF50" rx="4" id="bar-completed"/>
                            <text x="35" y="232" fill="white" font-size="10" id="label-completed">completed: 0</text>
                            
                            <rect x="30" y="245" width="0" height="25" fill="#f44336" rx="4" id="bar-cancelled"/>
                            <text x="35" y="262" fill="white" font-size="10" id="label-cancelled">cancelled: 0</text>
                        </g>
                        
                        <!-- By Priority Section -->
                        <text x="320" y="140" fill="#333" font-weight="bold" font-size="13">byPriority: Record&lt;Priority, number&gt;</text>
                        
                        <!-- Priority circles -->
                        <g id="priority-circles">
                            <circle cx="350" cy="185" r="25" fill="#8BC34A" id="circle-low"/>
                            <text x="350" y="190" text-anchor="middle" fill="white" font-weight="bold" font-size="14" id="num-low">0</text>
                            <text x="350" y="225" text-anchor="middle" fill="#666" font-size="10">low</text>
                            
                            <circle cx="420" cy="185" r="25" fill="#FFC107" id="circle-medium"/>
                            <text x="420" y="190" text-anchor="middle" fill="white" font-weight="bold" font-size="14" id="num-medium">0</text>
                            <text x="420" y="225" text-anchor="middle" fill="#666" font-size="10">medium</text>
                            
                            <circle cx="490" cy="185" r="25" fill="#FF9800" id="circle-high"/>
                            <text x="490" y="190" text-anchor="middle" fill="white" font-weight="bold" font-size="14" id="num-high">0</text>
                            <text x="490" y="225" text-anchor="middle" fill="#666" font-size="10">high</text>
                            
                            <circle cx="560" cy="185" r="25" fill="#f44336" id="circle-urgent"/>
                            <text x="560" y="190" text-anchor="middle" fill="white" font-weight="bold" font-size="14" id="num-urgent">0</text>
                            <text x="560" y="225" text-anchor="middle" fill="#666" font-size="10">urgent</text>
                        </g>
                    </svg>
                    
                    <div style="display: flex; gap: 0.5rem; justify-content: center; flex-wrap: wrap; margin-top: 1rem;">
                        <button onclick="addStatTask('pending', 'low')" style="padding: 0.4rem 0.8rem; border: none; background: #9E9E9E; color: white; border-radius: 4px; cursor: pointer; font-size: 11px;">+ Pending/Low</button>
                        <button onclick="addStatTask('in-progress', 'medium')" style="padding: 0.4rem 0.8rem; border: none; background: #2196F3; color: white; border-radius: 4px; cursor: pointer; font-size: 11px;">+ In Progress/Med</button>
                        <button onclick="addStatTask('completed', 'high')" style="padding: 0.4rem 0.8rem; border: none; background: #4CAF50; color: white; border-radius: 4px; cursor: pointer; font-size: 11px;">+ Completed/High</button>
                        <button onclick="addStatTask('pending', 'urgent', true)" style="padding: 0.4rem 0.8rem; border: none; background: #f44336; color: white; border-radius: 4px; cursor: pointer; font-size: 11px;">+ Overdue/Urgent</button>
                        <button onclick="resetStats()" style="padding: 0.4rem 0.8rem; border: none; background: #666; color: white; border-radius: 4px; cursor: pointer; font-size: 11px;">üîÑ Reset</button>
                    </div>
                </div>
                
                <script>
                (function() {
                    const stats = {
                        total: 0,
                        completed: 0,
                        overdue: 0,
                        byStatus: { pending: 0, 'in-progress': 0, completed: 0, cancelled: 0 },
                        byPriority: { low: 0, medium: 0, high: 0, urgent: 0 }
                    };
                    
                    function updateStatsDisplay() {
                        document.getElementById('stat-total').textContent = stats.total;
                        document.getElementById('stat-completed').textContent = stats.completed;
                        document.getElementById('stat-overdue').textContent = stats.overdue;
                        
                        // Update status bars
                        const maxWidth = 250;
                        const maxCount = Math.max(1, ...Object.values(stats.byStatus));
                        
                        ['pending', 'in-progress', 'completed', 'cancelled'].forEach(status => {
                            const barId = 'bar-' + status.replace('-', '');
                            const labelId = 'label-' + status.replace('-', '');
                            const count = stats.byStatus[status];
                            const width = Math.max(80, (count / maxCount) * maxWidth);
                            
                            document.getElementById(barId).setAttribute('width', width);
                            document.getElementById(labelId).textContent = status + ': ' + count;
                        });
                        
                        // Update priority circles
                        ['low', 'medium', 'high', 'urgent'].forEach(priority => {
                            const count = stats.byPriority[priority];
                            const radius = 25 + count * 3;
                            document.getElementById('circle-' + priority).setAttribute('r', Math.min(radius, 40));
                            document.getElementById('num-' + priority).textContent = count;
                        });
                    }
                    
                    window.addStatTask = function(status, priority, isOverdue = false) {
                        stats.total++;
                        stats.byStatus[status]++;
                        stats.byPriority[priority]++;
                        
                        if (status === 'completed') {
                            stats.completed++;
                        }
                        if (isOverdue) {
                            stats.overdue++;
                        }
                        
                        updateStatsDisplay();
                    };
                    
                    window.resetStats = function() {
                        stats.total = 0;
                        stats.completed = 0;
                        stats.overdue = 0;
                        stats.byStatus = { pending: 0, 'in-progress': 0, completed: 0, cancelled: 0 };
                        stats.byPriority = { low: 0, medium: 0, high: 0, urgent: 0 };
                        updateStatsDisplay();
                    };
                    
                    updateStatsDisplay();
                })();
                </script>
            </section>
            <!-- Section 5: Testing & Validation -->
            <section id="section5" class="lesson-section">
                <h2>üß™ Testing & Validation</h2>
                <p>Let's test our Task Manager to make sure everything works correctly. We'll create comprehensive test cases for all functionality.</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üèãÔ∏è Task: Create Test Suite</h4>
                    <p>Create a function that runs all tests and reports results.</p>
                    
                    <pre><code class="language-typescript">// TODO: Create a test function
function testTaskManager(): void {
    console.log("üß™ Starting Task Manager Tests...\n");

    const manager = new TaskManager();

    // Test 1: Create tasks
    console.log("Test 1: Creating tasks...");
    const task1 = manager.createTask({
        title: "Learn TypeScript Basics",
        description: "Complete lessons 1-3",
        status: "completed",
        priority: "high",
        tags: ["learning", "typescript"]
    });
    console.log("‚úÖ Task 1 created:", task1.id);

    const task2 = manager.createTask({
        title: "Build Task Manager",
        description: "Complete mini-project",
        status: "in-progress",
        priority: "urgent",
        tags: ["project", "typescript"],
        dueDate: new Date("2024-12-31")
    });
    console.log("‚úÖ Task 2 created:", task2.id);

    const task3 = manager.createTask({
        title: "Review React Concepts",
        description: "Prepare for Module 2",
        status: "pending",
        priority: "medium",
        tags: ["learning", "react"]
    });
    console.log("‚úÖ Task 3 created:", task3.id);

    // Test 2: Get tasks
    console.log("\nTest 2: Retrieving tasks...");
    const allTasks = manager.getAllTasks();
    console.log(`‚úÖ Total tasks: ${allTasks.length}`);

    const foundTask = manager.getTaskById(task1.id);
    console.log(`‚úÖ Found task: ${foundTask?.title}`);

    // Test 3: Update task
    console.log("\nTest 3: Updating task...");
    const updated = manager.updateTask({
        id: task3.id,
        status: "in-progress",
        priority: "high"
    });
    console.log(`‚úÖ Updated task: ${updated?.title} - Status: ${updated?.status}`);

    // Test 4: Filter tasks
    console.log("\nTest 4: Filtering tasks...");
    const highPriority = manager.filterTasks({ priority: "high" });
    console.log(`‚úÖ High priority tasks: ${highPriority.length}`);

    const inProgress = manager.filterTasks({ status: "in-progress" });
    console.log(`‚úÖ In-progress tasks: ${inProgress.length}`);

    const learningTasks = manager.filterTasks({ tags: ["learning"] });
    console.log(`‚úÖ Learning tasks: ${learningTasks.length}`);

    // Test 5: Sort tasks
    console.log("\nTest 5: Sorting tasks...");
    const sortedByPriority = manager.sortTasks(allTasks, "priority", "desc");
    console.log(`‚úÖ Sorted by priority (desc):`, 
        sortedByPriority.map(t => `${t.title} (${t.priority})`).join(", "));

    // Test 6: Statistics
    console.log("\nTest 6: Getting statistics...");
    const stats = manager.getStatistics();
    console.log("‚úÖ Statistics:");
    console.log(`   Total: ${stats.total}`);
    console.log(`   Completed: ${stats.completed}`);
    console.log(`   By Status:`, stats.byStatus);
    console.log(`   By Priority:`, stats.byPriority);

    // Test 7: Generic search
    console.log("\nTest 7: Generic search...");
    const urgentTasks = manager.searchTasks("priority", "urgent");
    console.log(`‚úÖ Urgent tasks: ${urgentTasks.length}`);

    // Test 8: Delete task
    console.log("\nTest 8: Deleting task...");
    const deleted = manager.deleteTask(task1.id);
    console.log(`‚úÖ Task deleted: ${deleted}`);
    console.log(`‚úÖ Remaining tasks: ${manager.getTaskCount()}`);

    console.log("\nüéâ All tests completed!");
}

// Run the tests
testTaskManager();</code></pre>

                    <details>
                        <summary>‚úÖ Expected Output</summary>
                        <pre><code>üß™ Starting Task Manager Tests...

Test 1: Creating tasks...
‚úÖ Task 1 created: task-1234567890-abc123
‚úÖ Task 2 created: task-1234567891-def456
‚úÖ Task 3 created: task-1234567892-ghi789

Test 2: Retrieving tasks...
‚úÖ Total tasks: 3
‚úÖ Found task: Learn TypeScript Basics

Test 3: Updating task...
‚úÖ Updated task: Review React Concepts - Status: in-progress

Test 4: Filtering tasks...
‚úÖ High priority tasks: 2
‚úÖ In-progress tasks: 2
‚úÖ Learning tasks: 2

Test 5: Sorting tasks...
‚úÖ Sorted by priority (desc): Build Task Manager (urgent), Learn TypeScript Basics (high), Review React Concepts (high)

Test 6: Getting statistics...
‚úÖ Statistics:
   Total: 3
   Completed: 1
   By Status: { pending: 0, 'in-progress': 2, completed: 1, cancelled: 0 }
   By Priority: { low: 0, medium: 0, high: 2, urgent: 1 }

Test 7: Generic search...
‚úÖ Urgent tasks: 1

Test 8: Deleting task...
‚úÖ Task deleted: true
‚úÖ Remaining tasks: 2

üéâ All tests completed!</code></pre>
                    </details>
                </div>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Common Issues to Check</h4>
                    <ul>
                        <li><strong>Type errors:</strong> Make sure all functions have proper type annotations</li>
                        <li><strong>Validation:</strong> Ensure tasks are validated before being added/updated</li>
                        <li><strong>Immutability:</strong> Array methods like sort() should return new arrays, not mutate originals</li>
                        <li><strong>Edge cases:</strong> Handle missing tasks (undefined returns), empty arrays, etc.</li>
                        <li><strong>Date handling:</strong> Make sure dates are properly compared for overdue tasks</li>
                    </ul>
                </div>
            </section>

            <!-- Section 6: Complete Solution -->
            <section id="section6" class="lesson-section">
                <h2>üí° Complete Solution</h2>
                <p>Here's the complete Task Manager implementation with all features. Use this to check your work or if you get stuck!</p>

                <details>
                    <summary style="cursor: pointer; font-size: 1.2em; font-weight: bold; padding: 1rem; background: #f0f0f0; border-radius: 5px;">
                        üì¶ Click to View Complete Solution
                    </summary>

                    <div style="margin-top: 1rem;">
                        <pre><code class="language-typescript">// ============================================
// TYPE DEFINITIONS
// ============================================

type Status = "pending" | "in-progress" | "completed" | "cancelled";
type Priority = "low" | "medium" | "high" | "urgent";

interface Task {
    id: string;
    title: string;
    description: string;
    status: Status;
    priority: Priority;
    createdAt: Date;
    dueDate?: Date;
    tags: string[];
}

type TaskInput = Omit&lt;Task, "id" | "createdAt"&gt;;
type TaskUpdate = Pick&lt;Task, "id"&gt; & Partial&lt;Omit&lt;Task, "id"&gt;&gt;;

interface FilterOptions {
    status?: Status;
    priority?: Priority;
    tags?: string[];
    completed?: boolean;
}

type SortField = "createdAt" | "dueDate" | "priority" | "title";
type SortOrder = "asc" | "desc";

interface TaskStatistics {
    total: number;
    byStatus: Record&lt;Status, number&gt;;
    byPriority: Record&lt;Priority, number&gt;;
    completed: number;
    overdue: number;
}

// ============================================
// TYPE GUARDS & VALIDATION
// ============================================

function isValidStatus(value: any): value is Status {
    return ["pending", "in-progress", "completed", "cancelled"].includes(value);
}

function isValidPriority(value: any): value is Priority {
    return ["low", "medium", "high", "urgent"].includes(value);
}

function validateTask(task: Task): boolean {
    return (
        task.id.trim().length > 0 &&
        task.title.trim().length > 0 &&
        task.description.trim().length > 0 &&
        isValidStatus(task.status) &&
        isValidPriority(task.priority) &&
        task.createdAt instanceof Date &&
        !isNaN(task.createdAt.getTime()) &&
        Array.isArray(task.tags)
    );
}

// ============================================
// TASK MANAGER CLASS
// ============================================

class TaskManager {
    private tasks: Task[] = [];

    constructor() {
        this.tasks = [];
    }

    private generateId(): string {
        return `task-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
    }

    // CREATE
    createTask(input: TaskInput): Task {
        const task: Task = {
            ...input,
            id: this.generateId(),
            createdAt: new Date()
        };

        if (!validateTask(task)) {
            throw new Error("Invalid task data");
        }

        this.tasks.push(task);
        return task;
    }

    // READ
    getTaskById(id: string): Task | undefined {
        return this.tasks.find(task => task.id === id);
    }

    getAllTasks(): Task[] {
        return [...this.tasks];
    }

    getTaskCount(): number {
        return this.tasks.length;
    }

    // UPDATE
    updateTask(update: TaskUpdate): Task | undefined {
        const index = this.tasks.findIndex(task => task.id === update.id);
        
        if (index === -1) {
            return undefined;
        }

        const { id, ...updates } = update;
        const updatedTask: Task = {
            ...this.tasks[index],
            ...updates
        };

        if (!validateTask(updatedTask)) {
            throw new Error("Invalid task data");
        }

        this.tasks[index] = updatedTask;
        return updatedTask;
    }

    // DELETE
    deleteTask(id: string): boolean {
        const index = this.tasks.findIndex(task => task.id === id);
        
        if (index === -1) {
            return false;
        }

        this.tasks.splice(index, 1);
        return true;
    }

    // FILTER
    filterTasks(filters: FilterOptions): Task[] {
        return this.tasks.filter(task => {
            if (filters.status && task.status !== filters.status) {
                return false;
            }

            if (filters.priority && task.priority !== filters.priority) {
                return false;
            }

            if (filters.tags && filters.tags.length > 0) {
                const hasAllTags = filters.tags.every(tag => 
                    task.tags.includes(tag)
                );
                if (!hasAllTags) {
                    return false;
                }
            }

            if (filters.completed !== undefined) {
                const isCompleted = task.status === "completed";
                if (isCompleted !== filters.completed) {
                    return false;
                }
            }

            return true;
        });
    }

    // SORT
    sortTasks(tasks: Task[], field: SortField, order: SortOrder = "asc"): Task[] {
        const priorityOrder: Record&lt;Priority, number&gt; = {
            "low": 0,
            "medium": 1,
            "high": 2,
            "urgent": 3
        };

        const sortedTasks = [...tasks].sort((a, b) => {
            let comparison = 0;

            switch (field) {
                case "createdAt":
                case "dueDate":
                    const dateA = field === "createdAt" ? a.createdAt : (a.dueDate || new Date(0));
                    const dateB = field === "createdAt" ? b.createdAt : (b.dueDate || new Date(0));
                    comparison = dateA.getTime() - dateB.getTime();
                    break;

                case "priority":
                    comparison = priorityOrder[a.priority] - priorityOrder[b.priority];
                    break;

                case "title":
                    comparison = a.title.localeCompare(b.title);
                    break;
            }

            return order === "asc" ? comparison : -comparison;
        });

        return sortedTasks;
    }

    // STATISTICS
    getStatistics(): TaskStatistics {
        const now = new Date();

        const byStatus: Record&lt;Status, number&gt; = {
            "pending": 0,
            "in-progress": 0,
            "completed": 0,
            "cancelled": 0
        };

        const byPriority: Record&lt;Priority, number&gt; = {
            "low": 0,
            "medium": 0,
            "high": 0,
            "urgent": 0
        };

        let completed = 0;
        let overdue = 0;

        this.tasks.forEach(task => {
            byStatus[task.status]++;
            byPriority[task.priority]++;

            if (task.status === "completed") {
                completed++;
            }

            if (
                task.dueDate &&
                task.dueDate < now &&
                task.status !== "completed" &&
                task.status !== "cancelled"
            ) {
                overdue++;
            }
        });

        return {
            total: this.tasks.length,
            byStatus,
            byPriority,
            completed,
            overdue
        };
    }

    // GENERIC SEARCH
    searchTasks&lt;K extends keyof Task&gt;(field: K, value: Task[K]): Task[] {
        return this.tasks.filter(task => task[field] === value);
    }
}

// ============================================
// EXPORT (for use in other files)
// ============================================

// If using modules, export everything
// export { Task, TaskInput, TaskUpdate, Status, Priority, FilterOptions, SortField, SortOrder, TaskStatistics, TaskManager };</code></pre>
                    </div>
                </details>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ What You've Accomplished</h4>
                    <p>In this project, you successfully applied:</p>
                    <ul>
                        <li>‚úÖ <strong>Type Aliases</strong> - Status, Priority, SortField, SortOrder</li>
                        <li>‚úÖ <strong>Interfaces</strong> - Task, FilterOptions, TaskStatistics</li>
                        <li>‚úÖ <strong>Union Types</strong> - Literal string unions for Status and Priority</li>
                        <li>‚úÖ <strong>Utility Types</strong> - Omit, Partial, Pick, Record</li>
                        <li>‚úÖ <strong>Type Guards</strong> - isValidStatus, isValidPriority, custom validation</li>
                        <li>‚úÖ <strong>Generics</strong> - Generic search method with keyof</li>
                        <li>‚úÖ <strong>Optional Properties</strong> - dueDate in Task</li>
                        <li>‚úÖ <strong>Type-safe Functions</strong> - All parameters and returns properly typed</li>
                        <li>‚úÖ <strong>Array Methods</strong> - filter, sort, map, find, every</li>
                        <li>‚úÖ <strong>Classes</strong> - TaskManager with private properties and methods</li>
                    </ul>
                </div>
            </section>

            <!-- Section 7: Challenges & Extensions -->
            <section id="section7" class="lesson-section">
                <h2>üéØ Challenges & Extensions</h2>
                <p>Ready to take your Task Manager to the next level? Try these challenges!</p>

                <h3>üåü Challenge 1: Task Dependencies</h3>
                <div class="card" style="background: #fff9c4; border-left: 4px solid #FFC107;">
                    <p><strong>Goal:</strong> Add support for task dependencies - tasks that must be completed before others can start.</p>
                    <ul>
                        <li>Add a <code>dependsOn</code> property (array of task IDs)</li>
                        <li>Create a method to check if a task's dependencies are satisfied</li>
                        <li>Prevent starting tasks with unsatisfied dependencies</li>
                        <li>Create a method to get the dependency chain</li>
                    </ul>
                </div>

                <h3>üåü Challenge 2: Task History</h3>
                <div class="card" style="background: #fff9c4; border-left: 4px solid #FFC107;">
                    <p><strong>Goal:</strong> Track the history of changes to each task.</p>
                    <ul>
                        <li>Add a <code>history</code> property (array of change records)</li>
                        <li>Record what changed, when, and what the previous value was</li>
                        <li>Create a method to get the full history of a task</li>
                        <li>Create a method to undo the last change</li>
                    </ul>
                </div>

                <h3>üåü Challenge 3: Subtasks</h3>
                <div class="card" style="background: #fff9c4; border-left: 4px solid #FFC107;">
                    <p><strong>Goal:</strong> Add support for nested subtasks.</p>
                    <ul>
                        <li>Add a <code>subtasks</code> property (array of Tasks)</li>
                        <li>Create methods to add/remove subtasks</li>
                        <li>Update statistics to include subtask counts</li>
                        <li>Calculate completion percentage based on subtasks</li>
                    </ul>
                </div>

                <h3>üåü Challenge 4: Persistence</h3>
                <div class="card" style="background: #fff9c4; border-left: 4px solid #FFC107;">
                    <p><strong>Goal:</strong> Save and load tasks from localStorage.</p>
                    <ul>
                        <li>Create a <code>save()</code> method to persist tasks</li>
                        <li>Create a <code>load()</code> method to restore tasks</li>
                        <li>Handle Date serialization/deserialization</li>
                        <li>Add auto-save functionality</li>
                    </ul>
                </div>

                <h3>üåü Challenge 5: Advanced Filtering</h3>
                <div class="card" style="background: #fff9c4; border-left: 4px solid #FFC107;">
                    <p><strong>Goal:</strong> Add more sophisticated filtering options.</p>
                    <ul>
                        <li>Date range filtering (created between X and Y)</li>
                        <li>Text search in title/description</li>
                        <li>Regex pattern matching</li>
                        <li>Compound filters with AND/OR logic</li>
                    </ul>
                </div>

                <h3>üåü Challenge 6: Bulk Operations</h3>
                <div class="card" style="background: #fff9c4; border-left: 4px solid #FFC107;">
                    <p><strong>Goal:</strong> Add methods for bulk operations.</p>
                    <ul>
                        <li><code>bulkUpdate(ids: string[], updates: Partial&lt;Task&gt;)</code></li>
                        <li><code>bulkDelete(ids: string[])</code></li>
                        <li><code>bulkStatusChange(ids: string[], status: Status)</code></li>
                        <li>Return results with success/failure for each operation</li>
                    </ul>
                </div>

                <div class="mermaid">
                    graph TD
                    A[Task Manager] --> B[Core Features ‚úÖ]
                    A --> C[Extensions üåü]
                    
                    B --> B1[CRUD]
                    B --> B2[Filter & Sort]
                    B --> B3[Statistics]
                    
                    C --> C1[Dependencies]
                    C --> C2[History]
                    C --> C3[Subtasks]
                    C --> C4[Persistence]
                    C --> C5[Advanced Filters]
                    C --> C6[Bulk Operations]
                    
                    style A fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                    style B fill:#4CAF50,stroke:#333,stroke-width:2px,color:#fff
                    style C fill:#FFC107,stroke:#333,stroke-width:2px
                </div>
            </section>

            <!-- Section 8: Reflection & Next Steps -->
            <section id="section8" class="lesson-section">
                <h2>üéì Reflection & Next Steps</h2>
                
                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h3 style="color: white;">üéâ Congratulations on Completing Module 1!</h3>
                    <p style="color: white;">You've built a complete, type-safe Task Manager application from scratch. This project showcases your mastery of TypeScript fundamentals:</p>
                    <ul style="color: white;">
                        <li>üìù Designed a comprehensive type system</li>
                        <li>üîí Implemented type guards for runtime safety</li>
                        <li>‚öôÔ∏è Created all CRUD operations with proper typing</li>
                        <li>üîç Built advanced filtering and sorting</li>
                        <li>üìä Calculated statistics with Record types</li>
                        <li>üéÅ Used generics for flexible, reusable code</li>
                    </ul>
                </div>

                <h3>üí≠ Reflection Questions</h3>
                <div class="card">
                    <p>Take a moment to reflect on your learning:</p>
                    <ul>
                        <li>Which TypeScript feature surprised you the most?</li>
                        <li>What was the most challenging part of this project?</li>
                        <li>How do type guards improve code safety?</li>
                        <li>When would you use generics vs. union types?</li>
                        <li>How did utility types save you time?</li>
                    </ul>
                </div>

                <h3>üìö Review Checklist</h3>
                <div class="card">
                    <p>Make sure you understand these key concepts:</p>
                    <ul>
                        <li>‚òëÔ∏è The difference between type aliases and interfaces</li>
                        <li>‚òëÔ∏è How union types represent "OR" logic</li>
                        <li>‚òëÔ∏è How intersection types represent "AND" logic</li>
                        <li>‚òëÔ∏è When and how to use type guards</li>
                        <li>‚òëÔ∏è How generics enable reusable, type-safe code</li>
                        <li>‚òëÔ∏è Common utility types (Partial, Pick, Omit, Record)</li>
                        <li>‚òëÔ∏è How to use conditional types</li>
                        <li>‚òëÔ∏è Template literal types for string patterns</li>
                    </ul>
                </div>

                <h3>üöÄ What's Next?</h3>
                <p>With TypeScript fundamentals mastered, you're ready to dive into React! In <strong>Module 2: React Basics</strong>, you'll learn:</p>
                
                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>Coming in Module 2:</h4>
                    <ul>
                        <li>üé® <strong>Introduction to React</strong> - Components, JSX, and the virtual DOM</li>
                        <li>üì¶ <strong>JSX and TSX</strong> - Typed templates with full TypeScript support</li>
                        <li>üß© <strong>Components and Props</strong> - Building reusable, type-safe components</li>
                        <li>üíÖ <strong>Styling in React</strong> - CSS modules, styled-components, and Tailwind</li>
                        <li>‚ö° <strong>Events in React</strong> - Typed event handlers and synthetic events</li>
                        <li>üéØ <strong>Module Project</strong> - Build a portfolio website with React + TypeScript!</li>
                    </ul>
                </div>

                <div class="card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; text-align: center; padding: 2rem;">
                    <h3 style="color: white;">üéä Module 1 Complete!</h3>
                    <p style="color: white; font-size: 1.2rem;">You've mastered TypeScript fundamentals and built a real application. You're now ready to bring these skills into React development!</p>
                    <p style="color: white; font-size: 1.2rem; margin: 0;">Take a break, celebrate your achievement, and get ready for React! üöÄ</p>
                </div>

                <div class="mermaid">
                    graph LR
                    A[Module 1<br/>TypeScript Fundamentals] --> B[Module 2<br/>React Basics]
                    B --> C[Module 3<br/>State & Interactivity]
                    C --> D[Module 4<br/>Data Fetching]
                    D --> E[Full-Stack<br/>React Apps]
                    
                    style A fill:#4CAF50,stroke:#333,stroke-width:3px,color:#fff
                    style B fill:#2196F3,stroke:#333,stroke-width:2px,color:#fff
                    style C fill:#f0f0f0,stroke:#333,stroke-width:1px
                    style D fill:#f0f0f0,stroke:#333,stroke-width:1px
                    style E fill:#f0f0f0,stroke:#333,stroke-width:1px
                </div>
            </section>

            <!-- Lesson Navigation -->
            <nav class="lesson-nav" aria-label="Lesson Navigation">
                <a href="lesson_1_5_advanced_types.html" class="prev-lesson">‚Üê Previous: Advanced Types</a>
                <a href="index.html" class="home-link">üè† Course Home</a>
                <a href="index.html#module2" class="next-lesson">Next: Module 2 - React Basics ‚Üí</a>
            </nav>
        </div>
    </main>

    <!-- Footer -->
    <footer style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; text-align: center; margin-top: 4rem;">
        <p>&copy; 2024 PracticalAce - React TypeScript Course. All rights reserved.</p>
        <p style="margin-top: 0.5rem; opacity: 0.9;">Empowering developers to build better applications with TypeScript and React.</p>
        <p style="margin-top: 1rem; font-size: 0.9rem;">
            <a href="index.html" style="color: white; text-decoration: underline;">Course Home</a> | 
            <a href="index.html#modules" style="color: white; text-decoration: underline;">All Modules</a> | 
            <a href="#main-content" style="color: white; text-decoration: underline;">Back to Top ‚Üë</a>
        </p>
    </footer>

    <!-- JavaScript -->
    <script src="js/clipboard.js"></script>
    <script src="js/course-enhancements.js"></script>
</body>
</html>
