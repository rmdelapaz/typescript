<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Master conditional rendering in React - Learn if/else, ternary operators, logical && operators, switch statements, early returns, and advanced rendering patterns with TypeScript.">
    <meta name="author" content="PracticalAce">
    <title>Conditional Rendering Patterns - React TypeScript Course</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/png" href="/favicon.png">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#f0f0f0',
                primaryTextColor: '#333',
                primaryBorderColor: '#667eea'
            }
        });
    </script>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-to-main">Skip to main content</a>
    
    <!-- Progress indicator -->
    <div class="progress-indicator" role="progressbar" aria-label="Page scroll progress">
        <div class="progress-bar"></div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-logo">React TypeScript Course</a>
            <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-expanded="false" aria-controls="nav-links">
                ‚ò∞
            </button>
            <div class="nav-links" id="nav-links" aria-hidden="false">
                <a href="index.html">Home</a>
                <a href="index.html#modules">All Modules</a>
                <button id="theme-toggle" aria-label="Toggle theme">üåô</button>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#module3">Module 3: State and Interactivity</a></li>
            <li aria-current="page">Lesson 3.5: Conditional Rendering Patterns</li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <div class="container">
            <!-- Lesson Header -->
            <header>
                <h1>üîÄ Conditional Rendering Patterns</h1>
                <p class="lead">Not all components should render the same way all the time. Sometimes you show a login form, sometimes a user profile. Sometimes you display data, sometimes a loading spinner. Sometimes you show everything, sometimes just an error message. Conditional rendering is how you make your UI adapt to different states, data, and user actions. React gives you multiple ways to conditionally render content, and choosing the right pattern makes your code cleaner and easier to understand. Let's master all the patterns! üöÄ</p>
                
                <!-- Learning objectives -->
                <div class="card">
                    <h2>üéØ Learning Objectives</h2>
                    <p>By the end of this lesson, you will be able to:</p>
                    <ul>
                        <li>Use if/else statements for conditional rendering</li>
                        <li>Apply ternary operators in JSX</li>
                        <li>Use logical && and || operators effectively</li>
                        <li>Implement switch statements for multiple conditions</li>
                        <li>Use early returns and guard clauses</li>
                        <li>Choose the right pattern for each scenario</li>
                        <li>Handle loading, error, and empty states</li>
                        <li>Avoid common conditional rendering pitfalls</li>
                        <li>Write clean, readable conditional JSX</li>
                    </ul>
                    <p><strong>Estimated Time:</strong> 70-85 minutes</p>
                    <p><strong>Project:</strong> Build a dashboard with multiple conditional sections</p>
                </div>
            </header>

            <!-- Sticky Table of Contents -->
            <details class="card" open style="position: sticky; top: 80px; z-index: 100; background: var(--card-bg, white); box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                <summary style="cursor: pointer; font-weight: bold; padding: 0.5rem 1rem; user-select: none;">
                    <h2 style="display: inline; margin: 0;">üìë In This Lesson</h2>
                </summary>
                <nav aria-label="Table of Contents" style="padding: 0 1rem 1rem 1rem;">
                    <ol>
                        <li><a href="#section1" class="toc-link">Conditional Rendering Basics</a></li>
                        <li><a href="#section2" class="toc-link">If/Else Statements</a></li>
                        <li><a href="#section3" class="toc-link">Ternary Operator</a></li>
                        <li><a href="#section4" class="toc-link">Logical && Operator</a></li>
                        <li><a href="#section5" class="toc-link">Logical || Operator</a></li>
                        <li><a href="#section6" class="toc-link">Switch Statements</a></li>
                        <li><a href="#section7" class="toc-link">Early Returns</a></li>
                        <li><a href="#section8" class="toc-link">Common Patterns</a></li>
                        <li><a href="#section9" class="toc-link">Hands-on Practice</a></li>
                        <li><a href="#section10" class="toc-link">Best Practices</a></li>
                        <li><a href="#section11" class="toc-link">Summary</a></li>
                    </ol>
                </nav>
            </details>

            <!-- Section 1: Conditional Rendering Basics -->
            <section id="section1" class="lesson-section">
                <h2>üéØ Conditional Rendering Basics</h2>
                <p>In React, conditional rendering works just like conditions in JavaScript - you decide what to render based on state, props, or other data.</p>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4 style="color: white;">üìñ Definition</h4>
                    <p style="color: white;"><strong>Conditional Rendering:</strong> Rendering different UI elements or components based on certain conditions, state, or props.</p>
                </div>

                <h3>Why Conditional Rendering?</h3>
                <div class="card">
                    <h4>Real-World Examples</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Scenario</th>
                                <th>Condition</th>
                                <th>What to Render</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>User Authentication</td>
                                <td>Is user logged in?</td>
                                <td>Dashboard vs Login Form</td>
                            </tr>
                            <tr>
                                <td>Data Loading</td>
                                <td>Is data loaded?</td>
                                <td>Content vs Spinner</td>
                            </tr>
                            <tr>
                                <td>Permissions</td>
                                <td>Is user admin?</td>
                                <td>Admin Panel vs Normal View</td>
                            </tr>
                            <tr>
                                <td>Form Validation</td>
                                <td>Is form valid?</td>
                                <td>Submit Button vs Error Message</td>
                            </tr>
                            <tr>
                                <td>Feature Toggle</td>
                                <td>Is feature enabled?</td>
                                <td>New Feature vs Old Feature</td>
                            </tr>
                            <tr>
                                <td>Empty State</td>
                                <td>Is list empty?</td>
                                <td>Empty Message vs List Items</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>The Basic Pattern</h3>
                <div class="card">
                    <h4>Simple Example</h4>
                    <pre><code class="language-typescript">const Greeting: React.FC = () => {
    const [isLoggedIn, setIsLoggedIn] = useState(false);
    
    // Condition determines what renders
    if (isLoggedIn) {
        return &lt;h1&gt;Welcome back!&lt;/h1&gt;;
    } else {
        return &lt;h1&gt;Please sign in&lt;/h1&gt;;
    }
};</code></pre>
                </div>

                <h3>Multiple Ways to Render Conditionally</h3>
                <div class="card">
                    <div class="mermaid">
graph TD
    A["üîÄ Conditional Rendering"] --> B["üìù if/else statements"]
    A --> C["‚ùì Ternary operator ?:"]
    A --> D["‚ûï Logical && operator"]
    A --> E["üîÑ Logical || operator"]
    A --> F["üîÄ Switch statements"]
    A --> G["‚Ü©Ô∏è Early returns"]
    A --> H["üì¶ Element variables"]
    
    B --> B1["Best for: Complex logic"]
    C --> C1["Best for: Inline either/or"]
    D --> D1["Best for: Show/hide"]
    E --> E1["Best for: Fallback values"]
    F --> F1["Best for: Multiple cases"]
    G --> G1["Best for: Guard clauses"]
    H --> H1["Best for: Pre-calculated JSX"]
    
    style A fill:#667eea,stroke:#5a67d8,color:#fff
    style B fill:#e3f2fd,stroke:#2196F3
    style C fill:#e3f2fd,stroke:#2196F3
    style D fill:#e3f2fd,stroke:#2196F3
    style E fill:#e3f2fd,stroke:#2196F3
    style F fill:#e3f2fd,stroke:#2196F3
    style G fill:#e3f2fd,stroke:#2196F3
    style H fill:#e3f2fd,stroke:#2196F3
    style B1 fill:#e8f5e9,stroke:#4CAF50
    style C1 fill:#e8f5e9,stroke:#4CAF50
    style D1 fill:#e8f5e9,stroke:#4CAF50
    style E1 fill:#e8f5e9,stroke:#4CAF50
    style F1 fill:#e8f5e9,stroke:#4CAF50
    style G1 fill:#e8f5e9,stroke:#4CAF50
    style H1 fill:#e8f5e9,stroke:#4CAF50
                    </div>
                </div>

                <!-- Interactive SVG: Decision Tree for Choosing a Pattern -->
                <h3>üéØ Interactive: Which Pattern Should You Use?</h3>
                <div class="card">
                    <p>Click through this decision tree to find the best conditional rendering pattern for your use case:</p>
                    <svg id="pattern-decision-tree" viewBox="0 0 700 450" style="width: 100%; max-width: 700px; height: auto; font-family: system-ui, sans-serif;">
                        <!-- Background -->
                        <defs>
                            <linearGradient id="nodeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#667eea"/>
                                <stop offset="100%" style="stop-color:#764ba2"/>
                            </linearGradient>
                            <linearGradient id="resultGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#4CAF50"/>
                                <stop offset="100%" style="stop-color:#2E7D32"/>
                            </linearGradient>
                            <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                                <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
                            </filter>
                        </defs>
                        
                        <!-- Start Node -->
                        <g id="node-start" class="decision-node" style="cursor: pointer;">
                            <rect x="250" y="10" width="200" height="50" rx="25" fill="url(#nodeGradient)" filter="url(#shadow)"/>
                            <text x="350" y="42" text-anchor="middle" fill="white" font-weight="bold" font-size="14">What do you need?</text>
                        </g>
                        
                        <!-- Level 1 Options -->
                        <g id="node-binary" class="decision-node" style="cursor: pointer; opacity: 0.4;">
                            <rect x="50" y="100" width="140" height="45" rx="8" fill="#e3f2fd" stroke="#2196F3" stroke-width="2"/>
                            <text x="120" y="128" text-anchor="middle" fill="#1565C0" font-size="12">Either/Or Choice</text>
                        </g>
                        
                        <g id="node-single" class="decision-node" style="cursor: pointer; opacity: 0.4;">
                            <rect x="220" y="100" width="140" height="45" rx="8" fill="#e3f2fd" stroke="#2196F3" stroke-width="2"/>
                            <text x="290" y="128" text-anchor="middle" fill="#1565C0" font-size="12">Show/Hide One Thing</text>
                        </g>
                        
                        <g id="node-many" class="decision-node" style="cursor: pointer; opacity: 0.4;">
                            <rect x="390" y="100" width="140" height="45" rx="8" fill="#e3f2fd" stroke="#2196F3" stroke-width="2"/>
                            <text x="460" y="128" text-anchor="middle" fill="#1565C0" font-size="12">Multiple Cases</text>
                        </g>
                        
                        <g id="node-fallback" class="decision-node" style="cursor: pointer; opacity: 0.4;">
                            <rect x="560" y="100" width="130" height="45" rx="8" fill="#e3f2fd" stroke="#2196F3" stroke-width="2"/>
                            <text x="625" y="128" text-anchor="middle" fill="#1565C0" font-size="12">Default Value</text>
                        </g>
                        
                        <!-- Level 2 Questions -->
                        <g id="node-inline-q" class="decision-node" style="cursor: pointer; opacity: 0.4;">
                            <rect x="20" y="190" width="100" height="40" rx="6" fill="#fff3e0" stroke="#FF9800" stroke-width="2"/>
                            <text x="70" y="215" text-anchor="middle" fill="#E65100" font-size="11">Inline JSX?</text>
                        </g>
                        
                        <g id="node-complex-q" class="decision-node" style="cursor: pointer; opacity: 0.4;">
                            <rect x="140" y="190" width="100" height="40" rx="6" fill="#fff3e0" stroke="#FF9800" stroke-width="2"/>
                            <text x="190" y="215" text-anchor="middle" fill="#E65100" font-size="11">Complex logic?</text>
                        </g>
                        
                        <!-- Result Nodes -->
                        <g id="result-ternary" class="result-node" style="cursor: pointer; opacity: 0.4;">
                            <rect x="10" y="270" width="120" height="50" rx="8" fill="url(#resultGradient)" filter="url(#shadow)"/>
                            <text x="70" y="292" text-anchor="middle" fill="white" font-weight="bold" font-size="12">‚úÖ Ternary</text>
                            <text x="70" y="308" text-anchor="middle" fill="white" font-size="10">condition ? a : b</text>
                        </g>
                        
                        <g id="result-ifelse" class="result-node" style="cursor: pointer; opacity: 0.4;">
                            <rect x="140" y="270" width="120" height="50" rx="8" fill="url(#resultGradient)" filter="url(#shadow)"/>
                            <text x="200" y="292" text-anchor="middle" fill="white" font-weight="bold" font-size="12">‚úÖ If/Else</text>
                            <text x="200" y="308" text-anchor="middle" fill="white" font-size="10">Early returns</text>
                        </g>
                        
                        <g id="result-and" class="result-node" style="cursor: pointer; opacity: 0.4;">
                            <rect x="270" y="270" width="120" height="50" rx="8" fill="url(#resultGradient)" filter="url(#shadow)"/>
                            <text x="330" y="292" text-anchor="middle" fill="white" font-weight="bold" font-size="12">‚úÖ && Operator</text>
                            <text x="330" y="308" text-anchor="middle" fill="white" font-size="10">condition && jsx</text>
                        </g>
                        
                        <g id="result-switch" class="result-node" style="cursor: pointer; opacity: 0.4;">
                            <rect x="400" y="270" width="120" height="50" rx="8" fill="url(#resultGradient)" filter="url(#shadow)"/>
                            <text x="460" y="292" text-anchor="middle" fill="white" font-weight="bold" font-size="12">‚úÖ Switch/Map</text>
                            <text x="460" y="308" text-anchor="middle" fill="white" font-size="10">config[type]</text>
                        </g>
                        
                        <g id="result-or" class="result-node" style="cursor: pointer; opacity: 0.4;">
                            <rect x="560" y="270" width="120" height="50" rx="8" fill="url(#resultGradient)" filter="url(#shadow)"/>
                            <text x="620" y="292" text-anchor="middle" fill="white" font-weight="bold" font-size="12">‚úÖ || or ??</text>
                            <text x="620" y="308" text-anchor="middle" fill="white" font-size="10">value ?? default</text>
                        </g>
                        
                        <!-- Connecting Lines (hidden initially) -->
                        <g id="connections" style="opacity: 0.3;">
                            <line x1="350" y1="60" x2="120" y2="100" stroke="#667eea" stroke-width="2"/>
                            <line x1="350" y1="60" x2="290" y2="100" stroke="#667eea" stroke-width="2"/>
                            <line x1="350" y1="60" x2="460" y2="100" stroke="#667eea" stroke-width="2"/>
                            <line x1="350" y1="60" x2="625" y2="100" stroke="#667eea" stroke-width="2"/>
                            
                            <line x1="120" y1="145" x2="70" y2="190" stroke="#2196F3" stroke-width="2"/>
                            <line x1="120" y1="145" x2="190" y2="190" stroke="#2196F3" stroke-width="2"/>
                            
                            <line x1="70" y1="230" x2="70" y2="270" stroke="#4CAF50" stroke-width="2"/>
                            <line x1="190" y1="230" x2="200" y2="270" stroke="#4CAF50" stroke-width="2"/>
                            <line x1="290" y1="145" x2="330" y2="270" stroke="#4CAF50" stroke-width="2"/>
                            <line x1="460" y1="145" x2="460" y2="270" stroke="#4CAF50" stroke-width="2"/>
                            <line x1="625" y1="145" x2="620" y2="270" stroke="#4CAF50" stroke-width="2"/>
                        </g>
                        
                        <!-- Info Panel -->
                        <g id="info-panel">
                            <rect x="50" y="350" width="600" height="90" rx="10" fill="#f5f5f5" stroke="#ddd" stroke-width="1"/>
                            <text id="info-title" x="350" y="380" text-anchor="middle" font-weight="bold" font-size="14" fill="#333">Click a node above to explore!</text>
                            <text id="info-desc" x="350" y="405" text-anchor="middle" font-size="12" fill="#666">Start by clicking "What do you need?"</text>
                            <text id="info-example" x="350" y="425" text-anchor="middle" font-family="monospace" font-size="11" fill="#667eea"></text>
                        </g>
                    </svg>
                </div>
                <script>
                (function() {
                    const svg = document.getElementById('pattern-decision-tree');
                    const infoTitle = document.getElementById('info-title');
                    const infoDesc = document.getElementById('info-desc');
                    const infoExample = document.getElementById('info-example');
                    
                    const nodeInfo = {
                        'node-start': {
                            title: 'Choose Your Pattern',
                            desc: 'Click one of the options below based on what your component needs to do.',
                            example: '',
                            reveals: ['node-binary', 'node-single', 'node-many', 'node-fallback']
                        },
                        'node-binary': {
                            title: 'Either/Or Choice',
                            desc: 'You need to show one thing OR another (never both, never neither)',
                            example: 'isLoggedIn ? <Dashboard /> : <LoginForm />',
                            reveals: ['node-inline-q', 'node-complex-q']
                        },
                        'node-single': {
                            title: 'Show or Hide One Thing',
                            desc: 'Conditionally show a single element (or nothing)',
                            example: '{hasError && <ErrorMessage />}',
                            reveals: ['result-and']
                        },
                        'node-many': {
                            title: 'Multiple Different Cases',
                            desc: 'Different outputs based on a value (status, role, type)',
                            example: 'switch(status) { case "loading": return <Spinner />; ... }',
                            reveals: ['result-switch']
                        },
                        'node-fallback': {
                            title: 'Default/Fallback Value',
                            desc: 'Use a default when the value is null, undefined, or empty',
                            example: '{user?.name ?? "Guest"}',
                            reveals: ['result-or']
                        },
                        'node-inline-q': {
                            title: 'Need it inline in JSX?',
                            desc: 'Yes ‚Üí Use ternary operator',
                            example: '<h1>{isPremium ? "Premium" : "Basic"}</h1>',
                            reveals: ['result-ternary']
                        },
                        'node-complex-q': {
                            title: 'Complex logic or early exit?',
                            desc: 'Yes ‚Üí Use if/else with early returns',
                            example: 'if (isLoading) return <Spinner />;',
                            reveals: ['result-ifelse']
                        },
                        'result-ternary': {
                            title: '‚úÖ Use Ternary Operator',
                            desc: 'Perfect for inline either/or choices in JSX. Keep it simple!',
                            example: '{condition ? <ComponentA /> : <ComponentB />}',
                            reveals: []
                        },
                        'result-ifelse': {
                            title: '‚úÖ Use If/Else (Early Returns)',
                            desc: 'Best for complex conditions, guard clauses, and clean code flow.',
                            example: 'if (!user) return <LoginPrompt />;',
                            reveals: []
                        },
                        'result-and': {
                            title: '‚úÖ Use && Operator',
                            desc: 'Show something only when a condition is true. Watch out for 0!',
                            example: '{items.length > 0 && <ItemList items={items} />}',
                            reveals: []
                        },
                        'result-switch': {
                            title: '‚úÖ Use Switch or Object Map',
                            desc: 'Great for status-based or type-based rendering with multiple cases.',
                            example: 'const Icon = iconMap[type]; return <Icon />;',
                            reveals: []
                        },
                        'result-or': {
                            title: '‚úÖ Use || or ?? Operator',
                            desc: 'Provide fallback values. Use ?? when 0 or "" are valid.',
                            example: '{username ?? "Anonymous"}',
                            reveals: []
                        }
                    };
                    
                    function showNode(nodeId) {
                        const node = document.getElementById(nodeId);
                        if (node) {
                            node.style.opacity = '1';
                            node.style.transition = 'opacity 0.3s ease';
                        }
                    }
                    
                    function highlightNode(nodeId) {
                        // Reset all nodes
                        document.querySelectorAll('.decision-node, .result-node').forEach(n => {
                            n.querySelector('rect').style.transform = '';
                        });
                        // Highlight current
                        const node = document.getElementById(nodeId);
                        if (node) {
                            const rect = node.querySelector('rect');
                            if (rect) {
                                rect.style.transform = 'scale(1.05)';
                                rect.style.transformOrigin = 'center';
                                rect.style.transition = 'transform 0.2s ease';
                            }
                        }
                    }
                    
                    svg.addEventListener('click', (e) => {
                        const node = e.target.closest('.decision-node, .result-node');
                        if (!node) return;
                        
                        const nodeId = node.id;
                        const info = nodeInfo[nodeId];
                        if (!info) return;
                        
                        // Update info panel
                        infoTitle.textContent = info.title;
                        infoDesc.textContent = info.desc;
                        infoExample.textContent = info.example;
                        
                        // Reveal connected nodes
                        info.reveals.forEach(showNode);
                        
                        // Highlight current node
                        highlightNode(nodeId);
                        
                        // Show connections
                        document.getElementById('connections').style.opacity = '1';
                    });
                    
                    // Initialize: show start node
                    showNode('node-start');
                })();
                </script>

                <p>Each pattern has its own use case. Let's explore them all!</p>
            </section>

            <!-- Section 2: If/Else Statements -->
            <section id="section2" class="lesson-section">
                <h2>üîÄ If/Else Statements</h2>
                <p>The most straightforward way to conditionally render is using if/else statements.</p>

                <h3>Basic If/Else</h3>
                <div class="card">
                    <h4>Component-Level Conditionals</h4>
                    <pre><code class="language-typescript">interface GreetingProps {
    isLoggedIn: boolean;
}

const Greeting: React.FC&lt;GreetingProps&gt; = ({ isLoggedIn }) => {
    if (isLoggedIn) {
        return &lt;h1&gt;Welcome back!&lt;/h1&gt;;
    }
    
    return &lt;h1&gt;Please log in&lt;/h1&gt;;
};

// Or with explicit else:
const Greeting: React.FC&lt;GreetingProps&gt; = ({ isLoggedIn }) => {
    if (isLoggedIn) {
        return &lt;h1&gt;Welcome back!&lt;/h1&gt;;
    } else {
        return &lt;h1&gt;Please log in&lt;/h1&gt;;
    }
};</code></pre>
                </div>

                <h3>Element Variables</h3>
                <div class="card">
                    <h4>Store JSX in Variables</h4>
                    <pre><code class="language-typescript">const LoginControl: React.FC = () => {
    const [isLoggedIn, setIsLoggedIn] = useState(false);
    
    let button;
    
    if (isLoggedIn) {
        button = &lt;button onClick={() => setIsLoggedIn(false)}&gt;Logout&lt;/button&gt;;
    } else {
        button = &lt;button onClick={() => setIsLoggedIn(true)}&gt;Login&lt;/button&gt;;
    }
    
    return (
        &lt;div&gt;
            &lt;h1&gt;{isLoggedIn ? 'Welcome!' : 'Please sign in'}&lt;/h1&gt;
            {button}
        &lt;/div&gt;
    );
};</code></pre>
                </div>

                <h3>If/Else If/Else Chain</h3>
                <div class="card">
                    <h4>Multiple Conditions</h4>
                    <pre><code class="language-typescript">type Status = 'idle' | 'loading' | 'success' | 'error';

interface DataDisplayProps {
    status: Status;
    data?: any;
    error?: string;
}

const DataDisplay: React.FC&lt;DataDisplayProps&gt; = ({ status, data, error }) => {
    if (status === 'loading') {
        return &lt;div&gt;Loading...&lt;/div&gt;;
    } else if (status === 'error') {
        return &lt;div&gt;Error: {error}&lt;/div&gt;;
    } else if (status === 'success') {
        return &lt;div&gt;Data: {JSON.stringify(data)}&lt;/div&gt;;
    } else {
        return &lt;div&gt;No data yet&lt;/div&gt;;
    }
};</code></pre>
                </div>

                <h3>When to Use If/Else</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Use Case</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Complex conditions</td>
                            <td>Multiple checks needed</td>
                        </tr>
                        <tr>
                            <td>Early returns</td>
                            <td>Return different components entirely</td>
                        </tr>
                        <tr>
                            <td>Element variables</td>
                            <td>Calculate JSX before return</td>
                        </tr>
                        <tr>
                            <td>Readable logic</td>
                            <td>When inline operators would be messy</td>
                        </tr>
                    </tbody>
                </table>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Pro Tip</h4>
                    <p>If/else is great when:</p>
                    <ul>
                        <li>You're returning completely different components</li>
                        <li>The condition logic is complex</li>
                        <li>You need to do calculations before rendering</li>
                    </ul>
                </div>
            </section>

            <!-- Section 3: Ternary Operator -->
            <section id="section3" class="lesson-section">
                <h2>‚ùì Ternary Operator</h2>
                <p>The ternary operator (<code>condition ? true : false</code>) is perfect for inline conditional rendering in JSX.</p>

                <h3>Basic Ternary</h3>
                <div class="card">
                    <h4>Inline Conditionals</h4>
                    <pre><code class="language-typescript">const Message: React.FC&lt;{ isOnline: boolean }&gt; = ({ isOnline }) => {
    return (
        &lt;div&gt;
            {isOnline ? (
                &lt;span style={{ color: 'green' }}&gt;‚óè Online&lt;/span&gt;
            ) : (
                &lt;span style={{ color: 'gray' }}&gt;‚óã Offline&lt;/span&gt;
            )}
        &lt;/div&gt;
    );
};

// Or simpler:
const Status: React.FC&lt;{ isActive: boolean }&gt; = ({ isActive }) => (
    &lt;span&gt;{isActive ? 'Active' : 'Inactive'}&lt;/span&gt;
);</code></pre>
                </div>

                <h3>Ternary with Components</h3>
                <div class="card">
                    <h4>Rendering Different Components</h4>
                    <pre><code class="language-typescript">const Dashboard: React.FC = () => {
    const [isLoggedIn, setIsLoggedIn] = useState(false);
    
    return (
        &lt;div&gt;
            {isLoggedIn ? (
                &lt;UserDashboard /&gt;
            ) : (
                &lt;LoginForm /&gt;
            )}
        &lt;/div&gt;
    );
};

// With props:
const Greeting: React.FC&lt;{ user: User | null }&gt; = ({ user }) => (
    &lt;div&gt;
        {user ? (
            &lt;h1&gt;Hello, {user.name}!&lt;/h1&gt;
        ) : (
            &lt;h1&gt;Hello, Guest!&lt;/h1&gt;
        )}
    &lt;/div&gt;
);</code></pre>
                </div>

                <h3>Nested Ternaries</h3>
                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Be Careful with Nested Ternaries</h4>
                    <pre><code class="language-typescript">// ‚ùå Hard to read
const Status = ({ status }) => (
    &lt;div&gt;
        {status === 'loading' ? (
            &lt;Spinner /&gt;
        ) : status === 'error' ? (
            &lt;Error /&gt;
        ) : status === 'empty' ? (
            &lt;Empty /&gt;
        ) : (
            &lt;Content /&gt;
        )}
    &lt;/div&gt;
);

// ‚úÖ Better: Use if/else or switch
const Status = ({ status }) => {
    if (status === 'loading') return &lt;Spinner /&gt;;
    if (status === 'error') return &lt;Error /&gt;;
    if (status === 'empty') return &lt;Empty /&gt;;
    return &lt;Content /&gt;;
};</code></pre>
                </div>

                <h3>Ternary for Class Names and Styles</h3>
                <div class="card">
                    <h4>Conditional Styling</h4>
                    <pre><code class="language-typescript">const Button: React.FC&lt;{ isPrimary: boolean }&gt; = ({ isPrimary }) => (
    &lt;button
        className={isPrimary ? 'btn-primary' : 'btn-secondary'}
        style={{
            backgroundColor: isPrimary ? '#667eea' : '#f5f5f5',
            color: isPrimary ? 'white' : '#333'
        }}
    &gt;
        Click me
    &lt;/button&gt;
);

// Multiple conditional classes
const Card: React.FC&lt;{ isActive: boolean; isHovered: boolean }&gt; = ({ 
    isActive, 
    isHovered 
}) => (
    &lt;div
        className={`card ${isActive ? 'active' : ''} ${isHovered ? 'hovered' : ''}`}
    &gt;
        Content
    &lt;/div&gt;
);</code></pre>
                </div>

                <h3>When to Use Ternary</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Use When</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Inline in JSX</td>
                            <td>Choosing between two components</td>
                        </tr>
                        <tr>
                            <td>Simple conditions</td>
                            <td>Boolean check with two outcomes</td>
                        </tr>
                        <tr>
                            <td>Conditional props</td>
                            <td>Different values based on condition</td>
                        </tr>
                        <tr>
                            <td>Short expressions</td>
                            <td>Both outcomes are brief</td>
                        </tr>
                    </tbody>
                </table>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Ternary Best Practices</h4>
                    <ul>
                        <li>‚úÖ Keep it simple - one level deep</li>
                        <li>‚úÖ Use parentheses for clarity</li>
                        <li>‚úÖ Format for readability</li>
                        <li>‚ùå Avoid nesting ternaries</li>
                        <li>‚ùå Don't use for complex logic</li>
                    </ul>
                </div>

                <!-- Interactive Ternary Visualizer -->
                <h3>üéÆ Interactive: Ternary Operator Visualizer</h3>
                <div class="card">
                    <p>Toggle the condition to see how the ternary operator evaluates:</p>
                    <div id="ternary-demo" style="padding: 1rem; text-align: center;">
                        <div style="margin-bottom: 1rem;">
                            <label style="font-size: 1.1rem; cursor: pointer; display: inline-flex; align-items: center; gap: 0.5rem;">
                                <span id="ternary-label">isLoggedIn = </span>
                                <button id="ternary-toggle" style="padding: 0.5rem 1.5rem; font-size: 1rem; font-weight: bold; cursor: pointer; border: 2px solid #667eea; border-radius: 20px; background: #667eea; color: white; transition: all 0.3s ease;">true</button>
                            </label>
                        </div>
                        <svg id="ternary-svg" viewBox="0 0 500 200" style="width: 100%; max-width: 500px; height: auto;">
                            <!-- Code display -->
                            <rect x="50" y="20" width="400" height="40" rx="8" fill="#263238"/>
                            <text id="ternary-code" x="250" y="47" text-anchor="middle" font-family="monospace" font-size="14" fill="#aed581">isLoggedIn ? ‚å©Dashboard/‚å™ : ‚å©Login/‚å™</text>
                            
                            <!-- Arrow down -->
                            <line x1="250" y1="65" x2="250" y2="90" stroke="#667eea" stroke-width="2"/>
                            <polygon points="250,100 245,90 255,90" fill="#667eea"/>
                            
                            <!-- Evaluation box -->
                            <rect id="ternary-eval-box" x="150" y="110" width="200" height="35" rx="6" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
                            <text id="ternary-eval" x="250" y="133" text-anchor="middle" font-size="13" fill="#2e7d32">true ‚Üí Returns first option</text>
                            
                            <!-- Result -->
                            <rect id="ternary-result-box" x="175" y="160" width="150" height="35" rx="6" fill="#4caf50" stroke="#2e7d32" stroke-width="2"/>
                            <text id="ternary-result" x="250" y="183" text-anchor="middle" font-size="14" fill="white" font-weight="bold">‚å©Dashboard /‚å™</text>
                        </svg>
                        <div id="ternary-preview" style="margin-top: 1rem; padding: 1rem; border-radius: 8px; background: #f5f5f5;">
                            <strong>Rendered Output:</strong>
                            <div id="ternary-output" style="margin-top: 0.5rem; padding: 1rem; background: white; border-radius: 4px; border: 1px solid #ddd;"></div>
                        </div>
                    </div>
                </div>
                <script>
                (function() {
                    let isTrue = true;
                    const toggle = document.getElementById('ternary-toggle');
                    const evalBox = document.getElementById('ternary-eval-box');
                    const evalText = document.getElementById('ternary-eval');
                    const resultBox = document.getElementById('ternary-result-box');
                    const resultText = document.getElementById('ternary-result');
                    const output = document.getElementById('ternary-output');
                    
                    function updateTernary() {
                        if (isTrue) {
                            toggle.textContent = 'true';
                            toggle.style.background = '#4caf50';
                            toggle.style.borderColor = '#4caf50';
                            evalBox.setAttribute('fill', '#e8f5e9');
                            evalBox.setAttribute('stroke', '#4caf50');
                            evalText.textContent = 'true ‚Üí Returns first option';
                            evalText.setAttribute('fill', '#2e7d32');
                            resultBox.setAttribute('fill', '#4caf50');
                            resultBox.setAttribute('stroke', '#2e7d32');
                            resultText.textContent = '‚å©Dashboard /‚å™';
                            output.innerHTML = '<div style="padding: 0.5rem; background: #e8f5e9; border-radius: 4px;">üìä <strong>Dashboard</strong> - Welcome back!</div>';
                        } else {
                            toggle.textContent = 'false';
                            toggle.style.background = '#f44336';
                            toggle.style.borderColor = '#f44336';
                            evalBox.setAttribute('fill', '#ffebee');
                            evalBox.setAttribute('stroke', '#f44336');
                            evalText.textContent = 'false ‚Üí Returns second option';
                            evalText.setAttribute('fill', '#c62828');
                            resultBox.setAttribute('fill', '#2196F3');
                            resultBox.setAttribute('stroke', '#1565C0');
                            resultText.textContent = '‚å©Login /‚å™';
                            output.innerHTML = '<div style="padding: 0.5rem; background: #e3f2fd; border-radius: 4px;">üîê <strong>Login</strong> - Please sign in to continue</div>';
                        }
                    }
                    
                    toggle.addEventListener('click', () => {
                        isTrue = !isTrue;
                        updateTernary();
                    });
                    
                    updateTernary();
                })();
                </script>
            </section>

            <!-- Section 4: Logical && Operator -->
            <section id="section4" class="lesson-section">
                <h2>‚ûï Logical && Operator</h2>
                <p>Use && when you want to render something only if a condition is true (no else case needed).</p>

                <h3>Basic && Usage</h3>
                <div class="card">
                    <h4>Render or Nothing</h4>
                    <pre><code class="language-typescript">const Notification: React.FC = () => {
    const [hasNewMessages, setHasNewMessages] = useState(true);
    const [messageCount, setMessageCount] = useState(5);
    
    return (
        &lt;div&gt;
            &lt;h1&gt;Inbox&lt;/h1&gt;
            
            {/* Only show if condition is true */}
            {hasNewMessages && (
                &lt;div className="alert"&gt;
                    You have new messages!
                &lt;/div&gt;
            )}
            
            {/* Show message count if greater than 0 */}
            {messageCount > 0 && (
                &lt;p&gt;{messageCount} unread messages&lt;/p&gt;
            )}
        &lt;/div&gt;
    );
};</code></pre>
                </div>

                <h3>How && Works in JSX</h3>
                <div class="card">
                    <h4>Understanding the Logic</h4>
                    <pre><code class="language-typescript">// In JavaScript:
true && 'Hello'    // Returns 'Hello'
false && 'Hello'   // Returns false

// In JSX:
{true && &lt;div&gt;Hello&lt;/div&gt;}    // Renders &lt;div&gt;Hello&lt;/div&gt;
{false && &lt;div&gt;Hello&lt;/div&gt;}   // Renders nothing

// React ignores false, null, undefined, and true
// So false && &lt;div&gt; renders nothing!</code></pre>
                </div>

                <h3>Common && Patterns</h3>
                <div class="card">
                    <h4>Practical Examples</h4>
                    <pre><code class="language-typescript">const UserProfile: React.FC&lt;{ user: User | null }&gt; = ({ user }) => (
    &lt;div&gt;
        {/* Show only if user exists */}
        {user && (
            &lt;div&gt;
                &lt;h2&gt;{user.name}&lt;/h2&gt;
                &lt;p&gt;{user.email}&lt;/p&gt;
            &lt;/div&gt;
        )}
        
        {/* Show only if user is admin */}
        {user && user.role === 'admin' && (
            &lt;button&gt;Admin Panel&lt;/button&gt;
        )}
        
        {/* Show only if user has premium */}
        {user?.isPremium && (
            &lt;div className="premium-badge"&gt;‚≠ê Premium&lt;/div&gt;
        )}
    &lt;/div&gt;
);

const TodoList: React.FC&lt;{ todos: Todo[] }&gt; = ({ todos }) => (
    &lt;div&gt;
        {/* Show only if there are todos */}
        {todos.length > 0 && (
            &lt;ul&gt;
                {todos.map(todo => (
                    &lt;li key={todo.id}&gt;{todo.text}&lt;/li&gt;
                ))}
            &lt;/ul&gt;
        )}
        
        {/* Show only if list is empty */}
        {todos.length === 0 && (
            &lt;p&gt;No todos yet!&lt;/p&gt;
        )}
    &lt;/div&gt;
);</code></pre>
                </div>

                <h3>‚ö†Ô∏è Common Pitfall: Falsy Values</h3>
                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>Watch Out for 0 and ''</h4>
                    <pre><code class="language-typescript">const Counter: React.FC = () => {
    const [count, setCount] = useState(0);
    
    // ‚ùå Problem: When count is 0, it renders "0" on screen!
    return (
        &lt;div&gt;
            {count && &lt;p&gt;Count: {count}&lt;/p&gt;}
        &lt;/div&gt;
    );
    // When count = 0, React renders the 0!
    
    // ‚úÖ Solution: Explicit comparison
    return (
        &lt;div&gt;
            {count > 0 && &lt;p&gt;Count: {count}&lt;/p&gt;}
        &lt;/div&gt;
    );
};

// Another example:
const Items: React.FC&lt;{ items: string[] }&gt; = ({ items }) => (
    &lt;div&gt;
        {/* ‚ùå Shows "0" when empty */}
        {items.length && &lt;p&gt;{items.length} items&lt;/p&gt;}
        
        {/* ‚úÖ Correct */}
        {items.length > 0 && &lt;p&gt;{items.length} items&lt;/p&gt;}
    &lt;/div&gt;
);</code></pre>
                </div>

                <!-- Interactive Demo: && Operator with Falsy Values -->
                <h3>üéÆ Interactive Demo: The && Operator Gotcha</h3>
                <div class="card">
                    <p>Click the buttons below to see how the <code>&&</code> operator behaves with different values. Notice what happens when the count reaches 0!</p>
                    <div id="and-operator-demo" style="padding: 1rem; background: #f8f9fa; border-radius: 8px;">
                        <div style="display: flex; gap: 1rem; align-items: center; margin-bottom: 1rem; flex-wrap: wrap;">
                            <button id="and-demo-decrement" style="padding: 0.5rem 1rem; font-size: 1.2rem; cursor: pointer; border: 2px solid #667eea; border-radius: 4px; background: white;">‚ûñ</button>
                            <span id="and-demo-count" style="font-size: 1.5rem; font-weight: bold; min-width: 3rem; text-align: center;">3</span>
                            <button id="and-demo-increment" style="padding: 0.5rem 1rem; font-size: 1.2rem; cursor: pointer; border: 2px solid #667eea; border-radius: 4px; background: white;">‚ûï</button>
                            <button id="and-demo-reset" style="padding: 0.5rem 1rem; cursor: pointer; border: 1px solid #ccc; border-radius: 4px; background: #f5f5f5;">Reset</button>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                            <div style="padding: 1rem; background: #ffebee; border-radius: 8px; border: 2px solid #f44336;">
                                <h5 style="margin: 0 0 0.5rem 0; color: #c62828;">‚ùå Buggy: <code>count && ...</code></h5>
                                <div id="and-demo-buggy" style="font-family: monospace; padding: 0.5rem; background: white; border-radius: 4px; min-height: 2rem;"></div>
                                <p id="and-demo-buggy-explanation" style="font-size: 0.85rem; margin: 0.5rem 0 0 0; color: #c62828;"></p>
                            </div>
                            <div style="padding: 1rem; background: #e8f5e9; border-radius: 8px; border: 2px solid #4caf50;">
                                <h5 style="margin: 0 0 0.5rem 0; color: #2e7d32;">‚úÖ Fixed: <code>count > 0 && ...</code></h5>
                                <div id="and-demo-fixed" style="font-family: monospace; padding: 0.5rem; background: white; border-radius: 4px; min-height: 2rem;"></div>
                                <p id="and-demo-fixed-explanation" style="font-size: 0.85rem; margin: 0.5rem 0 0 0; color: #2e7d32;"></p>
                            </div>
                        </div>
                        <canvas id="and-operator-canvas" width="600" height="200" style="width: 100%; max-width: 600px; margin-top: 1rem; border: 1px solid #ddd; border-radius: 8px;"></canvas>
                    </div>
                </div>
                <script>
                (function() {
                    let count = 3;
                    const countDisplay = document.getElementById('and-demo-count');
                    const buggyOutput = document.getElementById('and-demo-buggy');
                    const fixedOutput = document.getElementById('and-demo-fixed');
                    const buggyExplanation = document.getElementById('and-demo-buggy-explanation');
                    const fixedExplanation = document.getElementById('and-demo-fixed-explanation');
                    const canvas = document.getElementById('and-operator-canvas');
                    const ctx = canvas.getContext('2d');
                    
                    function updateDemo() {
                        countDisplay.textContent = count;
                        
                        // Buggy version: count && <element>
                        const buggyResult = count && `<p>Count: ${count}</p>`;
                        if (count === 0) {
                            buggyOutput.innerHTML = '<span style="color: #f44336; font-weight: bold;">0</span> <span style="color: #999;">(renders the number!)</span>';
                            buggyExplanation.textContent = '‚ö†Ô∏è 0 is falsy, so && returns 0, which React renders!';
                        } else {
                            buggyOutput.innerHTML = `<span style="color: #333;">&lt;p&gt;Count: ${count}&lt;/p&gt;</span>`;
                            buggyExplanation.textContent = `‚úì ${count} is truthy, so && returns the JSX element.`;
                        }
                        
                        // Fixed version: count > 0 && <element>
                        const fixedResult = count > 0 && `<p>Count: ${count}</p>`;
                        if (count > 0) {
                            fixedOutput.innerHTML = `<span style="color: #333;">&lt;p&gt;Count: ${count}&lt;/p&gt;</span>`;
                            fixedExplanation.textContent = `‚úì ${count} > 0 is true, so && returns the JSX element.`;
                        } else {
                            fixedOutput.innerHTML = '<span style="color: #999;">(nothing rendered)</span>';
                            fixedExplanation.textContent = `‚úì ${count} > 0 is false, so && returns false (React ignores it).`;
                        }
                        
                        drawCanvas();
                    }
                    
                    function drawCanvas() {
                        const width = canvas.width;
                        const height = canvas.height;
                        ctx.clearRect(0, 0, width, height);
                        
                        // Draw evaluation flow
                        ctx.font = '14px system-ui, sans-serif';
                        ctx.textAlign = 'center';
                        
                        // Title
                        ctx.fillStyle = '#333';
                        ctx.font = 'bold 16px system-ui, sans-serif';
                        ctx.fillText('How && Evaluates', width / 2, 25);
                        
                        // Left side: buggy
                        ctx.font = '12px monospace';
                        ctx.fillStyle = '#c62828';
                        ctx.fillText(`count = ${count}`, 150, 55);
                        
                        // Draw flow boxes
                        ctx.strokeStyle = '#f44336';
                        ctx.lineWidth = 2;
                        ctx.strokeRect(80, 65, 140, 35);
                        ctx.fillStyle = '#333';
                        ctx.font = '11px monospace';
                        ctx.fillText(`Is ${count} truthy?`, 150, 87);
                        
                        // Arrow and result
                        ctx.beginPath();
                        ctx.moveTo(150, 100);
                        ctx.lineTo(150, 120);
                        ctx.stroke();
                        ctx.fillText(count === 0 ? 'NO (0 is falsy!)' : 'YES', 150, 135);
                        
                        ctx.beginPath();
                        ctx.moveTo(150, 145);
                        ctx.lineTo(150, 165);
                        ctx.stroke();
                        
                        ctx.fillStyle = count === 0 ? '#f44336' : '#4caf50';
                        ctx.font = 'bold 12px system-ui';
                        ctx.fillText(count === 0 ? `Returns: ${count} (BUG!)` : `Returns: <JSX>`, 150, 185);
                        
                        // Right side: fixed
                        ctx.font = '12px monospace';
                        ctx.fillStyle = '#2e7d32';
                        ctx.fillText(`count = ${count}`, 450, 55);
                        
                        ctx.strokeStyle = '#4caf50';
                        ctx.strokeRect(380, 65, 140, 35);
                        ctx.fillStyle = '#333';
                        ctx.font = '11px monospace';
                        ctx.fillText(`Is ${count} > 0 ?`, 450, 87);
                        
                        ctx.beginPath();
                        ctx.moveTo(450, 100);
                        ctx.lineTo(450, 120);
                        ctx.stroke();
                        ctx.fillText(count > 0 ? 'YES (true)' : 'NO (false)', 450, 135);
                        
                        ctx.beginPath();
                        ctx.moveTo(450, 145);
                        ctx.lineTo(450, 165);
                        ctx.stroke();
                        
                        ctx.fillStyle = '#4caf50';
                        ctx.font = 'bold 12px system-ui';
                        ctx.fillText(count > 0 ? 'Returns: <JSX>' : 'Returns: false (hidden)', 450, 185);
                    }
                    
                    document.getElementById('and-demo-increment').addEventListener('click', () => {
                        count++;
                        updateDemo();
                    });
                    
                    document.getElementById('and-demo-decrement').addEventListener('click', () => {
                        count--;
                        updateDemo();
                    });
                    
                    document.getElementById('and-demo-reset').addEventListener('click', () => {
                        count = 3;
                        updateDemo();
                    });
                    
                    updateDemo();
                })();
                </script>
            </section>

            <!-- Section 5: Logical || Operator -->
            <section id="section5" class="lesson-section">
                <h2>üîÑ Logical || Operator (OR)</h2>
                <p>The logical OR operator (<code>||</code>) is useful for providing fallback values or default content when something is null, undefined, or falsy.</p>

                <h3>Basic Pattern</h3>
                <div class="card">
                    <h4>Providing Fallbacks</h4>
                    <pre><code class="language-typescript">interface UserProps {
    user?: {
        name?: string;
        avatar?: string;
    };
}

const UserDisplay: React.FC&lt;UserProps&gt; = ({ user }) => (
    &lt;div className="user-card"&gt;
        {/* Show user name or fallback */}
        &lt;h2&gt;{user?.name || 'Anonymous User'}&lt;/h2&gt;
        
        {/* Show avatar or default */}
        &lt;img 
            src={user?.avatar || '/default-avatar.png'} 
            alt="User avatar"
        /&gt;
    &lt;/div&gt;
);

// Real-world example: Settings with defaults
interface SettingsProps {
    theme?: 'light' | 'dark';
    language?: string;
    fontSize?: number;
}

const Settings: React.FC&lt;SettingsProps&gt; = ({ 
    theme, 
    language, 
    fontSize 
}) => (
    &lt;div className={`theme-${theme || 'light'}`}&gt;
        &lt;p&gt;Language: {language || 'English'}&lt;/p&gt;
        &lt;p&gt;Font Size: {fontSize || 16}px&lt;/p&gt;
    &lt;/div&gt;
);</code></pre>
                </div>

                <h3>Nullish Coalescing (??)</h3>
                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Modern Alternative</h4>
                    <p>The nullish coalescing operator (<code>??</code>) is better than <code>||</code> when you want to treat 0, false, and empty strings as valid values:</p>
                    <pre><code class="language-typescript">const Counter: React.FC = () => {
    const [count, setCount] = useState(0);
    
    // ‚ùå Problem with ||: 0 is considered falsy
    return &lt;p&gt;Count: {count || 'No count'}&lt;/p&gt;;
    // Renders: "Count: No count" when count is 0!
    
    // ‚úÖ Solution with ??: only null/undefined are replaced
    return &lt;p&gt;Count: {count ?? 'No count'}&lt;/p&gt;;
    // Renders: "Count: 0" correctly!
};

// More examples:
const Examples: React.FC = () => {
    const emptyString = '';
    const zero = 0;
    const falseValue = false;
    
    return (
        &lt;div&gt;
            {/* With || */}
            &lt;p&gt;{emptyString || 'default'}&lt;/p&gt;  {/* Shows: default */}
            &lt;p&gt;{zero || 'default'}&lt;/p&gt;         {/* Shows: default */}
            &lt;p&gt;{falseValue || 'default'}&lt;/p&gt;   {/* Shows: default */}
            
            {/* With ?? */}
            &lt;p&gt;{emptyString ?? 'default'}&lt;/p&gt; {/* Shows: (empty) */}
            &lt;p&gt;{zero ?? 'default'}&lt;/p&gt;        {/* Shows: 0 */}
            &lt;p&gt;{falseValue ?? 'default'}&lt;/p&gt;  {/* Shows: false */}
        &lt;/div&gt;
    );
};</code></pre>
                </div>

                <h3>Chaining || for Multiple Fallbacks</h3>
                <div class="card">
                    <h4>Multiple Default Options</h4>
                    <pre><code class="language-typescript">interface DataDisplayProps {
    primaryData?: string;
    secondaryData?: string;
    tertiaryData?: string;
}

const DataDisplay: React.FC&lt;DataDisplayProps&gt; = ({
    primaryData,
    secondaryData,
    tertiaryData
}) => (
    &lt;div&gt;
        {/* Try multiple sources in order */}
        &lt;p&gt;{primaryData || secondaryData || tertiaryData || 'No data available'}&lt;/p&gt;
    &lt;/div&gt;
);

// Example with user profiles
interface ProfileProps {
    displayName?: string;
    username?: string;
    email?: string;
}

const ProfileHeader: React.FC&lt;ProfileProps&gt; = ({
    displayName,
    username,
    email
}) => (
    &lt;div className="profile-header"&gt;
        &lt;h1&gt;{displayName || username || email?.split('@')[0] || 'User'}&lt;/h1&gt;
    &lt;/div&gt;
);</code></pre>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Best Practice</h4>
                    <p>Use <code>||</code> for default strings/objects, but use <code>??</code> when 0, false, or empty string are valid values you want to display.</p>
                </div>

                <!-- Interactive || vs ?? Comparison -->
                <h3>üéÆ Interactive: || vs ?? Comparison</h3>
                <div class="card">
                    <p>Click different values to see how <code>||</code> and <code>??</code> behave differently:</p>
                    <div id="nullish-demo" style="padding: 1rem;">
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 1rem; justify-content: center;">
                            <button class="nullish-btn" data-value="null" style="padding: 0.5rem 1rem; cursor: pointer; border: 2px solid #9c27b0; border-radius: 4px; background: #f3e5f5;">null</button>
                            <button class="nullish-btn" data-value="undefined" style="padding: 0.5rem 1rem; cursor: pointer; border: 2px solid #9c27b0; border-radius: 4px; background: #f3e5f5;">undefined</button>
                            <button class="nullish-btn" data-value="0" style="padding: 0.5rem 1rem; cursor: pointer; border: 2px solid #ff9800; border-radius: 4px; background: #fff3e0;">0</button>
                            <button class="nullish-btn" data-value="empty" style="padding: 0.5rem 1rem; cursor: pointer; border: 2px solid #ff9800; border-radius: 4px; background: #fff3e0;">"" (empty)</button>
                            <button class="nullish-btn" data-value="false" style="padding: 0.5rem 1rem; cursor: pointer; border: 2px solid #ff9800; border-radius: 4px; background: #fff3e0;">false</button>
                            <button class="nullish-btn" data-value="hello" style="padding: 0.5rem 1rem; cursor: pointer; border: 2px solid #4caf50; border-radius: 4px; background: #e8f5e9;">"hello"</button>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                            <div style="padding: 1rem; background: #f5f5f5; border-radius: 8px; border: 2px solid #9e9e9e;">
                                <h5 style="margin: 0 0 0.5rem 0;"><code>value || 'default'</code></h5>
                                <div id="or-result" style="font-family: monospace; padding: 0.75rem; background: white; border-radius: 4px; margin-bottom: 0.5rem;"></div>
                                <p id="or-explanation" style="font-size: 0.85rem; margin: 0; color: #666;"></p>
                            </div>
                            <div style="padding: 1rem; background: #f5f5f5; border-radius: 8px; border: 2px solid #9e9e9e;">
                                <h5 style="margin: 0 0 0.5rem 0;"><code>value ?? 'default'</code></h5>
                                <div id="nullish-result" style="font-family: monospace; padding: 0.75rem; background: white; border-radius: 4px; margin-bottom: 0.5rem;"></div>
                                <p id="nullish-explanation" style="font-size: 0.85rem; margin: 0; color: #666;"></p>
                            </div>
                        </div>
                        <div id="nullish-verdict" style="margin-top: 1rem; padding: 1rem; border-radius: 8px; text-align: center; font-weight: bold;"></div>
                    </div>
                </div>
                <script>
                (function() {
                    const orResult = document.getElementById('or-result');
                    const nullishResult = document.getElementById('nullish-result');
                    const orExplanation = document.getElementById('or-explanation');
                    const nullishExplanation = document.getElementById('nullish-explanation');
                    const verdict = document.getElementById('nullish-verdict');
                    
                    const values = {
                        'null': { value: null, display: 'null', isFalsy: true, isNullish: true },
                        'undefined': { value: undefined, display: 'undefined', isFalsy: true, isNullish: true },
                        '0': { value: 0, display: '0', isFalsy: true, isNullish: false },
                        'empty': { value: '', display: '""', isFalsy: true, isNullish: false },
                        'false': { value: false, display: 'false', isFalsy: true, isNullish: false },
                        'hello': { value: 'hello', display: '"hello"', isFalsy: false, isNullish: false }
                    };
                    
                    function updateDemo(key) {
                        const v = values[key];
                        const orOutput = v.isFalsy ? 'default' : v.value;
                        const nullishOutput = v.isNullish ? 'default' : v.value;
                        
                        // Update || result
                        orResult.innerHTML = `<span style="color: ${v.isFalsy ? '#f44336' : '#4caf50'};">${orOutput === '' ? '(empty string)' : orOutput}</span>`;
                        orExplanation.textContent = v.isFalsy 
                            ? `${v.display} is falsy ‚Üí uses fallback`
                            : `${v.display} is truthy ‚Üí keeps value`;
                        
                        // Update ?? result
                        nullishResult.innerHTML = `<span style="color: ${v.isNullish ? '#f44336' : '#4caf50'};">${nullishOutput === '' ? '(empty string)' : nullishOutput === false ? 'false' : nullishOutput}</span>`;
                        nullishExplanation.textContent = v.isNullish
                            ? `${v.display} is nullish ‚Üí uses fallback`
                            : `${v.display} is not nullish ‚Üí keeps value`;
                        
                        // Verdict
                        if (v.isFalsy && !v.isNullish) {
                            verdict.style.background = '#fff3e0';
                            verdict.style.color = '#e65100';
                            verdict.innerHTML = '‚ö†Ô∏è Different results! Use ?? if ' + v.display + ' is a valid value you want to keep.';
                        } else {
                            verdict.style.background = '#e8f5e9';
                            verdict.style.color = '#2e7d32';
                            verdict.innerHTML = '‚úÖ Same result! Both operators work the same for ' + v.display + '.';
                        }
                        
                        // Highlight active button
                        document.querySelectorAll('.nullish-btn').forEach(btn => {
                            btn.style.transform = btn.dataset.value === key ? 'scale(1.1)' : '';
                            btn.style.boxShadow = btn.dataset.value === key ? '0 2px 8px rgba(0,0,0,0.2)' : '';
                        });
                    }
                    
                    document.querySelectorAll('.nullish-btn').forEach(btn => {
                        btn.addEventListener('click', () => updateDemo(btn.dataset.value));
                    });
                    
                    // Initialize with null
                    updateDemo('null');
                })();
                </script>
            </section>

            <!-- Section 6: Switch Statements -->
            <section id="section6" class="lesson-section">
                <h2>üîÄ Switch Statements</h2>
                <p>When you have multiple conditions based on a single value (like status, role, or type), switch statements can be cleaner than multiple if/else statements.</p>

                <h3>Basic Switch Pattern</h3>
                <div class="card">
                    <h4>Status-Based Rendering</h4>
                    <pre><code class="language-typescript">type OrderStatus = 'pending' | 'processing' | 'shipped' | 'delivered' | 'cancelled';

interface OrderProps {
    status: OrderStatus;
    orderId: string;
}

const OrderStatusDisplay: React.FC&lt;OrderProps&gt; = ({ status, orderId }) => {
    // Helper function using switch
    const getStatusDisplay = () => {
        switch (status) {
            case 'pending':
                return (
                    &lt;div className="status status-pending"&gt;
                        &lt;h3&gt;‚è≥ Order Pending&lt;/h3&gt;
                        &lt;p&gt;Waiting for confirmation...&lt;/p&gt;
                    &lt;/div&gt;
                );
            case 'processing':
                return (
                    &lt;div className="status status-processing"&gt;
                        &lt;h3&gt;üì¶ Processing Order&lt;/h3&gt;
                        &lt;p&gt;Your order is being prepared.&lt;/p&gt;
                    &lt;/div&gt;
                );
            case 'shipped':
                return (
                    &lt;div className="status status-shipped"&gt;
                        &lt;h3&gt;üöö Order Shipped&lt;/h3&gt;
                        &lt;p&gt;Your package is on its way!&lt;/p&gt;
                    &lt;/div&gt;
                );
            case 'delivered':
                return (
                    &lt;div className="status status-delivered"&gt;
                        &lt;h3&gt;‚úÖ Delivered&lt;/h3&gt;
                        &lt;p&gt;Order #{orderId} has been delivered.&lt;/p&gt;
                    &lt;/div&gt;
                );
            case 'cancelled':
                return (
                    &lt;div className="status status-cancelled"&gt;
                        &lt;h3&gt;‚ùå Order Cancelled&lt;/h3&gt;
                        &lt;p&gt;This order has been cancelled.&lt;/p&gt;
                    &lt;/div&gt;
                );
            default:
                return &lt;p&gt;Unknown status&lt;/p&gt;;
        }
    };
    
    return (
        &lt;div className="order-status"&gt;
            {getStatusDisplay()}
        &lt;/div&gt;
    );
};</code></pre>
                </div>

                <h3>Object Mapping Pattern (Better!)</h3>
                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° More Elegant Approach</h4>
                    <p>Instead of switch statements, you can use object mapping for cleaner, more maintainable code:</p>
                    <pre><code class="language-typescript">type AlertType = 'info' | 'success' | 'warning' | 'error';

interface AlertProps {
    type: AlertType;
    message: string;
}

const Alert: React.FC&lt;AlertProps&gt; = ({ type, message }) => {
    // Map types to configurations
    const alertConfig = {
        info: {
            icon: '‚ÑπÔ∏è',
            className: 'alert-info',
            title: 'Information'
        },
        success: {
            icon: '‚úÖ',
            className: 'alert-success',
            title: 'Success'
        },
        warning: {
            icon: '‚ö†Ô∏è',
            className: 'alert-warning',
            title: 'Warning'
        },
        error: {
            icon: '‚ùå',
            className: 'alert-error',
            title: 'Error'
        }
    };
    
    const config = alertConfig[type];
    
    return (
        &lt;div className={`alert ${config.className}`}&gt;
            &lt;span className="alert-icon"&gt;{config.icon}&lt;/span&gt;
            &lt;div className="alert-content"&gt;
                &lt;h4&gt;{config.title}&lt;/h4&gt;
                &lt;p&gt;{message}&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    );
};</code></pre>
                </div>

                <h3>Complex Switch with JSX</h3>
                <div class="card">
                    <h4>User Role-Based Dashboard</h4>
                    <pre><code class="language-typescript">type UserRole = 'admin' | 'moderator' | 'user' | 'guest';

interface DashboardProps {
    role: UserRole;
    username: string;
}

const Dashboard: React.FC&lt;DashboardProps&gt; = ({ role, username }) => {
    const renderDashboard = () => {
        switch (role) {
            case 'admin':
                return (
                    &lt;div className="dashboard admin-dashboard"&gt;
                        &lt;h1&gt;üëë Admin Dashboard&lt;/h1&gt;
                        &lt;p&gt;Welcome, {username}!&lt;/p&gt;
                        &lt;ul&gt;
                            &lt;li&gt;üë• Manage Users&lt;/li&gt;
                            &lt;li&gt;‚öôÔ∏è System Settings&lt;/li&gt;
                            &lt;li&gt;üìä Analytics&lt;/li&gt;
                            &lt;li&gt;üîí Security&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                );
            
            case 'moderator':
                return (
                    &lt;div className="dashboard moderator-dashboard"&gt;
                        &lt;h1&gt;üõ°Ô∏è Moderator Dashboard&lt;/h1&gt;
                        &lt;p&gt;Welcome, {username}!&lt;/p&gt;
                        &lt;ul&gt;
                            &lt;li&gt;üìù Review Content&lt;/li&gt;
                            &lt;li&gt;üö´ Moderate Posts&lt;/li&gt;
                            &lt;li&gt;üí¨ User Reports&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                );
            
            case 'user':
                return (
                    &lt;div className="dashboard user-dashboard"&gt;
                        &lt;h1&gt;üë§ User Dashboard&lt;/h1&gt;
                        &lt;p&gt;Welcome back, {username}!&lt;/p&gt;
                        &lt;ul&gt;
                            &lt;li&gt;üìÑ My Posts&lt;/li&gt;
                            &lt;li&gt;‚≠ê Favorites&lt;/li&gt;
                            &lt;li&gt;üîî Notifications&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                );
            
            case 'guest':
                return (
                    &lt;div className="dashboard guest-dashboard"&gt;
                        &lt;h1&gt;üëã Welcome, Guest!&lt;/h1&gt;
                        &lt;p&gt;Please sign in to access more features.&lt;/p&gt;
                        &lt;button&gt;Sign In&lt;/button&gt;
                    &lt;/div&gt;
                );
            
            default:
                const _exhaustive: never = role;
                return &lt;div&gt;Unknown role&lt;/div&gt;;
        }
    };
    
    return renderDashboard();
};</code></pre>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ When to Use Switch vs Object Mapping</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Pattern</th>
                                <th>Best For</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Switch Statement</strong></td>
                                <td>Complex rendering logic, different components per case</td>
                                <td>Rendering completely different layouts</td>
                            </tr>
                            <tr>
                                <td><strong>Object Mapping</strong></td>
                                <td>Same structure with different data/config</td>
                                <td>Alert types, status badges, icons</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 7: Early Returns -->
            <section id="section7" class="lesson-section">
                <h2>‚Ü©Ô∏è Early Returns</h2>
                <p>Early returns (also called guard clauses) are a powerful pattern where you return JSX early based on certain conditions, keeping the main component logic clean and readable.</p>

                <h3>Basic Early Return Pattern</h3>
                <div class="card">
                    <h4>Loading and Error States</h4>
                    <pre><code class="language-typescript">interface DataDisplayProps {
    data: string[] | null;
    isLoading: boolean;
    error: string | null;
}

const DataDisplay: React.FC&lt;DataDisplayProps&gt; = ({ data, isLoading, error }) => {
    // Early return for loading
    if (isLoading) {
        return (
            &lt;div className="loading"&gt;
                &lt;p&gt;‚è≥ Loading data...&lt;/p&gt;
            &lt;/div&gt;
        );
    }
    
    // Early return for error
    if (error) {
        return (
            &lt;div className="error"&gt;
                &lt;h3&gt;‚ùå Error&lt;/h3&gt;
                &lt;p&gt;{error}&lt;/p&gt;
            &lt;/div&gt;
        );
    }
    
    // Early return for empty data
    if (!data || data.length === 0) {
        return (
            &lt;div className="empty"&gt;
                &lt;p&gt;üì≠ No data available&lt;/p&gt;
            &lt;/div&gt;
        );
    }
    
    // Main render - we know we have valid data!
    return (
        &lt;div className="data-display"&gt;
            &lt;h2&gt;Data List&lt;/h2&gt;
            &lt;ul&gt;
                {data.map((item, index) => (
                    &lt;li key={index}&gt;{item}&lt;/li&gt;
                ))}
            &lt;/ul&gt;
        &lt;/div&gt;
    );
};</code></pre>
                </div>

                <h3>Why Early Returns Are Better</h3>
                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Compare: Nested vs Early Returns</h4>
                    <pre><code class="language-typescript">// ‚ùå Nested conditionals (hard to read)
const UserProfile: React.FC&lt;{ user: User | null }&gt; = ({ user }) => {
    return (
        &lt;div&gt;
            {user ? (
                user.isPremium ? (
                    user.hasCompletedProfile ? (
                        &lt;div&gt;
                            &lt;h1&gt;{user.name}&lt;/h1&gt;
                            &lt;PremiumBadge /&gt;
                            {/* Complex profile JSX */}
                        &lt;/div&gt;
                    ) : (
                        &lt;CompleteProfilePrompt /&gt;
                    )
                ) : (
                    &lt;UpgradeToPremium /&gt;
                )
            ) : (
                &lt;SignInPrompt /&gt;
            )}
        &lt;/div&gt;
    );
};

// ‚úÖ Early returns (much cleaner!)
const UserProfile: React.FC&lt;{ user: User | null }&gt; = ({ user }) => {
    // Handle each special case first
    if (!user) {
        return &lt;SignInPrompt /&gt;;
    }
    
    if (!user.isPremium) {
        return &lt;UpgradeToPremium /&gt;;
    }
    
    if (!user.hasCompletedProfile) {
        return &lt;CompleteProfilePrompt /&gt;;
    }
    
    // Main happy path - no nesting!
    return (
        &lt;div&gt;
            &lt;h1&gt;{user.name}&lt;/h1&gt;
            &lt;PremiumBadge /&gt;
            {/* Complex profile JSX */}
        &lt;/div&gt;
    );
};</code></pre>
                </div>

                <h3>Real-World Example: Auth Flow</h3>
                <div class="card">
                    <h4>Protected Component</h4>
                    <pre><code class="language-typescript">interface ProtectedPageProps {
    isAuthenticated: boolean;
    isLoading: boolean;
    hasPermission: boolean;
    user: User | null;
}

const ProtectedPage: React.FC&lt;ProtectedPageProps&gt; = ({
    isAuthenticated,
    isLoading,
    hasPermission,
    user
}) => {
    // Check loading first
    if (isLoading) {
        return (
            &lt;div className="loading-screen"&gt;
                &lt;div className="spinner"&gt;&lt;/div&gt;
                &lt;p&gt;Checking credentials...&lt;/p&gt;
            &lt;/div&gt;
        );
    }
    
    // Check authentication
    if (!isAuthenticated) {
        return (
            &lt;div className="auth-required"&gt;
                &lt;h2&gt;üîí Authentication Required&lt;/h2&gt;
                &lt;p&gt;Please log in to view this page.&lt;/p&gt;
                &lt;button&gt;Log In&lt;/button&gt;
            &lt;/div&gt;
        );
    }
    
    // Check permissions
    if (!hasPermission) {
        return (
            &lt;div className="no-permission"&gt;
                &lt;h2&gt;üö´ Access Denied&lt;/h2&gt;
                &lt;p&gt;You don't have permission to view this page.&lt;/p&gt;
                &lt;button&gt;Go Back&lt;/button&gt;
            &lt;/div&gt;
        );
    }
    
    // Null check (though TypeScript knows it's not null here)
    if (!user) {
        return &lt;div&gt;Error: User data missing&lt;/div&gt;;
    }
    
    // Main protected content - we're good to go!
    return (
        &lt;div className="protected-content"&gt;
            &lt;h1&gt;Welcome, {user.name}! üëã&lt;/h1&gt;
            &lt;p&gt;This is premium protected content.&lt;/p&gt;
            {/* Protected features */}
        &lt;/div&gt;
    );
};</code></pre>
                </div>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Benefits of Early Returns</h4>
                    <ul>
                        <li><strong>Reduces nesting:</strong> No deeply nested ternaries or conditionals</li>
                        <li><strong>Improves readability:</strong> Each condition is clear and isolated</li>
                        <li><strong>Easier debugging:</strong> You can add console.logs or breakpoints easily</li>
                        <li><strong>Better error handling:</strong> Edge cases are handled first</li>
                        <li><strong>Clean happy path:</strong> Main logic isn't cluttered with conditionals</li>
                    </ul>
                </div>

                <!-- Interactive SVG: Code Structure Visualization -->
                <h3>üîç Visual: Nested vs Early Returns Code Structure</h3>
                <div class="card">
                    <p>Hover over each section to see how the code structure differs:</p>
                    <svg id="code-structure-svg" viewBox="0 0 700 400" style="width: 100%; max-width: 700px; height: auto; font-family: system-ui, sans-serif;">
                        <defs>
                            <linearGradient id="badGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#ffcdd2"/>
                                <stop offset="100%" style="stop-color:#ef9a9a"/>
                            </linearGradient>
                            <linearGradient id="goodGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#c8e6c9"/>
                                <stop offset="100%" style="stop-color:#a5d6a7"/>
                            </linearGradient>
                        </defs>
                        
                        <!-- Titles -->
                        <text x="175" y="30" text-anchor="middle" font-weight="bold" font-size="16" fill="#c62828">‚ùå Nested Conditionals</text>
                        <text x="525" y="30" text-anchor="middle" font-weight="bold" font-size="16" fill="#2e7d32">‚úÖ Early Returns</text>
                        
                        <!-- Nested Conditionals Structure -->
                        <g id="nested-structure">
                            <!-- Outer container -->
                            <rect x="30" y="50" width="290" height="330" rx="8" fill="url(#badGradient)" stroke="#f44336" stroke-width="2" opacity="0.3"/>
                            <text x="45" y="75" font-family="monospace" font-size="11" fill="#c62828">return (</text>
                            
                            <!-- Level 1 nesting -->
                            <rect x="50" y="85" width="255" height="280" rx="6" fill="#ffebee" stroke="#ef5350" stroke-width="1.5"/>
                            <text x="65" y="105" font-family="monospace" font-size="10" fill="#d32f2f">{user ? (</text>
                            
                            <!-- Level 2 nesting -->
                            <rect x="70" y="115" width="220" height="235" rx="5" fill="#ffcdd2" stroke="#e57373" stroke-width="1"/>
                            <text x="85" y="135" font-family="monospace" font-size="10" fill="#c62828">user.isPremium ? (</text>
                            
                            <!-- Level 3 nesting -->
                            <rect x="90" y="145" width="185" height="145" rx="4" fill="#ef9a9a" stroke="#f44336" stroke-width="1"/>
                            <text x="105" y="165" font-family="monospace" font-size="9" fill="#b71c1c">user.hasProfile ? (</text>
                            
                            <!-- Deepest content -->
                            <rect x="110" y="175" width="150" height="50" rx="3" fill="#e57373"/>
                            <text x="185" y="200" text-anchor="middle" font-size="10" fill="white" font-weight="bold">üòµ Main Content</text>
                            <text x="185" y="215" text-anchor="middle" font-size="8" fill="white">(buried deep!)</text>
                            
                            <text x="105" y="240" font-family="monospace" font-size="9" fill="#b71c1c">) : &lt;ProfilePrompt /&gt;</text>
                            <text x="85" y="265" font-family="monospace" font-size="9" fill="#c62828">) : &lt;UpgradePrompt /&gt;</text>
                            <text x="65" y="315" font-family="monospace" font-size="10" fill="#d32f2f">) : &lt;LoginPrompt /&gt;}</text>
                            <text x="45" y="365" font-family="monospace" font-size="11" fill="#c62828">);</text>
                            
                            <!-- Nesting indicator -->
                            <text x="175" y="390" text-anchor="middle" font-size="11" fill="#c62828">4 levels deep üò∞</text>
                        </g>
                        
                        <!-- Early Returns Structure -->
                        <g id="early-returns-structure">
                            <!-- Guard clause 1 -->
                            <rect x="380" y="50" width="290" height="55" rx="6" fill="url(#goodGradient)" stroke="#4caf50" stroke-width="2"/>
                            <text x="395" y="75" font-family="monospace" font-size="10" fill="#2e7d32">if (!user) return &lt;LoginPrompt /&gt;;</text>
                            <text x="620" y="95" text-anchor="middle" font-size="9" fill="#388e3c" font-style="italic">Guard ‚ë†</text>
                            
                            <!-- Guard clause 2 -->
                            <rect x="380" y="115" width="290" height="55" rx="6" fill="url(#goodGradient)" stroke="#4caf50" stroke-width="2"/>
                            <text x="395" y="140" font-family="monospace" font-size="10" fill="#2e7d32">if (!user.isPremium)</text>
                            <text x="395" y="155" font-family="monospace" font-size="10" fill="#2e7d32">  return &lt;UpgradePrompt /&gt;;</text>
                            <text x="620" y="160" text-anchor="middle" font-size="9" fill="#388e3c" font-style="italic">Guard ‚ë°</text>
                            
                            <!-- Guard clause 3 -->
                            <rect x="380" y="180" width="290" height="55" rx="6" fill="url(#goodGradient)" stroke="#4caf50" stroke-width="2"/>
                            <text x="395" y="205" font-family="monospace" font-size="10" fill="#2e7d32">if (!user.hasProfile)</text>
                            <text x="395" y="220" font-family="monospace" font-size="10" fill="#2e7d32">  return &lt;ProfilePrompt /&gt;;</text>
                            <text x="620" y="225" text-anchor="middle" font-size="9" fill="#388e3c" font-style="italic">Guard ‚ë¢</text>
                            
                            <!-- Main content (at the same level!) -->
                            <rect x="380" y="245" width="290" height="120" rx="6" fill="#2e7d32" stroke="#1b5e20" stroke-width="2"/>
                            <text x="395" y="270" font-family="monospace" font-size="10" fill="white">// Happy path - no nesting!</text>
                            <text x="395" y="290" font-family="monospace" font-size="10" fill="white">return (</text>
                            <text x="395" y="310" font-family="monospace" font-size="10" fill="#a5d6a7">  &lt;div&gt;</text>
                            <text x="395" y="330" font-family="monospace" font-size="10" fill="#a5d6a7">    &lt;h1&gt;{user.name}&lt;/h1&gt;</text>
                            <text x="395" y="350" font-family="monospace" font-size="10" fill="white">  &lt;/div&gt;</text>
                            <text x="650" y="305" text-anchor="middle" font-size="10" fill="white" font-weight="bold">üòä Main</text>
                            <text x="650" y="320" text-anchor="middle" font-size="10" fill="white" font-weight="bold">Content</text>
                            
                            <!-- Flat indicator -->
                            <text x="525" y="390" text-anchor="middle" font-size="11" fill="#2e7d32">All at the same level! üéâ</text>
                        </g>
                        
                        <!-- Comparison arrows -->
                        <line x1="330" y1="200" x2="370" y2="200" stroke="#667eea" stroke-width="3" marker-end="url(#arrowhead)"/>
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#667eea"/>
                            </marker>
                        </defs>
                    </svg>
                    <p style="text-align: center; margin-top: 1rem; color: #666;"><em>Early returns keep your main logic clean and visible, not buried under layers of conditions.</em></p>
                </div>
            </section>

            <!-- Section 8: Common Patterns -->
            <section id="section8" class="lesson-section">
                <h2>üé® Common Rendering Patterns</h2>
                <p>Let's explore real-world patterns you'll use constantly in React development.</p>

                <!-- Interactive State Machine Visualization -->
                <h3>üéÆ Interactive: State Machine Simulator</h3>
                <div class="card">
                    <p>Click the buttons to simulate different states and see how your component should respond:</p>
                    <div id="state-machine-demo" style="padding: 1rem;">
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 1rem;">
                            <button id="sm-idle" style="padding: 0.5rem 1rem; cursor: pointer; border: 2px solid #9e9e9e; border-radius: 4px; background: #f5f5f5;">Idle</button>
                            <button id="sm-loading" style="padding: 0.5rem 1rem; cursor: pointer; border: 2px solid #2196F3; border-radius: 4px; background: #e3f2fd;">Loading</button>
                            <button id="sm-error" style="padding: 0.5rem 1rem; cursor: pointer; border: 2px solid #f44336; border-radius: 4px; background: #ffebee;">Error</button>
                            <button id="sm-empty" style="padding: 0.5rem 1rem; cursor: pointer; border: 2px solid #FF9800; border-radius: 4px; background: #fff3e0;">Empty</button>
                            <button id="sm-success" style="padding: 0.5rem 1rem; cursor: pointer; border: 2px solid #4CAF50; border-radius: 4px; background: #e8f5e9;">Success</button>
                        </div>
                        <canvas id="state-machine-canvas" width="650" height="320" style="width: 100%; max-width: 650px; border: 1px solid #ddd; border-radius: 8px; background: white;"></canvas>
                        <div id="sm-output" style="margin-top: 1rem; padding: 1rem; border-radius: 8px; background: #f5f5f5; min-height: 80px;">
                            <div id="sm-render-preview" style="text-align: center; padding: 1rem;"></div>
                        </div>
                        <div id="sm-code" style="margin-top: 0.5rem; padding: 0.75rem; border-radius: 4px; background: #263238; color: #aed581; font-family: monospace; font-size: 0.85rem; overflow-x: auto;"></div>
                    </div>
                </div>
                <script>
                (function() {
                    const canvas = document.getElementById('state-machine-canvas');
                    const ctx = canvas.getContext('2d');
                    const renderPreview = document.getElementById('sm-render-preview');
                    const codeDisplay = document.getElementById('sm-code');
                    
                    let currentState = 'idle';
                    
                    const states = {
                        idle: {
                            x: 100, y: 160, color: '#9e9e9e', label: 'Idle',
                            render: '<div class="idle"><p>üì• Ready to load</p><button>Fetch Data</button></div>',
                            preview: 'üì• Ready to load<br><button style="margin-top:0.5rem;padding:0.3rem 0.6rem;">Fetch Data</button>',
                            code: 'if (status === "idle") return <IdleView />;'
                        },
                        loading: {
                            x: 250, y: 80, color: '#2196F3', label: 'Loading',
                            render: '<div class="loading"><div class="spinner"></div><p>Loading...</p></div>',
                            preview: '<div style="display:inline-block;width:24px;height:24px;border:3px solid #e3f2fd;border-top:3px solid #2196F3;border-radius:50%;animation:spin 1s linear infinite;"></div><br>Loading...',
                            code: 'if (isLoading) return <Spinner />;'
                        },
                        error: {
                            x: 400, y: 80, color: '#f44336', label: 'Error',
                            render: '<div class="error"><h3>‚ùå Error</h3><p>Something went wrong</p><button>Retry</button></div>',
                            preview: '‚ùå <strong style="color:#c62828;">Error</strong><br>Something went wrong<br><button style="margin-top:0.5rem;padding:0.3rem 0.6rem;">Retry</button>',
                            code: 'if (error) return <ErrorView error={error} />;'
                        },
                        empty: {
                            x: 400, y: 240, color: '#FF9800', label: 'Empty',
                            render: '<div class="empty"><p>üì≠ No data found</p></div>',
                            preview: 'üì≠ <span style="color:#E65100;">No data found</span>',
                            code: 'if (data.length === 0) return <EmptyState />;'
                        },
                        success: {
                            x: 550, y: 160, color: '#4CAF50', label: 'Success',
                            render: '<div class="success"><h3>‚úÖ Data Loaded</h3><ul><li>Item 1</li><li>Item 2</li></ul></div>',
                            preview: '‚úÖ <strong style="color:#2e7d32;">Data Loaded</strong><br>‚Ä¢ Item 1<br>‚Ä¢ Item 2<br>‚Ä¢ Item 3',
                            code: 'return <DataList items={data} />;'
                        }
                    };
                    
                    const transitions = [
                        { from: 'idle', to: 'loading', label: 'fetch()' },
                        { from: 'loading', to: 'error', label: 'failure' },
                        { from: 'loading', to: 'empty', label: 'no data' },
                        { from: 'loading', to: 'success', label: 'data!' },
                        { from: 'error', to: 'loading', label: 'retry' },
                        { from: 'empty', to: 'loading', label: 'refresh' },
                        { from: 'success', to: 'loading', label: 'refresh' }
                    ];
                    
                    function drawStateMachine() {
                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                        
                        // Title
                        ctx.fillStyle = '#333';
                        ctx.font = 'bold 16px system-ui, sans-serif';
                        ctx.textAlign = 'center';
                        ctx.fillText('Data Fetching State Machine', canvas.width / 2, 25);
                        
                        // Draw transitions (arrows)
                        ctx.strokeStyle = '#ccc';
                        ctx.lineWidth = 2;
                        transitions.forEach(t => {
                            const from = states[t.from];
                            const to = states[t.to];
                            
                            const isActive = t.from === currentState || t.to === currentState;
                            ctx.strokeStyle = isActive ? '#667eea' : '#ddd';
                            ctx.lineWidth = isActive ? 2.5 : 1.5;
                            
                            // Draw curved arrow
                            ctx.beginPath();
                            const midX = (from.x + to.x) / 2;
                            const midY = (from.y + to.y) / 2;
                            const offsetY = from.y === to.y ? -30 : 0;
                            
                            ctx.moveTo(from.x + 35, from.y);
                            ctx.quadraticCurveTo(midX, midY + offsetY - 20, to.x - 35, to.y);
                            ctx.stroke();
                            
                            // Arrow head
                            const angle = Math.atan2(to.y - (midY + offsetY - 20), to.x - 35 - midX);
                            ctx.beginPath();
                            ctx.moveTo(to.x - 35, to.y);
                            ctx.lineTo(to.x - 35 - 10 * Math.cos(angle - 0.4), to.y - 10 * Math.sin(angle - 0.4));
                            ctx.moveTo(to.x - 35, to.y);
                            ctx.lineTo(to.x - 35 - 10 * Math.cos(angle + 0.4), to.y - 10 * Math.sin(angle + 0.4));
                            ctx.stroke();
                            
                            // Label
                            ctx.fillStyle = isActive ? '#667eea' : '#999';
                            ctx.font = '10px system-ui, sans-serif';
                            ctx.fillText(t.label, midX, midY + offsetY - 25);
                        });
                        
                        // Draw states (circles)
                        Object.entries(states).forEach(([key, state]) => {
                            const isActive = key === currentState;
                            
                            // Glow effect for active state
                            if (isActive) {
                                ctx.beginPath();
                                ctx.arc(state.x, state.y, 45, 0, Math.PI * 2);
                                ctx.fillStyle = state.color + '33';
                                ctx.fill();
                            }
                            
                            // State circle
                            ctx.beginPath();
                            ctx.arc(state.x, state.y, 35, 0, Math.PI * 2);
                            ctx.fillStyle = isActive ? state.color : '#f5f5f5';
                            ctx.fill();
                            ctx.strokeStyle = state.color;
                            ctx.lineWidth = isActive ? 4 : 2;
                            ctx.stroke();
                            
                            // Label
                            ctx.fillStyle = isActive ? 'white' : '#333';
                            ctx.font = (isActive ? 'bold ' : '') + '12px system-ui, sans-serif';
                            ctx.textAlign = 'center';
                            ctx.fillText(state.label, state.x, state.y + 4);
                        });
                        
                        // Check order legend
                        ctx.fillStyle = '#666';
                        ctx.font = '11px system-ui, sans-serif';
                        ctx.textAlign = 'left';
                        ctx.fillText('Check order: Loading ‚Üí Error ‚Üí Empty ‚Üí Success', 10, canvas.height - 10);
                    }
                    
                    function updateUI() {
                        const state = states[currentState];
                        renderPreview.innerHTML = state.preview;
                        codeDisplay.textContent = state.code;
                        drawStateMachine();
                        
                        // Add spinner animation if loading
                        if (currentState === 'loading') {
                            const style = document.createElement('style');
                            style.textContent = '@keyframes spin { to { transform: rotate(360deg); } }';
                            document.head.appendChild(style);
                        }
                    }
                    
                    // Button handlers
                    ['idle', 'loading', 'error', 'empty', 'success'].forEach(state => {
                        document.getElementById('sm-' + state).addEventListener('click', () => {
                            currentState = state;
                            updateUI();
                        });
                    });
                    
                    // Initial draw
                    updateUI();
                })();
                </script>

                <h3>Pattern 1: Loading ‚Üí Error ‚Üí Empty ‚Üí Content</h3>
                <div class="card">
                    <h4>The Standard Data Flow</h4>
                    <pre><code class="language-typescript">interface User {
    id: string;
    name: string;
    email: string;
}

interface UserListProps {
    users: User[];
    isLoading: boolean;
    error: string | null;
}

const UserList: React.FC&lt;UserListProps&gt; = ({ users, isLoading, error }) => {
    // 1. Loading state
    if (isLoading) {
        return (
            &lt;div className="user-list-loading"&gt;
                &lt;div className="spinner"&gt;&lt;/div&gt;
                &lt;p&gt;Loading users...&lt;/p&gt;
            &lt;/div&gt;
        );
    }
    
    // 2. Error state
    if (error) {
        return (
            &lt;div className="user-list-error"&gt;
                &lt;h3&gt;‚ùå Error Loading Users&lt;/h3&gt;
                &lt;p&gt;{error}&lt;/p&gt;
                &lt;button&gt;Try Again&lt;/button&gt;
            &lt;/div&gt;
        );
    }
    
    // 3. Empty state
    if (users.length === 0) {
        return (
            &lt;div className="user-list-empty"&gt;
                &lt;h3&gt;üì≠ No Users Found&lt;/h3&gt;
                &lt;p&gt;There are no users to display.&lt;/p&gt;
            &lt;/div&gt;
        );
    }
    
    // 4. Content (happy path)
    return (
        &lt;div className="user-list"&gt;
            &lt;h2&gt;Users ({users.length})&lt;/h2&gt;
            &lt;ul&gt;
                {users.map(user => (
                    &lt;li key={user.id}&gt;
                        &lt;strong&gt;{user.name}&lt;/strong&gt;
                        &lt;br /&gt;
                        {user.email}
                    &lt;/li&gt;
                ))}
            &lt;/ul&gt;
        &lt;/div&gt;
    );
};</code></pre>
                </div>

                <h3>Pattern 2: Feature Flags</h3>
                <div class="card">
                    <h4>Toggle Features On/Off</h4>
                    <pre><code class="language-typescript">interface FeatureFlags {
    showNewDesign: boolean;
    enableComments: boolean;
    enableSharing: boolean;
}

interface ArticleProps {
    title: string;
    content: string;
    features: FeatureFlags;
}

const Article: React.FC&lt;ArticleProps&gt; = ({ title, content, features }) => (
    &lt;article className={features.showNewDesign ? 'new-design' : 'old-design'}&gt;
        &lt;h1&gt;{title}&lt;/h1&gt;
        &lt;div&gt;{content}&lt;/div&gt;
        
        {/* Show comments section if enabled */}
        {features.enableComments && (
            &lt;section className="comments"&gt;
                &lt;h3&gt;üí¨ Comments&lt;/h3&gt;
                &lt;CommentList /&gt;
            &lt;/section&gt;
        )}
        
        {/* Show sharing buttons if enabled */}
        {features.enableSharing && (
            &lt;div className="share-buttons"&gt;
                &lt;button&gt;Share on Twitter&lt;/button&gt;
                &lt;button&gt;Share on Facebook&lt;/button&gt;
            &lt;/div&gt;
        )}
    &lt;/article&gt;
);</code></pre>
                </div>

                <h3>Pattern 3: Skeleton Screens</h3>
                <div class="card">
                    <h4>Better Than Spinners</h4>
                    <pre><code class="language-typescript">interface ProfileCardProps {
    user: User | null;
    isLoading: boolean;
}

const ProfileCard: React.FC&lt;ProfileCardProps&gt; = ({ user, isLoading }) => {
    // Show skeleton while loading
    if (isLoading) {
        return (
            &lt;div className="profile-card skeleton"&gt;
                &lt;div className="skeleton-avatar"&gt;&lt;/div&gt;
                &lt;div className="skeleton-text skeleton-text-long"&gt;&lt;/div&gt;
                &lt;div className="skeleton-text skeleton-text-short"&gt;&lt;/div&gt;
            &lt;/div&gt;
        );
    }
    
    if (!user) {
        return &lt;div&gt;No user data&lt;/div&gt;;
    }
    
    return (
        &lt;div className="profile-card"&gt;
            &lt;img src={user.avatar} alt={user.name} /&gt;
            &lt;h3&gt;{user.name}&lt;/h3&gt;
            &lt;p&gt;{user.bio}&lt;/p&gt;
        &lt;/div&gt;
    );
};</code></pre>
                </div>

                <h3>Pattern 4: Optimistic UI</h3>
                <div class="card">
                    <h4>Show Changes Before Confirmation</h4>
                    <pre><code class="language-typescript">const LikeButton: React.FC = () => {
    const [isLiked, setIsLiked] = useState(false);
    const [likeCount, setLikeCount] = useState(42);
    const [isPending, setIsPending] = useState(false);
    
    const handleLike = async () => {
        // Optimistic update
        const previousState = isLiked;
        const previousCount = likeCount;
        
        setIsLiked(!isLiked);
        setLikeCount(isLiked ? likeCount - 1 : likeCount + 1);
        setIsPending(true);
        
        try {
            await api.toggleLike();
        } catch (error) {
            // Revert on error
            setIsLiked(previousState);
            setLikeCount(previousCount);
        } finally {
            setIsPending(false);
        }
    };
    
    return (
        &lt;button 
            onClick={handleLike}
            className={isLiked ? 'liked' : 'not-liked'}
            disabled={isPending}
        &gt;
            {isLiked ? '‚ù§Ô∏è' : 'ü§ç'} {likeCount}
        &lt;/button&gt;
    );
};</code></pre>
                </div>

                <h3>Pattern 5: Permission-Based Rendering</h3>
                <div class="card">
                    <h4>Show UI Based on User Permissions</h4>
                    <pre><code class="language-typescript">type Permission = 'read' | 'write' | 'delete' | 'admin';

interface DocumentProps {
    document: Document;
    userPermissions: Permission[];
}

const DocumentView: React.FC&lt;DocumentProps&gt; = ({ document, userPermissions }) => {
    const hasPermission = (permission: Permission) => 
        userPermissions.includes(permission);
    
    return (
        &lt;div className="document"&gt;
            &lt;h1&gt;{document.title}&lt;/h1&gt;
            &lt;p&gt;{document.content}&lt;/p&gt;
            
            &lt;div className="actions"&gt;
                {/* Everyone can read */}
                &lt;button&gt;üìñ View&lt;/button&gt;
                
                {/* Only with write permission */}
                {hasPermission('write') && (
                    &lt;button&gt;‚úèÔ∏è Edit&lt;/button&gt;
                )}
                
                {/* Only with delete permission */}
                {hasPermission('delete') && (
                    &lt;button&gt;üóëÔ∏è Delete&lt;/button&gt;
                )}
                
                {/* Only admins */}
                {hasPermission('admin') && (
                    &lt;button&gt;‚öôÔ∏è Settings&lt;/button&gt;
                )}
            &lt;/div&gt;
        &lt;/div&gt;
    );
};</code></pre>
                </div>
            </section>

            <!-- Section 9: Hands-on Practice -->
            <section id="section9" class="lesson-section">
                <h2>üèãÔ∏è Hands-on Practice</h2>
                <p>Let's put everything together with a comprehensive exercise!</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise: Build a Status Dashboard</h3>
                    <p>Create a dashboard component that displays different states and information based on various conditions.</p>
                    
                    <h4>Requirements:</h4>
                    <ol>
                        <li>Create a <code>StatusDashboard</code> component</li>
                        <li>Show loading state while data fetches</li>
                        <li>Show error state if fetch fails</li>
                        <li>Show empty state if no data</li>
                        <li>Display user info when authenticated</li>
                        <li>Show login prompt when not authenticated</li>
                        <li>Use role-based rendering (admin/user/guest)</li>
                        <li>Include feature flags for optional sections</li>
                    </ol>

                    <h4>Starter Code:</h4>
                    <pre><code class="language-typescript">interface DashboardData {
    user: {
        name: string;
        role: 'admin' | 'user' | 'guest';
        isPremium: boolean;
    } | null;
    stats: {
        posts: number;
        followers: number;
        following: number;
    } | null;
    isAuthenticated: boolean;
    isLoading: boolean;
    error: string | null;
    features: {
        showAnalytics: boolean;
        showNotifications: boolean;
    };
}

const StatusDashboard: React.FC&lt;DashboardData&gt; = (props) => {
    // Your code here!
    
    return (
        &lt;div className="dashboard"&gt;
            {/* Implement conditional rendering */}
        &lt;/div&gt;
    );
};

// Test the component
const App = () => {
    const [dashboardData, setDashboardData] = useState&lt;DashboardData&gt;({
        user: null,
        stats: null,
        isAuthenticated: false,
        isLoading: true,
        error: null,
        features: {
            showAnalytics: true,
            showNotifications: true
        }
    });
    
    return &lt;StatusDashboard {...dashboardData} /&gt;;
};</code></pre>

                    <details>
                        <summary>üí° Hint 1: Structure</summary>
                        <div class="card">
                            <p>Start with early returns for loading and error states:</p>
                            <pre><code class="language-typescript">if (isLoading) return &lt;LoadingView /&gt;;
if (error) return &lt;ErrorView error={error} /&gt;;
if (!isAuthenticated) return &lt;LoginPrompt /&gt;;</code></pre>
                        </div>
                    </details>

                    <details>
                        <summary>üí° Hint 2: Role-Based Content</summary>
                        <div class="card">
                            <p>Use switch or object mapping for role-based rendering:</p>
                            <pre><code class="language-typescript">const roleConfig = {
    admin: { icon: 'üëë', title: 'Admin Dashboard' },
    user: { icon: 'üë§', title: 'User Dashboard' },
    guest: { icon: 'üëã', title: 'Guest Dashboard' }
};

const config = roleConfig[user.role];</code></pre>
                        </div>
                    </details>

                    <details>
                        <summary>‚úÖ Solution</summary>
                        <div class="card">
                            <pre><code class="language-typescript">const StatusDashboard: React.FC&lt;DashboardData&gt; = ({
    user,
    stats,
    isAuthenticated,
    isLoading,
    error,
    features
}) => {
    // Early return: Loading
    if (isLoading) {
        return (
            &lt;div className="dashboard loading"&gt;
                &lt;div className="spinner"&gt;&lt;/div&gt;
                &lt;p&gt;Loading dashboard...&lt;/p&gt;
            &lt;/div&gt;
        );
    }
    
    // Early return: Error
    if (error) {
        return (
            &lt;div className="dashboard error"&gt;
                &lt;h2&gt;‚ùå Error&lt;/h2&gt;
                &lt;p&gt;{error}&lt;/p&gt;
                &lt;button&gt;Retry&lt;/button&gt;
            &lt;/div&gt;
        );
    }
    
    // Early return: Not authenticated
    if (!isAuthenticated || !user) {
        return (
            &lt;div className="dashboard login-prompt"&gt;
                &lt;h2&gt;üîí Login Required&lt;/h2&gt;
                &lt;p&gt;Please log in to view your dashboard.&lt;/p&gt;
                &lt;button&gt;Log In&lt;/button&gt;
            &lt;/div&gt;
        );
    }
    
    // Role configuration
    const roleConfig = {
        admin: {
            icon: 'üëë',
            title: 'Admin Dashboard',
            permissions: ['view-all', 'edit-all', 'delete']
        },
        user: {
            icon: 'üë§',
            title: 'User Dashboard',
            permissions: ['view-own', 'edit-own']
        },
        guest: {
            icon: 'üëã',
            title: 'Guest Dashboard',
            permissions: ['view-limited']
        }
    };
    
    const config = roleConfig[user.role];
    
    // Main dashboard render
    return (
        &lt;div className={`dashboard dashboard-${user.role}`}&gt;
            &lt;header&gt;
                &lt;h1&gt;{config.icon} {config.title}&lt;/h1&gt;
                &lt;p&gt;Welcome back, {user.name}!&lt;/p&gt;
                {user.isPremium && &lt;span className="badge"&gt;‚≠ê Premium&lt;/span&gt;}
            &lt;/header&gt;
            
            {/* Show stats if available */}
            {stats && (
                &lt;section className="stats"&gt;
                    &lt;div className="stat-card"&gt;
                        &lt;h3&gt;{stats.posts}&lt;/h3&gt;
                        &lt;p&gt;Posts&lt;/p&gt;
                    &lt;/div&gt;
                    &lt;div className="stat-card"&gt;
                        &lt;h3&gt;{stats.followers}&lt;/h3&gt;
                        &lt;p&gt;Followers&lt;/p&gt;
                    &lt;/div&gt;
                    &lt;div className="stat-card"&gt;
                        &lt;h3&gt;{stats.following}&lt;/h3&gt;
                        &lt;p&gt;Following&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/section&gt;
            )}
            
            {/* Analytics (feature flag) */}
            {features.showAnalytics && (
                &lt;section className="analytics"&gt;
                    &lt;h2&gt;üìä Analytics&lt;/h2&gt;
                    &lt;p&gt;Your content performance...&lt;/p&gt;
                &lt;/section&gt;
            )}
            
            {/* Notifications (feature flag) */}
            {features.showNotifications && (
                &lt;section className="notifications"&gt;
                    &lt;h2&gt;üîî Notifications&lt;/h2&gt;
                    &lt;p&gt;You have new updates...&lt;/p&gt;
                &lt;/section&gt;
            )}
            
            {/* Admin-only section */}
            {user.role === 'admin' && (
                &lt;section className="admin-tools"&gt;
                    &lt;h2&gt;üõ†Ô∏è Admin Tools&lt;/h2&gt;
                    &lt;button&gt;Manage Users&lt;/button&gt;
                    &lt;button&gt;System Settings&lt;/button&gt;
                &lt;/section&gt;
            )}
            
            {/* Premium-only features */}
            {user.isPremium ? (
                &lt;section className="premium-features"&gt;
                    &lt;h2&gt;‚≠ê Premium Features&lt;/h2&gt;
                    &lt;p&gt;Exclusive content for premium members...&lt;/p&gt;
                &lt;/section&gt;
            ) : (
                &lt;section className="upgrade-prompt"&gt;
                    &lt;h2&gt;‚≠ê Upgrade to Premium&lt;/h2&gt;
                    &lt;p&gt;Unlock exclusive features!&lt;/p&gt;
                    &lt;button&gt;Upgrade Now&lt;/button&gt;
                &lt;/section&gt;
            )}
        &lt;/div&gt;
    );
};</code></pre>
                        </div>
                    </details>
                </div>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Challenge Exercise: Weather App</h3>
                    <p>Build a weather display component with these states:</p>
                    <ul>
                        <li>Loading weather data</li>
                        <li>Location permission denied</li>
                        <li>API error</li>
                        <li>Different displays for sunny/rainy/cloudy/snowy</li>
                        <li>Temperature units toggle (Celsius/Fahrenheit)</li>
                        <li>Show/hide detailed forecast based on user preference</li>
                    </ul>
                    
                    <p><strong>Bonus:</strong> Use all the conditional rendering patterns we learned!</p>
                </div>
            </section>

            <!-- Section 10: Best Practices -->
            <section id="section10" class="lesson-section">
                <h2>‚ú® Best Practices</h2>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h3>‚úÖ Do's</h3>
                    <ul>
                        <li><strong>Use early returns</strong> for edge cases and error states</li>
                        <li><strong>Keep conditions simple</strong> - extract complex logic into functions</li>
                        <li><strong>Use explicit comparisons</strong> (<code>&gt; 0</code>) instead of truthy checks when appropriate</li>
                        <li><strong>Prefer <code>??</code> over <code>||</code></strong> when 0, false, or '' are valid values</li>
                        <li><strong>Use object mapping</strong> instead of switch for configuration-based rendering</li>
                        <li><strong>Extract conditional logic</strong> into well-named functions for readability</li>
                        <li><strong>Handle all states</strong>: loading, error, empty, and success</li>
                        <li><strong>Use TypeScript</strong> to ensure exhaustive checks with union types</li>
                    </ul>
                </div>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h3>‚ùå Don'ts</h3>
                    <ul>
                        <li><strong>Don't nest ternaries</strong> more than 2 levels deep - use early returns instead</li>
                        <li><strong>Don't use && with numbers or counts</strong> without explicit comparison</li>
                        <li><strong>Don't forget null/undefined checks</strong> before accessing properties</li>
                        <li><strong>Don't render "true" or "false"</strong> accidentally - wrap booleans properly</li>
                        <li><strong>Don't over-complicate</strong> - sometimes a simple if/else is best</li>
                        <li><strong>Don't ignore TypeScript warnings</strong> about potential nulls</li>
                        <li><strong>Don't render different component types</strong> in the same condition chain (breaks React's reconciliation)</li>
                    </ul>
                </div>

                <h3>Readability Guidelines</h3>
                <div class="card">
                    <pre><code class="language-typescript">// ‚ùå Hard to read
const Component = ({ a, b, c }) => (
    &lt;div&gt;
        {a && b ? c ? &lt;X /&gt; : &lt;Y /&gt; : a || b ? &lt;Z /&gt; : &lt;W /&gt;}
    &lt;/div&gt;
);

// ‚úÖ Clear and maintainable
const Component = ({ a, b, c }) => {
    if (!a && !b) return &lt;W /&gt;;
    if (a || b) {
        if (!a || !b) return &lt;Z /&gt;;
        return c ? &lt;X /&gt; : &lt;Y /&gt;;
    }
};

// ‚úÖ Even better with named helpers
const Component = ({ a, b, c }) => {
    const hasBasicRequirements = a && b;
    const hasAdvancedFeatures = hasBasicRequirements && c;
    
    if (!a && !b) return &lt;W /&gt;;
    if (!hasBasicRequirements) return &lt;Z /&gt;;
    return hasAdvancedFeatures ? &lt;X /&gt; : &lt;Y /&gt;;
};</code></pre>
                </div>

                <h3>Performance Considerations</h3>
                <div class="card">
                    <h4>üí° Conditional Rendering and Re-renders</h4>
                    <pre><code class="language-typescript">// ‚ùå Creates new functions on every render
const ExpensiveComponent = ({ showDetails }) => (
    &lt;div&gt;
        {showDetails && heavyComputation()}  {/* Runs every render! */}
    &lt;/div&gt;
);

// ‚úÖ Compute conditionally
const ExpensiveComponent = ({ showDetails }) => {
    const details = showDetails ? heavyComputation() : null;
    
    return (
        &lt;div&gt;
            {details && &lt;div&gt;{details}&lt;/div&gt;}
        &lt;/div&gt;
    );
};

// ‚úÖ Or use early return
const ExpensiveComponent = ({ showDetails }) => {
    if (!showDetails) {
        return &lt;div&gt;Basic view&lt;/div&gt;;
    }
    
    const details = heavyComputation();
    return &lt;div&gt;{details}&lt;/div&gt;;
};</code></pre>
                </div>

                <h3>TypeScript Exhaustiveness Checking</h3>
                <div class="card">
                    <h4>Ensure All Cases Are Handled</h4>
                    <pre><code class="language-typescript">type Status = 'idle' | 'loading' | 'success' | 'error';

const StatusDisplay: React.FC&lt;{ status: Status }&gt; = ({ status }) => {
    switch (status) {
        case 'idle':
            return &lt;div&gt;Ready&lt;/div&gt;;
        case 'loading':
            return &lt;div&gt;Loading...&lt;/div&gt;;
        case 'success':
            return &lt;div&gt;Success!&lt;/div&gt;;
        case 'error':
            return &lt;div&gt;Error!&lt;/div&gt;;
        default:
            // TypeScript will error if we're missing a case!
            const _exhaustive: never = status;
            return &lt;div&gt;Unknown status&lt;/div&gt;;
    }
};</code></pre>
                </div>
            </section>

            <!-- Section 11: Summary -->
            <section id="section11" class="lesson-section">
                <h2>üìö Summary</h2>
                
                <div class="card">
                    <h3>What You Learned</h3>
                    <p>Congratulations! You now know all the essential conditional rendering patterns in React:</p>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>Pattern</th>
                                <th>Syntax</th>
                                <th>Best For</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>If/Else</strong></td>
                                <td><code>if (condition) return &lt;A /&gt;; else return &lt;B /&gt;;</code></td>
                                <td>Simple binary conditions outside JSX</td>
                            </tr>
                            <tr>
                                <td><strong>Ternary</strong></td>
                                <td><code>{condition ? &lt;A /&gt; : &lt;B /&gt;}</code></td>
                                <td>Inline either/or rendering in JSX</td>
                            </tr>
                            <tr>
                                <td><strong>&& Operator</strong></td>
                                <td><code>{condition && &lt;Component /&gt;}</code></td>
                                <td>Show/hide single elements</td>
                            </tr>
                            <tr>
                                <td><strong>|| Operator</strong></td>
                                <td><code>{value || 'default'}</code></td>
                                <td>Fallback values</td>
                            </tr>
                            <tr>
                                <td><strong>?? Operator</strong></td>
                                <td><code>{value ?? 'default'}</code></td>
                                <td>Fallback when null/undefined</td>
                            </tr>
                            <tr>
                                <td><strong>Switch</strong></td>
                                <td><code>switch(value) { case 'a': ... }</code></td>
                                <td>Multiple distinct conditions</td>
                            </tr>
                            <tr>
                                <td><strong>Early Return</strong></td>
                                <td><code>if (error) return &lt;Error /&gt;;</code></td>
                                <td>Edge cases and guard clauses</td>
                            </tr>
                            <tr>
                                <td><strong>Object Map</strong></td>
                                <td><code>config[type]</code></td>
                                <td>Configuration-based rendering</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h3 style="color: white;">üéØ Key Takeaways</h3>
                    <ul style="color: white;">
                        <li><strong>Choose the right tool:</strong> Each pattern has its best use case</li>
                        <li><strong>Readability matters:</strong> Use early returns to avoid deep nesting</li>
                        <li><strong>Handle all states:</strong> Loading, error, empty, and success</li>
                        <li><strong>Be explicit:</strong> Use <code>&gt; 0</code> instead of truthy checks for numbers</li>
                        <li><strong>Use TypeScript:</strong> Exhaustive checking prevents missing cases</li>
                        <li><strong>Think about UX:</strong> Every state should have appropriate UI feedback</li>
                    </ul>
                </div>

                <h3>Common Conditional Patterns Cheatsheet</h3>
                <div class="card">
                    <pre><code class="language-typescript">// Loading state
if (isLoading) return &lt;Spinner /&gt;;

// Error state
if (error) return &lt;ErrorMessage error={error} /&gt;;

// Empty state
if (items.length === 0) return &lt;EmptyState /&gt;;

// Authenticated vs Unauthenticated
if (!isAuthenticated) return &lt;LoginPrompt /&gt;;

// Permissions
if (!hasPermission) return &lt;AccessDenied /&gt;;

// Feature flags
{featureEnabled && &lt;NewFeature /&gt;}

// Null checks
{user?.profile && &lt;ProfileCard profile={user.profile} /&gt;}

// Fallback values
&lt;p&gt;{username ?? 'Anonymous'}&lt;/p&gt;

// Multiple conditions
{isVisible && !isDisabled && &lt;Button /&gt;}

// Either/or
{isPremium ? &lt;PremiumFeatures /&gt; : &lt;UpgradePrompt /&gt;}</code></pre>
                </div>

                <h3>Practice Checklist</h3>
                <div class="card">
                    <p>Make sure you can:</p>
                    <ul>
                        <li>‚úÖ Use if/else statements for early returns</li>
                        <li>‚úÖ Write inline ternaries in JSX</li>
                        <li>‚úÖ Use && operator without falsy value bugs</li>
                        <li>‚úÖ Choose between || and ?? appropriately</li>
                        <li>‚úÖ Implement switch statements or object mapping</li>
                        <li>‚úÖ Handle loading, error, and empty states</li>
                        <li>‚úÖ Write clean, readable conditional code</li>
                        <li>‚úÖ Avoid common conditional rendering pitfalls</li>
                    </ul>
                </div>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üöÄ What's Next?</h3>
                    <p>In the next lesson, we'll tackle the <strong>Module 3 Project</strong>, where you'll build a fully functional Todo Application that combines everything you've learned:</p>
                    <ul>
                        <li>useState for managing todo state</li>
                        <li>Forms for adding new todos</li>
                        <li>Lists for displaying todos</li>
                        <li>Conditional rendering for loading, empty, and error states</li>
                        <li>Filter controls (All, Active, Completed)</li>
                    </ul>
                    <p>Get ready to put all your skills together! üí™</p>
                </div>
            </section>

            <!-- Lesson Navigation -->
            <div class="lesson-nav">
                <a href="lesson_3_4_lists_and_keys.html" class="prev-lesson">‚Üê Previous: Lists and Keys</a>
                <a href="index.html" class="home-link">üè† Home</a>
                <a href="module_project_3_todo_app.html" class="next-lesson">Next: Module Project - Todo App ‚Üí</a>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2025 React TypeScript Course. All rights reserved.</p>
            <p>
                <a href="index.html">Home</a> |
                <a href="index.html#modules">All Modules</a> |
                <a href="https://react.dev" target="_blank">React Docs</a> |
                <a href="https://www.typescriptlang.org/docs/" target="_blank">TypeScript Docs</a>
            </p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/clipboard.js"></script>
    <script src="js/course-enhancements.js"></script>
</body>
</html>
